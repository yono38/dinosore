/*! dinosore 27-11-2013 */
function normalizeTable(a,b){var c,d,e=[],f=[],g=$(a).find("thead tr").children(),h=$(a).find("tbody").children();for(c=0;c<g.length;c++)f[c]=g[c].textContent.replace(/\s/g,"_").replace("?","");var i;for(c=0;c<h.length;c++){i={};var j=$(h[c]).children();for(d=0;d<j.length;d++)b&&4==d?i[f[d]]=normalizeTable($(j[d]).find("list item table")):""!==j[d].textContent&&(i[f[d]]=j[d].textContent);e.push(i)}return e}function FastClick(a){"use strict";var b,c=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=a,!a||!a.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(c,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(c,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(c,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(c,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(c,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(c,arguments)},FastClick.notNeeded(a)||(this.deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;"click"===b?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;"click"===b?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),"function"==typeof a.onclick&&(b=a.onclick,a.addEventListener("click",function(a){b(a)},!1),a.onclick=null))}function Player(){}function Song(){}window.$dino.Allergy=Backbone.Model.extend({idAttribute:"_id",defaults:{user:Parse.User.current().id,title:""},urlRoot:$dino.apiRoot+"/allergies"}),window.$dino.AllergyList=Backbone.Collection.extend({model:$dino.Allergy,url:$dino.apiRoot+"/allergies"}),window.$dino.Appointment=Backbone.Model.extend({idAttribute:"_id",defaults:{date:moment().unix(),type:"Appointment",title:"",notes:"",doctor:{id:"No Doctor"},condition:{id:"None"}},urlRoot:$dino.apiRoot+"/appointments"}),window.$dino.AppointmentList=Backbone.Collection.extend({model:$dino.Appointment,url:$dino.apiRoot+"/appointments"}),window.$dino.Bug=Backbone.Model.extend({idAttribute:"_id",urlRoot:$dino.apiRoot+"/bugs",defaults:{status:"Active",details:"",title:"",symptom:[],doctor:{title:""},medication:[]}}),window.$dino.BugList=Backbone.Collection.extend({model:$dino.Bug,url:$dino.apiRoot+"/bugs"}),window.$dino.Color=Backbone.Model.extend({idAttribute:"_id",urlRoot:$dino.apiRoot+"/colors"}),window.$dino.ColorList=Backbone.Collection.extend({model:$dino.Color,url:$dino.apiRoot+"/colors",comparator:function(a){return a.get("color")}}),window.$dino.Doctor=Backbone.Model.extend({defaults:{title:"New Doctor"},idAttribute:"_id",urlRoot:$dino.apiRoot+"/doctors"}),window.$dino.DoctorList=Backbone.Collection.extend({model:$dino.Doctor,url:$dino.apiRoot+"/doctors"}),window.$dino.Medication=Backbone.Model.extend({defaults:{title:"New Medication",count:0},idAttribute:"_id",urlRoot:$dino.apiRoot+"/medications"}),window.$dino.MedicationList=Backbone.Collection.extend({model:$dino.Medication,url:$dino.apiRoot+"/medications"}),window.$dino.PlusOne=Backbone.Model.extend({defaults:{date:moment().unix()},idAttribute:"_id",urlRoot:$dino.apiRoot+"/plusones"}),window.$dino.PlusOneList=Backbone.Collection.extend({model:$dino.PlusOne,comparator:"date",url:$dino.apiRoot+"/plusones"}),window.$dino.Symptom=Backbone.Model.extend({defaults:{title:"New Symptom",count:0},idAttribute:"_id",urlRoot:$dino.apiRoot+"/symptoms"}),window.$dino.SymptomList=Backbone.Collection.extend({model:$dino.Symptom,url:$dino.apiRoot+"/symptoms"}),window.$dino.User=Backbone.Model.extend({urlRoot:$dino.apiRoot+"/users"}),window.$dino.AppointmentCalendarView=Backbone.View.extend({initialize:function(a){this.collection=a.collection,this.template=_.template($dino.tpl.get("appointment-calendar")),this.apptItems=[];var b=this;a.debug?this.buildHighDates():this.collection.fetch({data:{user:Parse.User.current().id},success:function(){b.buildHighDates(),b.loadTodayAppt()}}),this.collection.bind("destroy",this.refreshAppts,this),_.bindAll(this,"buildHighDates","refreshAppts","changeDate")},buildHighDates:function(a){this.highDates={};for(var b=0;b<this.collection.length;b++){var c=moment.unix(this.collection.models[b].get("date")).format("YYYY-MM-DD");this.highDates[c]=this.highDates[c]?_.union(this.highDates[c],[b]):[b]}a&&this.$("#mydate").datebox({highDates:_.keys(this.highDates)}).datebox("refresh")},events:{"click .ui-datebox-griddate.ui-corner-all":"hideEmptyAppt","click .has-appt":"showAppts",datebox:"changeDate","click #addApptBtn":"newAppt"},loadTodayAppt:function(){this.changeDate(null,{method:"set",value:moment().format("YYYY-MM-DD")})},loadApptItem:function(a){var b=moment.unix(a.get("date")),c=this,d=a.get("doc");if("none"!=d){var e=new $dino.Doctor;e.id=a.doc,e.fetch({data:{_id:d},success:function(){var d=(_.extend(a.toJSON(),{time:b.format("LT")}),new $dino.AppointmentListItemView({model:a,template:"appointment-item"}));c.apptItems.push(d),c.$("#dayAppts").append(d.render().el),c.$("#dayAppts").show(),c.$("#noAppt").hide(),d.$el.trigger("indom"),c.$("#dayAppts").listview(),c.$("#dayAppts").listview("refresh")},error:function(){console.log("failed to retrieve doctor")}})}else{var f=_.extend(a.toJSON(),{time:b.format("LT")});console.log(f);var g=new $dino.AppointmentListItemView({model:a,template:"appointment-item"});this.apptItems.push(g),c.$("#dayAppts").append(g.render().el),this.$("#dayAppts").show(),g.$el.trigger("indom"),c.$("#dayAppts").listview(),c.$("#dayAppts").listview("refresh")}},changeDate:function(a,b){var c=!1;b.value||(c=!0),b.value=b.value||$("#currDate").text();if("set"===b.method||"postrefresh"==b.method&&!this.firstDateAlreadyCalled){var d=this.highDates[b.value]||[];if(d.length>0){var e;for(this.$("#dayAppts").empty(),this.$("#dayAppts").show(),this.$("#noAppt").hide(),e=0;e<d.length;e++)this.loadApptItem(this.collection.models[d[e]])}c||this.$("#currDate").html(moment(b.value).format("dddd, MMMM Do YYYY")),this.currDate=b.value,this.firstDateAlreadyCalled=!0}else a.stopPropagation()},loadDatebox:function(a){var b=this,c=$.isNumeric(a)?a:1;setTimeout(function(){return c>=10?(console.log("failed to load"),b.$("#dateBoxLoading").html('<h2 class="fancyFont">Appointments failed to load</h2>'),void 0):(b.highDates?(b.$("#dateBoxLoading").hide(),b.$("#mydate").datebox({mode:"calbox",highDates:_.keys(b.highDates),themeDateHigh:"b",theme:"a",useInline:!0,useImmediate:!0,hideInput:!0,calHighToday:!1})):(c++,b.loadDatebox(c)),void 0)},200)},hideEmptyAppt:function(){$("#dayAppts").hide(),$("#noAppt").show()},newAppt:function(a){a&&a.preventDefault();var b="";this.currDate&&(b="?"+this.currDate,console.log(this.currDate)),$dino.app.navigate("appts/add"+b,{trigger:!0})},refreshAppts:function(){console.log(this),this.buildHighDates(!0),this.changeDate(null,{method:"set",value:this.$("#mydate").val()})},addAppt:function(a){a.preventDefault();var b="";this.currDate&&(b="?date="+this.currDate,console.log(this.currDate)),$dino.app.navigate("#appts/add"+b,{trigger:!0}),$(".hasDatepicker").hide()},showAppts:function(){setTimeout(function(){$("#dayAppts").show(),$("#noAppt").hide()},2)},render:function(){this.$el.html(this.template({today:moment().format("dddd, MMMM Do YYYY")}));var a=this;return this.loadDatebox(1),setTimeout(function(){$(".ui-input-text.ui-shadow-inset").css({border:"none","box-shadow":"none"})},100),this.$("#checkbox-6").on("checkboxradiocreate",function(){$(this).bind("click",a.addAppt)}),this}}),window.$dino.AppointmentListItemView=$dino.ListItemView.extend({initialize:function(a){$dino.ConditionListItemView.__super__.initialize.call(this,a);var b=moment.unix(this.model.get("date"));this.model.set("time",b.format("LT")),console.log(this.model.toJSON()),this.swiperHeight=this.calcHeight(),this.name="appointment"},events:{click:"dontclick",indom:"makeSwiper","click .removeItem":"confirmDelete","click .modifyItem":"modifyAppt"},modifyAppt:function(a){a&&a.preventDefault(),$dino.app.navigate("appts/"+this.model.id+"/modify",{trigger:!0})},calcHeight:function(){var a=[50,85,105,120],b=0;return"No Doctor"!=this.model.get("doctor").id&&b++,"None"!=this.model.get("condition").id&&b++,a[b]+"px"},attributes:{"data-theme":"f","data-icon":"false"}}),window.$dino.AppointmentNewView=$dino.NewFormView.extend({afterInitialize:function(a){this.model=this.model||new $dino.Appointment,a.defaultDate&&(this.defaultDate=a.defaultDate),this.template=_.template($dino.tpl.get("appointment-new")),this.first=!0,_.bindAll(this,"setCondition","setDoctor"),this.events=_.extend({},$dino.NewFormView.prototype.events,this.events)},events:{"click #addBtn":"addAppt","change #select-condition":"setCondition","change #select-doctor":"setDoctor"},setCondition:function(){var a=this.$("#select-condition option:selected"),b={id:a.val(),title:a.text()};this.model.set("condition",b)},setDoctor:function(){var a=this.$("#select-doctor option:selected");if("add-new-item"!=a.val()){var b={id:a.val(),title:a.text()};this.model.set("doctor",b)}},validateAppt:function(){this.$("#error-msg").empty();{var a=this.$("#appt-title").val();this.$("#appt-title").parent()}return""===a?(this.$("#error-msg").html("Don't forget to make a title!"),!1):!0},addAppt:function(a){a.preventDefault(),this.validateAppt()&&(this.model.set("title",this.$("#appt-title").val()),this.model.set("user",Parse.User.current().id),this.model.set("type",this.$("#select-type").val()),this.model.set("notes",this.$("#appt-notes").val()),this.model.set("date",moment($("#appt-date").val()+" "+$("#appt-time").val()).unix()),console.log(this.model.toJSON()),this.model.save(null,{success:function(a){console.log("Appt saved: "+a.id),$dino.app.navigate("appts",{trigger:!0})},error:function(a,b){console.log("Failed to save appt, error: "+b.description),console.log(b)}}))},preventDefault:function(a){a.preventDefault()},render:function(){var a=this.model.get("date");return this.$el.html(this.template(_.extend(this.model.toJSON(),{header:this.header,day:this.defaultDate||moment.unix(a).format("YYYY-MM-DD"),time:moment.unix(a).format("HH:mm:ss")}))),this.first?(this.first=!1,this.conditionList=new $dino.BugList,this.loadList(this.conditionList,"#select-condition","condition",!0),this.doctorList=new $dino.DoctorList,this.loadList(this.doctorList,"#select-doctor","doctor")):reload&&(this.makeList(this.conditionList,"#select-condition","condition",!0),this.makeList(this.doctorList,"#select-doctor","doctor")),$(".ui-page").trigger("pagecreate"),this.resetMenu("#select-type",this.model.get("type")),console.log(this.model.get("condition").id),this}}),window.$dino.BugDetailView=Backbone.View.extend({initialize:function(){this.template=_.template($dino.tpl.get("condition-details"))},loadAppts:function(){var a=new $dino.AppointmentList;a.fetch({data:{user:Parse.User.current().id},success:function(a){console.log(a.toJSON());var b=_.template($dino.tpl.get("appointment-list-item"));a.each(function(a){console.log(a);var c=_.extend(a.toJSON(),{time:moment(a.date).format("MM/DD")}),d=b(c);console.log(d),this.$("#appointment-list").append(d)})}})},render:function(){var a=_.defaults(this.model.toJSON(),{bugDetails:"",symptom:[],medication:[]});return $(this.el).html(this.template(a)),this.loadAppts(),this}}),window.$dino.BugListView=$dino.PlusListView.extend({afterInitialize:function(){this.bugCollection=new $dino.BugList,_.bindAll(this,"intro")},events:{"click #intro-test":"intro","click .new-item":"dontClick","click #new-symptom-padding":"newSymptom","click #new-condition-padding":"newCondition",pageinit:"loadedPage"},intro:function(a){a.preventDefault(),$dino.app.navigate("intro",{trigger:!0})},createAddButton:function(){this.placeholder="Symptom",this.addingBtn=new $dino.PlusListAddButtonView({addText:"Symptom",elId:"new-symptom-padding"}),this.$(".ui-block-a").html(this.addingBtn.render().el),this.addingBtn.bind("toggle",this.newItem,this)},newSymptom:function(){this.adding.symptom=!this.adding.symptom},newCondition:function(){$dino.app.navigate("bugs/add",{trigger:!0})},renderList:function(){if(!this.debug){var a=this;return this.$(".loading").show(),this.$("#myList").html('<img class="loading" src="css/images/ajax-loader.gif" style="margin-left:50%;padding-top:15px;" alt="loading..." />'),this.$("#retiredList").empty(),this.$("#activeConditionList").empty(),this.bugCollection.fetch({data:{user:Parse.User.current().id},success:function(b){this.$(".loading").hide(),b.comparator=a.sortList,b.sort();for(var c=b.length-1;c>=0;c--){var d=b.models[c];a.addOne(d,"bug")}a.pageloaded&&(a.$("#activeConditionList").listview("refresh"),a.$("#myList").listview("refresh"),a.$("#retiredList").listview("refresh"))},error:function(){$dino.fail404()}}),this.collection.fetch({data:{user:Parse.User.current().id},success:function(b){if(this.$(".loading").hide(),0!==b.length){b.comparator=a.sortList,b.sort();for(var c=b.length-1;c>=0;c--)a.addOne(b.models[c],"symptom");a.loading||(a.$("#activeConditionList").listview(),a.$("#activeConditionList").listview("refresh"),a.$("#myList").listview(),a.$("#myList").listview("refresh"),a.$("#retiredList").listview(),a.$("#retiredList").listview("refresh"))}},error:function(){$dino.fail404()}}),this}},addOne:function(a,b){var c,d="#myList";if("symptom"==b)c=new $dino.SymptomListItemView({model:a}),d=a.get("retired")===!0?"#retiredList":"#myList",this.$(d).append(c.render().el);else{if("bug"!=b)return console.log("Invalid type: "+b),void 0;c=new $dino.ConditionListItemView({model:a}),d="In Remission"==a.get("status")||"Retired"==a.get("status")?"#retiredList":"#myList",this.$(d).prepend(c.render().el)}c.$el.trigger("indom"),c.bind("renderlist",this.renderList)}}),window.$dino.BugListItemView=Backbone.View.extend({tagName:"li",initialize:function(){this.template=_.template($dino.tpl.get("bug-list-item")),this.model.bind("change",this.render,this);var a=this.model.get("color");a&&this.setColor(a),this.model.bind("destroy",this.close,this),_.bindAll(this,"setColor","destroy")},setColor:function(a){console.log(a);var b=$dino.colors[a];this.$el.attr("style","background:#"+b.hex)},destroy:function(){this.unbind(),this.remove()},render:function(){this.model.toJSON();return this.$el.html(this.template(this.model.toJSON())),this}}),window.$dino.DialogDeleteView=Backbone.View.extend({initialize:function(a){this.template=_.template($dino.tpl.get("delete-confirm")),this.$el.attr("data-theme","a"),this.parentView=a.parentView},events:{"click #cancel":"destroy","click #yes":"deleteItem"},deleteItem:function(){var a=this;this.model.destroy({success:function(){a.destroy()},error:function(b,c){"OK"==c.statusText?a.destroy():console.log("error ",c,b)}})},className:"ui-content",id:"confirm",open:function(){this.$el.popup(),this.$el.popup("open"),this.$("#yes").button(),this.$("#cancel").button()},destroy:function(){this.$("#yes").remove(),this.$("#cancel").remove(),this.unbind(),this.remove(),console.log("triggering delete on dialog")},render:function(){this.$el.html(this.template())}}),window.$dino.ListItemView=Backbone.View.extend({tagName:"li",initialize:function(a){this.name=a.name,this.swiperHeight=a.swiperHeight||"45px";var b=a.template||"list-item";this.template=_.template($dino.tpl.get(b)),a.click||this.$el.on("click",this.dontclick),this.model.bind("remove",this.destroy,this),_.bindAll(this,"remove","destroy","hidePlus","retireItem")},events:{"click .plus-one":"clickPlus","dblclick #item-detail":"openDetails",indom:"makeSwiper","click .removeItem":"confirmDelete","click .retireItem":"retireItem"},setRetiredTheme:function(){var a=this.model.get("status");("In Remission"==a||"Retired"==a)&&(console.log("changing theme"),this.$el.attr("data-theme","d"))},retireItem:function(a){a.preventDefault();var b=this;this.$(".retireItem").data("retired")===!0?(console.log("reactivate this item"),this.model.set("retired",!1),this.model.save()):(console.log("retire this item"),this.model.set("retired",!0)),this.model.save(null,{success:function(){console.log("model saved"),b.trigger("renderlist")}})},makeSwiper:function(a,b){b=b||!0,this.mySwiper=this.$(".swiper-container").swiper({noSwiping:b,onSlideChangeEnd:this.hidePlus,calculateHeight:!1}),this.$(".swiper-slide").css("height","100%"),this.$(".swiper-wrapper").css("height",this.swiperHeight)},hidePlus:function(a){console.log(a),console.log(this),1==a.activeIndex?this.$(".plus-one").hide():this.$(".plus-one").show()},dontclick:function(a){a.preventDefault()},openDetails:function(a){a.preventDefault(),console.log("opening detail page")},addBubble:function(a,b){this.$(".added-bubble").length<1&&this.$(a).append('<span data-count-theme="c" class="ui-li-count ui-btn-up-c ui-btn-corner-all added-bubble">'+b+"</span>"),this.$(".added-bubble").show(),this.$(".added-bubble").fadeToggle(3e3)},confirmDelete:function(){this.settingSeverity||(this.deleteDialog=new $dino.DialogDeleteView({model:this.model,parentView:this}),this.deleteDialog.render(),this.$el.append(this.deleteDialog),this.deleteDialog.open())},clickPlus:function(a){a&&a.preventDefault();var b=this;this.model.set("count",this.model.get("count")+1),this.model.save(),this.plusOne=new $dino.PlusOne,this.plusOne.save({item:b.model.id,type:b.name,user:Parse.User.current().id},{success:function(){b.addBubble(".item-title","+1")}})},destroy:function(){console.log("calling destroy on listitem"),this.unbind(),this.remove&&(console.log("removing"),this.remove(),this.model.trigger("refreshList"))},render:function(){var a=this.model.get("title");return this.$el.html(this.template(_.extend(this.model.toJSON(),{title:a.length>30?a.substr(0,27)+"...":a,type:this.name,retired:this.model.get("retired")||!1}))),this.model.get("retired")===!0&&this.$el.attr("data-theme","d"),this}}),window.$dino.ListNewView=Backbone.View.extend({tagName:"li",initialize:function(a){this.template=_.template($dino.tpl.get("list-new")),this.modelType=a.modelType,this.header=a.header;var b=a.options||{};this.options=_.defaults(b,{item:"#new-item",padding:"#new-item-padding",adder:this.adding,text:"Item"})},events:{click:"noClick","click .add-one":"createNew","keypress #newItemInput":"addOnEnter"},noClick:function(a){a.preventDefault()},destroy:function(){this.unbind(),this.remove()},addOnEnter:function(a){13==a.keyCode&&this.createNew()},focus:function(){$(this.el).focus()},createNew:function(a){if(a&&a.preventDefault(),""!==this.$("#newItemInput").val()){var b=new this.modelType({user:Parse.User.current().id,title:this.$("#newItemInput").val()}),c=this;b.save(null,{success:function(){console.log("item saved! great job!"),c.trigger("newItem",null,this.options),c.remove()},error:function(){console.log("item failed to save")}})}},render:function(){return $(this.el).html(this.template({type:this.header})),this}}),window.$dino.NewFormView=Backbone.View.extend({initialize:function(a){a=a||{},this.template=a.tpl?_.template($dino.tpl.get(a.tpl)):_.template($dino.tpl.get("condition-new")),this.header=a.header||"New",this.model=this.model,this.debounceSaveTextInput=_.debounce(this.saveTextInput,2e3),_(this).bindAll("deleteItem","makeList"),this.afterInitialize&&this.afterInitialize(a)},events:{"click .add_detail_item":"addItem","click .delete_detail_item":"deleteItemEvent","click .new-item":"preventDefault","keyup .text-input":"debounceSaveTextInput","change select":"checkForAddNew","click .add-btn-padding":"addNewItem","click .cancel-btn-padding":"cancelNewItem"},validTypes:["condition","symptom","doctor","medication"],addNewItem:function(a,b){a&&a.preventDefault();var c=this;b=b||$(a.currentTarget).data("type");var d=this.$("#new-"+b+"-input").val();if(console.log(b,d),""!==d&_.contains(this.validTypes,b)){console.log("Add to collection: ",b,d);var e=new($dino[b.toTitleCase()]);e.set({title:d,user:Parse.User.current().id}),e.save(null,{success:function(a){console.log(a.id),"doctor"==b&&c.loadList(c.doctorList,"#select-doctor","doctor");var d={id:a.id,title:a.get("title"),type:b};console.log(d),c.addItem(null,d)}})}},cancelNewItem:function(a,b){a&&a.preventDefault(),b=b||$(a.currentTarget).data("type"),_.contains(this.validTypes,b)&&(this.resetMenu("#select-"+b),this.$("#"+b+"-new-group").hide(),this.$("#"+b+"-list-bar").show())},resetMenu:function(a,b){b=b||"default",console.log("reset",a);var c=this.$(a);c.val(b).attr("selected",!0).siblings("option").removeAttr("selected");try{c.selectmenu("refresh",!0)}catch(d){console.log(d)}},preventDefault:function(a){a.preventDefault()},saveTextInput:function(){this.model.set({title:$("#condition-title").val(),details:$("#condition-details").val()}),this.liveSave?this.model.save({},{success:function(){console.log("text input saved"),$("#savePopup").show().delay(2e3).fadeOut()}}):console.log("model updated")},deleteItemEvent:function(a){a.preventDefault(),console.log(this);var b=$(a.currentTarget).attr("data-type"),c=$(a.currentTarget).attr("data-id");this.deleteItem(this.model,b,c,!0)},deleteItem:function(a,b,c){console.log(b,c);var d=a.get(b);d=_.filter(d,function(a){return a.id!=c}),a.set(b,d),this.render(!0)},addItem:function(a,b){var c,d,e;if(a)c=$(a.currentTarget).data("type"),d=this.$("#select-"+c).val(),e=this.$("#select-"+c+" option:selected").text();else{if(!b)return console.log("Error: invalid addItem call"),void 0;c=b.type,d=b.id,e=b.title}if("doctor"==c)return this.addNewDoctor(d,e),void 0;if(d&&""!==d){var f=this.model.get(c);f||(f=[]);var g=this;f.push({title:e,id:d}),this.model.set(c,f),console.log(this.model.toJSON()),g.first=!0,g.render()}},addNewDoctor:function(a,b){var c={title:b,id:a};this.model.set("doctor",c),this.cancelNewItem(null,"doctor"),console.log(a),this.resetMenu("#select-doctor",a)},loadList:function(a,b,c,d){var e=this;a.fetch({data:{user:Parse.User.current().id},success:function(a){"doctor"==c&&console.log(a),e.makeList(a,b,c,d)},error:function(a,b){console.log(b)}})},checkForAddNew:function(a){var b=$("option:selected",a.currentTarget);"add-new-item"==b.val()&&""!==b.data("type")&&b.data("new")===!0&&this.showNewItemInput(b.data("type"))},showNewItemInput:function(a){_.contains(["symptom","doctor","medication"],a)&&($("#new-"+a+"-input").val(""),$("#"+a+"-new-group").show(),$("#"+a+"-list-bar").hide())},filterCollection:function(a,b,c){try{var d=_.map(this.model.get(c),function(a){return a.id});console.log(d);var e=a.filter(function(a){return!_.contains(d,a.id)});_(e).each(function(a){that.$(b).append('<option value="'+a.id+'">'+a.get("title")+"</li>")})}catch(f){console.log(f)}},makeList:function(a,b,c,d){c=c||"";var e=this;if(console.log("running makelist on "+b),e.$(b).empty(),c&&"doctor"!=c&&"condition"!=c&&this.model.get(c)&&0!==this.model.get(c).length)console.log(this.model.toJSON()),console.log(c),this.filterCollection(a,b,c);else if("doctor"==c){var f,g=e.model.get("doctor").id;a.each(function(a){e.$(b).append("<option "+f+' value="'+a.id+'">'+a.get("title")+"</li>")}),this.resetMenu("#select-doctor",g)}else a.each(function(a){e.$(b).append('<option value="'+a.id+'">'+a.get("title")+"</li>")});"condition"==c&&this.resetMenu("#select-condition",this.model.get("condition").id),d||this.$(b).append('<option data-new="true" data-type="'+c+'" value="add-new-item">Add New</li>')}}),window.$dino.PlusListView=Backbone.View.extend({initialize:function(a){_.extend(this,a),this.template=a.template||_.template($dino.tpl.get("list-view")),_.bindAll(this,"render","renderList","addItemToList"),this.collection.bind("refreshList",this.refreshList,this),this.clickItems=a.clickItems,this.adding=!1,this.loading=!0,this.afterInitialize&&this.afterInitialize(a)},refreshList:function(){this.loading||(this.$("#myList").listview("refresh"),this.$("#retiredList").listview("refresh"))},sortList:function(a){return-a.get("count")},events:{pageinit:"loadedPage","click #intro-test":"dontClick"},loadedPage:function(){this.loading=!1},dontClick:function(a){console.log("click prevented"),a.preventDefault()},addItemToList:function(a){a&&a.preventDefault(),this.newListItem&&(this.newListItem.remove(),this.newListItem=null),this.addingBtn.adding=!1,this.addingBtn.render(),this.renderList()},newItem:function(){if(console.log(this.addingBtn),this.addingBtn.adding){var a={modelType:this.modelType,header:this.placeholder||this.header};this.newListItem=new $dino.ListNewView(a),this.newListItem.bind("newItem",this.addItemToList),this.$("#myList").prepend(this.newListItem.render().el),this.$("#myList").listview("refresh"),this.$("#newItemInput").textinput().focus()}else this.newListItem&&(this.newListItem.remove(),this.newListItem=null)},addOne:function(a){var b=new $dino.ListItemView({model:a,name:this.name,click:this.clickItems}),c="#myList";a.get("retired")===!0?(console.log("appending retired"),this.$(c).append(b.render().el)):(console.log("prepending active"),this.$(c).prepend(b.render().el)),b.$el.trigger("indom"),b.bind("renderlist",this.renderList)},renderList:function(){var a=this;this.$("#myList").html('<img src="css/images/ajax-loader.gif" style="margin-left:50%;padding-top:15px;" alt="loading..." />');var b=this.fetchData||{user:Parse.User.current().id};return this.collection.fetch({data:b,success:function(b){if(this.$("#myList").empty(),0!==b.length){b.comparator=a.sortList,b.sort();for(var c=0;c<b.length;c++)a.addOne(b.models[c]);a.loading||(a.$("#myList").listview(),a.$("#myList").listview("refresh"),a.$("#retiredList").listview(),a.$("#retiredList").listview("refresh"))}},error:function(){$dino.fail404()}}),this},createAddButton:function(){this.addingBtn=new $dino.PlusListAddButtonView({debug:this.debug}),this.$("#addButton").html(this.addingBtn.render().el),this.addingBtn.bind("toggle",this.newItem,this)},render:function(){return this.$el.html(this.template({header:this.header})),this.addingBtn||this.createAddButton(),this.renderList(this.first),this.first=!1,this}}),window.$dino.PlusListAddButtonView=Backbone.View.extend({className:"new-item-padding ui-bar ui-bar-f",tagName:"div",templateStr:'<a href="#" data-role="button" data-iconshadow="false" data-inline="true" class="new-item ui-icon-alt ui-icon-nodisc" data-icon="plus" data-theme="f"><%= btnText %></a>',initialize:function(a){this.adding=!1,a=a||{},this.addText=a.addText||"Add",this.cancelText=a.cancelText||"Cancel",this.template=_.template(this.templateStr),this.debug=a.debug,this.id=a.elId||"#new-item",_.bindAll(this,"render","toggle")},events:{click:"toggle","click .new-item":"dontClick"},toggle:function(){this.adding=!this.adding,this.render(!0),this.trigger("toggle")},toggleButton:function(a){a?(this.$(".new-item").addClass("cancelBtn"),this.$el.addClass("cancelBtn")):(this.$(".new-item").removeClass("cancelBtn"),this.$el.removeClass("cancelBtn"));var b=a?"delete":"plus";this.$(".new-item").buttonMarkup({icon:b})},dontClick:function(a){a.preventDefault()},render:function(){var a={btnText:this.adding?this.cancelText:this.addText};return this.debug||this.$el.html(this.template(a)),this.toggleButton(this.adding),this}}),window.$dino.ConditionListItemView=$dino.ListItemView.extend({initialize:function(){$dino.ConditionListItemView.__super__.initialize.call(this,{name:"condition"}),this.template=_.template($dino.tpl.get("condition-list-item")),this.debounceSaveSeverity=_.debounce(this.saveSeverity,2e3),_.bindAll(this,"openGraph","saveSeverity","debounceSaveSeverity");var a="Retired"==this.model.get("status")||"In Remission"==this.model.get("status")?"d":"b";this.$el.data("theme",a),this.swiperHeight="75px"},events:{click:"dontclick","click .plus-one":"clickPlus","dblclick #item-detail":"openDetails",slidestop:"changeSeverity","keypress #item-notes":"addOnEnter",indom:"makeSwiper","click #condition-detail":"openGraph","click .removeItem":"confirmDelete","click .modifyItem":"goToConditionDetail"},goToConditionDetail:function(a){a&&a.preventDefault(),this.settingSeverity||$dino.app.navigate("bug/"+this.model.id,{trigger:!0})},openGraph:function(a){if(a.preventDefault(),!this.settingSeverity){var b=this.$("#condition-detail").data("id");$dino.app.navigate("graph?condition="+b,{trigger:!0})}},changeSeverity:function(){console.log("change severity")},addOnEnter:function(a){13==a.keyCode&&this.clickPlus()},severityTpl:function(a){return _.template($dino.tpl.get("severity-slider"),a)},setSeverity:function(){var a=this;if(!this.settingSeverity){var b=this.model.get("symptom");_(b).each(function(b,c,d){console.log(c);var e=!1;c==d.length-1&&(e=!0),a.$("#symptomSliders").append(a.severityTpl({elId:b.id,title:b.title,end:e}))}),this.$("#item-notes").textinput(),this.$("#severity").slider({trackTheme:"b"}),this.$("#severity").hide(),this.$("#cancel-change-severity").button({mini:!0}),this.$(".swiper-slide").addClass("swiper-no-swiping"),this.changeSeverity(),this.settingSeverity=!0}},clickPlus:function(a){if(a&&a.preventDefault(),console.log(this.model.toJSON()),console.log("clicked plus"),this.$(".set-severity").show(),this.added)this.clickCheck();else{var b=this;this.model.set("count",this.model.get("count")+1),this.model.save(),this.plusOne=new $dino.PlusOne,this.plusOne.save({item:this.model.id,type:b.name,user:Parse.User.current().id},{success:function(){b.added=!0,b.setSeverity(),b.$(".ui-icon").removeClass("ui-icon-plus"),b.$(".ui-icon").addClass("ui-icon-check"),b.$(".swiper-slide").css("height","auto")}})}},clickCheck:function(){this.saveSeverity(),this.added=!1,this.$(".ui-icon").removeClass("ui-icon-check"),this.$(".ui-icon").addClass("ui-icon-plus"),this.$("#symptomSliders").empty(),this.$(".swiper-slide").removeClass("swiper-no-swiping"),this.$(".swiper-slide").css("height","100%"),this.addBubble("h3","Saved")},saveSymptomSeverity:function(a,b){var c=new $dino.PlusOne;c.save({item:a,type:"symptom",user:Parse.User.current().id,parent:this.model.id,parentType:"bug",severity:b},{success:function(){console.log("Saved plusone severity "+b+" for symptom",a)}})},saveSeverity:function(){var a=this;_(this.$(".symptom-severity")).each(function(b){var c=$(b).data("id"),d=parseInt($(b).val(),10);console.log(d),a.saveSymptomSeverity(c,d)}),this.settingSeverity=!1;var b=this.$("#item-notes").val();this.added&&this.plusOne.save({notes:b})}}),window.$dino.ConditionNewView=$dino.NewFormView.extend({initialize:function(a){this.template=_.template($dino.tpl.get("condition-new")),this.first=!0,this.header=a.header||"Condition",this.model=this.model||new $dino.Bug,this.debounceSaveTextInput=_.debounce(this.saveTextInput,2e3),_(this).bindAll("addCondition","deleteItem","makeList","render")},events:{"click .add_detail_item":"addItem","click .delete_detail_item":"deleteItemEvent","click #addBtn":"addCondition","click .new-item":"preventDefault","keyup .text-input":"debounceSaveTextInput","change select":"checkForAddNew","change #select-doctor":"setDoctor","change #select-status":"setStatus","click .add-btn-padding":"addNewItem","click .cancel-btn-padding":"cancelNewItem",pageinit:"setMenu"},setMenu:function(){console.log("setting status menu to proper item");var a=this.model.get("status");this.resetMenu("#select-status",a)},setDoctor:function(){var a=this.$("#select-doctor option:selected");if("add-new-item"!=a.val()){var b={id:a.val(),title:a.text()};this.model.set("doctor",b)}},setStatus:function(){var a=this.$("#select-status option:selected");this.model.set("status",a.val())},addNewItem:function(a,b){a&&a.preventDefault();
var c=this;b=b||$(a.currentTarget).data("type");var d=this.$("#new-"+b+"-input").val();if(console.log(b,d),""!==d&_.contains(["symptom","doctor","medication"],b)){console.log("Add to collection: ",b,d);var e=new($dino[b.toTitleCase()]);e.set({title:d,user:Parse.User.current().id}),e.save(null,{success:function(a){console.log(a.id),"doctor"==b&&c.loadList(c.doctorList,"#select-doctor","doctor");var d={id:a.id,title:a.get("title"),type:b};console.log(d),c.addItem(null,d)}})}},cancelNewItem:function(a,b){a&&a.preventDefault(),b=b||$(a.currentTarget).data("type"),_.contains(["symptom","doctor","medication"],b)&&(this.resetMenu("#select-"+b),this.$("#"+b+"-new-group").hide(),this.$("#"+b+"-list-bar").show())},saveTextInput:function(){this.model.set({title:$("#condition-title").val(),details:$("#condition-details").val()}),this.liveSave?this.model.save({},{success:function(){console.log("text input saved"),$("#savePopup").show().delay(2e3).fadeOut()}}):console.log("model updated")},deleteItemEvent:function(a){a.preventDefault(),console.log(this);var b=$(a.currentTarget).attr("data-type"),c=$(a.currentTarget).attr("data-id");this.deleteItem(this.model,b,c,!0)},deleteItem:function(a,b,c){console.log(b,c);var d=a.get(b);d=_.filter(d,function(a){return a.id!=c}),a.set(b,d),this.render(!0)},addItem:function(a,b){var c,d,e;if(a)c=$(a.currentTarget).data("type"),d=this.$("#select-"+c).val(),e=this.$("#select-"+c+" option:selected").text();else{if(!b)return console.log("Error: invalid addItem call"),void 0;c=b.type,d=b.id,e=b.title}if(console.log(d),console.log(c),"doctor"==c)return this.addNewDoctor(d,e),void 0;if(d&&""!==d&&"default"!=d){var f=this.model.get(c);f||(f=[]);var g=this;f.push({title:e,id:d}),this.model.set(c,f),console.log(this.model.toJSON()),g.first=!0,g.render()}},addNewDoctor:function(a,b){var c={title:b,id:a};this.model.set("doctor",c),this.cancelNewItem(null,"doctor"),console.log(a),this.resetMenu("#select-doctor",a)},addCondition:function(a){a.preventDefault(),this.validateCondition()&&(console.log(this.model.toJSON()),this.model.set("user",Parse.User.current().id),this.model.save(null,{success:function(a){console.log("New condition saved: "+a.id),$dino.app.navigate("bugs",{trigger:!0})},error:function(a,b){console.log("Failed to save condition, error: "+b.description),console.log(b)}}))},validateCondition:function(){return""===this.$("#condition-title").val()?(this.$("#error-msg").html("Don't forgot to make a title!"),this.$("#error-msg").show(),!1):0===this.model.get("symptom").length?(this.$("#error-msg").html("Add a symptom to start tracking this condition"),this.$("#error-msg").show(),!1):!0},loadList:function(a,b,c){var d=this;a.fetch({data:{user:Parse.User.current().id},success:function(a){"doctor"==c&&console.log(a),d.makeList(a,b,c)},error:function(a,b){console.log(b)}})},checkForAddNew:function(a){var b=$("option:selected",a.currentTarget);"add-new-item"==b.val()&&""!==b.data("type")&&b.data("new")===!0&&this.showNewItemInput(b.data("type"))},showNewItemInput:function(a){_.contains(["symptom","doctor","medication"],a)&&($("#new-"+a+"-input").val(""),$("#"+a+"-new-group").show(),$("#"+a+"-list-bar").hide())},makeList:function(a,b,c){c=c||"";var d=this;if(console.log("running makelist on "+b),c&&"doctor"!=c&&this.model.get(c)&&0!==this.model.get(c).length){console.log(this.model.toJSON()),console.log(c);try{var e=_.map(this.model.get(c),function(a){return a.id});console.log(e);var f=a.filter(function(a){return!_.contains(e,a.id)});_(f).each(function(a){d.$(b).append('<option value="'+a.id+'">'+a.get("title")+"</li>")})}catch(g){console.log(g)}}else if("doctor"==c){var h,i=d.model.get("doctor").id;a.each(function(a){d.$(b).append("<option "+h+' value="'+a.id+'">'+a.get("title")+"</li>")}),this.resetMenu("#select-doctor",i)}else a.each(function(a){d.$(b).append('<option value="'+a.id+'">'+a.get("title")+"</li>")});this.$(b).append('<option data-new="true" data-type="'+c+'" value="add-new-item">Add New</li>')},render:function(a){console.log(this.header),this.$el.html(this.template(_.extend(this.model.toJSON(),{header:this.header})));return this.first?(this.first=!1,$(this.el).find("input[type='radio']").checkboxradio({}),this.symptomList=new $dino.SymptomList,this.loadList(this.symptomList,"#select-symptom","symptom"),this.medicationList=null,this.medicationList=new $dino.MedicationList,this.loadList(this.medicationList,"#select-medication","medication"),this.doctorList=new $dino.DoctorList,this.loadList(this.doctorList,"#select-doctor","doctor")):a&&(this.makeList(this.medicationList,"#select-medication","medication"),this.makeList(this.symptomList,"#select-symptom","symptom"),this.makeList(this.doctorList,"#select-doctor","doctor")),$(".ui-page").trigger("pagecreate"),this}}),window.$dino.FooterView=Backbone.View.extend({initialize:function(){this.template=_.template($dino.tpl.get("footer"))},events:{"click .footerBtn":"navBtn"},navBtn:function(a){var b=$(a.currentTarget).attr("href");console.log("going to "+b),$.inArray(b,["appts","info","bugs","symptoms","medications"])&&$dino.app.navigate(b,!0)},render:function(){return $(this.el).html(this.template()),this}}),window.$dino.GraphView=Backbone.View.extend({initialize:function(a){a.items?(this.type="items",this.items=a.items):(a.condition||$dino.fail404(),this.condition=a.condition,this.type="condition"),this.template=_.template($dino.tpl.get("graph")),_.bindAll(this,"render","makeSeries","loadMultiChart")},events:{},hasSympPlusOnes:function(a){console.log(a);var b=_.chain(a).pluck("type").contains("symptom").value();return b},setNoDataMessage:function(){this.$("#graphContainer").html("<h1>Can't find any data for these :( Try a different set!</h1>")},loadItemPlusOnes:function(a){0===a.length&&this.setNoDataMessage();var b=this,c=$dino.apiRoot+"/plusones?user="+Parse.User.current().id+"&item=~";c+=_.reduceRight(a,function(a,b){return a+"|"+b}),$.ajax({url:c,dataType:"json",success:function(a){if("condition"==b.type)b.loadConditionChart(a);else{if(!b.hasSympPlusOnes(a))return b.setNoDataMessage(),void 0;b.loadMultiChart(a)}}})},loadConditionChart:function(a){var b=_.where(a,{type:"symptom"}),c=_.where(a,{type:"medication"});if(0===b.length&&0===c.length)return this.$("#graphContainer").html("<h1>Can't find any data for these :( Try a different set!</h1>"),void 0;var d=["#7CE555","#B84645","#F16A28","#FF9B3E","#3FCCBE","#241F61","#51C4E1","#60205A","#F94610","#7C10F9","#9E5751","#48B660"],e=[],f=[],g=[],h=[],i=[],j={},k=[];f=_.chain(a).pluck("date").uniq().compact().value(),f=f.sort(),_.each(f,function(a){var b=moment.unix(a),c=b.format("MMM Do - h:mm a");e.push(c)});var l=_.groupBy(b,"item");_.each(this.conditionItem.get("symptom"),function(a,b){var c,g={name:a.title,color:d[d.length-b-1],data:[]},h=_.groupBy(l[a.id],"date"),i=0;_.each(f,function(a,b){var d=h[a];c="",d&&(i=d[0].severity,c=d[0].notes),g.data.push({y:i,date:e[b],notes:c})}),k.push(g)});var m=(_.each(b,function(a){var b=moment.unix(a.date);date=b.format("MMM Do - h:mm a");var c=a.severity;g.push(c);var d=a.notes;h[date]=d}),this),n=(_.each(c,function(a){var b=moment.unix(a.date),c=b.format("MMM Do - h:mm a"),d=_.where(m.conditionItem.get("medication"),{id:a.item});j[c]=d[0].title,i.push(c)}),function(a,b){var c=0,d=[],e=[],f=["#7CE555","#B84645","#F16A28","#FF9B3E","#3FCCBE","#241F61","#51C4E1","#60205A","#F94610","#7C10F9","#9E5751","#48B660"];return _.each(b,function(b){var g=_.indexOf(a,b);medName=j[b],_.contains(_.keys(e),medName)||(console.log("in if"),e[medName]=f[c],11!=c?c++:c=0);var h={color:e[medName],width:3,zIndex:4,label:{text:medName},value:g};d.push(h)}),d}),o={name:"Placebo",data:e,type:"scatter",marker:{enabled:!1}};k.push(o),console.log(k),chart=new Highcharts.Chart({chart:{backgroundColor:"#FCFAD6",renderTo:"graphContainer",type:"line",marginRight:20,marginBottom:75,marginTop:20},credits:{enabled:!1},title:{text:" ",style:{color:"#4A4A4A"}},legend:{enabled:!1},xAxis:{categories:e,tickLength:10,plotLines:n(e,i)},yAxis:{max:5,min:0,title:{text:"Severity",style:{color:"#4A4A4A"}},plotLines:[{value:0,width:1,color:"#4A4A4A"}]},series:k,tooltip:{followTouchMove:!0,headerFormat:"<b>{series.name}</b><br>",pointFormat:"Date: {point.date} <br>Severity: {point.y}<br>Notes: {point.notes}",shared:!1}})},loadMultiChart:function(a){var b=this,c=_.where(a,{type:"symptom"}),d=_.where(a,{type:"medication"});if(0===c.length&&0===d.length)return this.$("#graphContainer").html("<h1>Can't find any data for these :( Try a different set!</h1>"),void 0;{var e=[],f=[],g=[],h=[],i=[],j={};_.each(c,function(a){var b=moment.unix(a.date);date=b.format("MMM Do - h:mm a"),f.push(a.date)}),_.each(d,function(a){var c=moment.unix(a.date),d=c.format("MMM Do - h:mm a");j[d]=b.items.medication[a.item],i.push(d),f.push(a.date)})}f.sort(),console.log(f),_.each(f,function(a){var b=moment.unix(a),c=b.format("MMM Do - h:mm a");e.push(c)});var k=0;console.log(c),dattes=c;var l=(_.each(f,function(a){var b=_.first(_.where(c,{date:a}));if(b&&b.severity){var d=b.severity;g.push(d),k=d}else g.push(k);var e="";b&&b.notes&&(e=b.notes),h[date]=e}),function(a,b){var c=0,d=[],e=[],f=["#7CE555","#B84645","#F16A28","#FF9B3E","#3FCCBE","#241F61","#51C4E1","#60205A","#F94610","#7C10F9","#9E5751","#48B660"];return console.log(a),_.each(b,function(b){var g=_.indexOf(a,b);console.log(b),medName=j[b],_.contains(_.keys(e),medName)||(e[medName]=f[c],11!=c?c++:c=0);var h={color:e[medName],width:3,zIndex:4,label:{text:medName},value:g};d.push(h)}),console.log(d),d});chart=new Highcharts.Chart({chart:{backgroundColor:"#FCFAD6",renderTo:"graphContainer",type:"line",marginRight:20,marginBottom:75,marginTop:20},credits:{enabled:!1},title:{text:" ",style:{color:"#4A4A4A"}},legend:{enabled:!1},xAxis:{categories:e,tickLength:10,plotLines:l(e,i)},yAxis:{max:5,min:0,title:{text:"Severity",style:{color:"#4A4A4A"}},plotLines:[{value:0,width:1,color:"#4A4A4A"}]},series:[{name:"Symp1",data:g,color:"#60205A"},{name:"Placebo",data:e,type:"scatter",marker:{enabled:!1}}],tooltip:{formatter:function(){var a=this.points[0].key+":<br>";return a+="Severity: "+this.points[0].y,h[this.points[0].key]&&(a+="<br> Notes: "+h[this.points[0].key]),a},shared:!0}})},makeSeries:function(a){var b=this,c=[],d=["#7CE555","#B84645","#F16A28","#FF9B3E","#3FCCBE","#241F61","#51C4E1","#60205A","#F94610","#7C10F9","#9E5751","#48B660"],e=0,f=_.where($dino.data,{type:"symptom"}),g=_.groupBy(f,"item");return _.each(g,function(a,f){var g={name:b.items.symptom[f],color:d[e],data:[]};e++,_.each(a,function(a){var b=a.severity?a.severity:0,c={x:a.date,date:moment.unix(a.date).format("MMM Do - h:mm a"),y:b};c.notes=a.notes&&""!==a.notes?a.notes:"N/a",g.data.push(c)}),c.push(g)}),c.push({name:"Placebo",data:b.makeTimeAxis(a),type:"scatter",marker:{enabled:!1}}),conosole.log(c),c},makeTimeAxis:function(a){var b=_.where(a,{type:"medication"}),c=_.pluck(b,"date");return c},render:function(){var a=this;this.$el.html(this.template({title:"Graph"})),this.items?this.loadItemPlusOnes(_.union(_.keys(this.items.medication),_.keys(this.items.symptom))):this.condition?(this.conditionItem=new $dino.Bug,this.conditionItem.id=this.condition,this.conditionItem.fetch({success:function(b){a.$(".ui-title").prepend(b.get("title"));var c=_.union(_.pluck(b.get("medication"),"id"),_.pluck(b.get("symptom"),"id"));a.loadItemPlusOnes(c)},error:function(){$dino.fail404()}})):$dino.fail404()}}),window.$dino.HelpAppointmentView=Backbone.View.extend({initialize:function(){_.bindAll(this,"createIntro")},createIntro:function(){var a=this;$dino.intro=intro=introJs(),intro.setOptions({tooltipClass:"customIntro",showBullets:!1,steps:[{element:".footerBtn#appointments",intro:"This is the appointments page.",position:"top"},{element:"div[data-role='content']",intro:"Choose a day to load appointment information.",position:"bottom"},{element:"#dayAppts",intro:"The appointment stores the details on your appointment, including any doctor or condition you have linked to the appointment.",position:"top"},{element:"#dayAppts",intro:"Like with Symptoms and Condtions, you can swipe left to access the options menu.",position:"top"}]});var b=_.once(function(){$(".introjs-overlay").remove(),$(".introjs-helperLayer").remove(),$dino.app.navigate("help?type=graph",{trigger:!0}),a.$el.unbind(),a.$el.remove()});intro.onchange(function(){console.log($(".introjs-helperNumberLayer").text()),""===$(".introjs-helperNumberLayer").text()&&setTimeout(function(){$(".customIntro").css({left:"-85px",top:"-130px"}),$(".customIntro .introjs-arrow").css({left:"120px"})},2),"3"==$(".introjs-helperNumberLayer").text()&&(a.view.apptItems[0].mySwiper.swipeNext(),$(".introjs-nextbutton").on("click",function(){console.log("nextpage"),b()}))}),intro.oncomplete(function(){$("#temp-intro-css").remove(),$dino.app.navigate("bugs",{trigger:!0}),this.$el.unbind(),this.$el.remove()}),intro.onexit(function(){$("#temp-intro-css").remove(),$dino.app.navigate("bugs",{trigger:!0}),this.$el.unbind(),this.$el.remove()}),setTimeout(function(){intro.start()},200)},render:function(){var a=new $dino.Appointment({_id:"-1",condition:{title:"Migraines",id:"-10"},date:moment().unix(),doctor:{id:"10",title:"Dr. Robert"},notes:"Questions you want to ask or things you want to discuss can be put here",title:"Neurologist 1st Visit",type:"Appointment",user:"dBsnmh3xV3"}),b=new $dino.AppointmentList([a]),c=this.view=new $dino.AppointmentCalendarView({collection:b,debug:!0});return this.$el.bind("pageloaded",this.createIntro),this.$el.html(c.render().el),setTimeout(function(){$(".ui-input-text.ui-shadow-inset").css({border:"none","box-shadow":"none"}),console.log(c),c.changeDate(null,{method:"set",value:moment().format("YYYY-MM-DD")})},100),this}}),window.$dino.HelpConditionView=Backbone.View.extend({initialize:function(a){this.page=a.page||1,this.views=[],console.log("init startintroview"),_.bindAll(this,"renderBugView","createBugIntro","createNewConditionIntro","createConditionListItemIntro","renderNewConditionView","render")},events:{},createBugIntro:function(){console.log("running createbugIntro");var a=this.views[0];a||console.warn("empty view for createBugIntro"),$dino.view=a,$dino.intro=intro=introJs(),intro.setOptions({tooltipClass:"customIntro conditionIntro",showBullets:!1,steps:[{element:"#new-condition-padding",intro:"Conditions are greater health problems which have related medications and symptoms (i.e. Asthma, Migraines, Diabetes, etc). Press plus to create a condition.",position:"bottom"}]}),intro.onchange(function(a){console.log($(".introjs-helperNumberLayer").text()),console.log(a)}),intro.onbeforechange(function(){}),intro.oncomplete(function(){$dino.app.navigate("help?type=condition&page=2",{trigger:!0}),$("#temp-intro-css").remove(),a.$el.empty(),a.remove()}),intro.onexit(function(){$dino.app.navigate("bugs",{trigger:!0}),$("#temp-intro-css").remove(),a.$el.empty(),a.remove()}),setTimeout(function(){intro.start(),$(".introjs-skipbutton").text("Next").show(),a.$("#myList").hide(),a.$("#activeConditionList").hide()},200)},createNewConditionIntro:function(){console.log("running createNewconditionIntro");var a=this.views[1];a.showNewItemInput("medication"),$dino.view=a,$dino.intro=intro=introJs(),intro.setOptions({tooltipClass:"customIntro",showBullets:!1,steps:[{element:"#title-list-border",intro:"This is where you create a new symptom",position:"bottom"},{element:"#condition-details",intro:"Put any notes about the condition",position:"bottom"},{element:"#status-list-border",intro:"Indicate whether it is active, in remission, or retired (no longer a condition for you).",position:"bottom"},{element:"#symptom-list-border",intro:'Add one or more symptoms by selecting the symptom in the list and clicking the Add button. You can also add a new symptom by selecting "Add New" in the list.',position:"bottom"},{element:"#symptom-new-group",intro:"To create a new symptom, type in the name and click Add. It will be added to the symptom list. This same behavior applies to medications as well.",position:"bottom"},{element:"#addBtn",intro:"When you are finished, click the Save button",position:"top"}]}),intro.onchange(function(b){$("#footerBtnGroup").hide(),""===$(".introjs-helperNumberLayer").text()&&a.cancelNewItem(null,"medication"),console.log($(".introjs-helperNumberLayer").text()),console.log(b)});var b=_.once(function(){console.log("go to page 3"),$(".introjs-overlay").remove(),$(".introjs-helperLayer").remove(),$dino.app.navigate("help?type=condition&page=3",{trigger:!0})});intro.onbeforechange(function(){"4"==$(".introjs-helperNumberLayer").text()&&a.$("#symptom-new-group").show(),"5"==$(".introjs-helperNumberLayer").text()&&(console.log($(".introjs-nextbutton")),$(".introjs-nextbutton").on("click",function(){console.log("nextpage"),b()}))}),intro.onexit(function(){$dino.app.navigate("bugs",{trigger:!0}),$("#temp-intro-css").remove(),a.$el.empty(),a.remove()}),setTimeout(function(){intro.start(),a.$("#myList").hide(),a.$("#activeConditionList").hide()},200)},createConditionListItemIntro:function(){console.log(this.views);var a=this.views[0],b=new $dino.Bug({_id:-1,status:"Active",details:"Stuff",title:"Migraines",symptom:[{title:"Itchy Scalp",id:"-1"},{title:"Headache",id:"-2"},{title:"Blurred Vision",id:"-3"}],doctor:{title:"Dr. Roberts"},medication:[]}),c=new $dino.ConditionListItemView({model:b});a.$("#activeConditionList").append(c.render().el),a.$("#activeConditionList").listview("refresh"),c.makeSwiper(null,!1),$dino.view=a,$dino.intro=intro=introJs(),intro.setOptions({tooltipClass:"customIntro",showBullets:!1,steps:[{element:"#activeConditionList",intro:"After you save the symptom, it is added to the buglist. Click the Plus to log it.",position:"bottom"},{element:"#activeConditionList",intro:"Set the severity for the symptoms, add any additional notes and click the check to save the condition.",position:"bottom"},{element:".footerBtn#medications",intro:"This button brings you to the medications page. Medications work like symptoms, but don't have a severity.",position:"top"}]});var d=_.once(function(){console.log("go to page 3"),$(".introjs-overlay").remove(),$(".introjs-helperLayer").remove(),$dino.app.navigate("help?type=appointment&page=1",{trigger:!0})});intro.oncomplete(function(){$("#temp-intro-css").remove(),$dino.app.navigate("bugs",{trigger:!0})}),intro.onexit(function(){$("#temp-intro-css").remove(),$dino.app.navigate("bugs",{trigger:!0})}),intro.onchange(function(){""===$(".introjs-helperNumberLayer").text()&&setTimeout(function(){console.log("setting css"),$(".customIntro").css({bottom:"-150px",left:"25px",top:"95px"})},2),"1"==$(".introjs-helperNumberLayer").text()&&(c.setSeverity(),c.mySwiper.init(),c.$(".ui-icon").removeClass("ui-icon-plus"),c.$(".ui-icon").addClass("ui-icon-check"),c.$(".swiper-slide").css("height","auto")),"2"==$(".introjs-helperNumberLayer").text()&&$(".introjs-nextbutton").on("click",function(){console.log("nextpage"),d()})}),setTimeout(function(){intro.start(),a.$("#myList").hide()},2)},renderBugView:function(){var a=this.views[0]=new $dino.BugListView({template:_.template($dino.tpl.get("bug-list-view")),modelType:$dino.Symptom,header:"Bugs",collection:new $dino.SymptomList,name:"symptom",debug:!0});1==this.page?this.$el.bind("pageloaded",this.createBugIntro):3==this.page&&this.$el.bind("pageloaded",this.createConditionListItemIntro),this.$el.html(a.render().el)},renderNewConditionView:function(){var a=this.views[1]=new $dino.ConditionNewView({header:"New"});this.$el.bind("pageloaded",this.createNewConditionIntro),this.$el.html(a.render().el)},render:function(){return 1==this.page||3==this.page?this.renderBugView():2==this.page&&this.renderNewConditionView(),this}}),window.$dino.HelpGraphView=Backbone.View.extend({initialize:function(a){this.page=a.page||1,_.bindAll(this,"createIntro","renderMedInfoView")},createIntro:function(){var a=this;$dino.intro=intro=introJs(),intro.setOptions({tooltipClass:"customIntro",showBullets:!1,steps:[{element:".footerBtn#info",intro:"This is the correlation graph page. Here you can select symptoms, medications and conditions that you wish to visualize.",position:"top"},{element:"#symp-med-chart",intro:"See symptom progress versus the medications you are taking.",position:"bottom"},{element:"#condition-chart",intro:"Or, see progression of a condition with related symptoms, medications and notes.",position:"top"},{element:"#symp-med-chart",intro:"Thanks for following along with this tutorial! We hope you enjoy using Dinosore.",position:"bottom"}]});_.once(function(){$dino.app.navigate("help?type=graph&page=2",{trigger:!0})});intro.onchange(function(){console.log($(".introjs-helperNumberLayer").text()),""===$(".introjs-helperNumberLayer").text()&&setTimeout(function(){console.log("setting css"),$(".customIntro").css({left:"-120px",top:"-235px"}),$(".customIntro .introjs-arrow").css({left:"160px"})},2),"3"==$(".introjs-helperNumberLayer").text()&&(a.$el.append('<style id="temp-intro-css">.introjs-tooltipbuttons{margin-top:15px;margin-bottom:5px;}.introjs-helperLayer {background:transparent;border: none;box-shadow: none;}.introjs-arrow{display:none}.introjs-tooltip{max-width:none;}</style>'),$(".introjs-nextbutton").hide(),$(".introjs-skipbutton").text("Get Started").show(),setTimeout(function(){$(".introjs-skipbutton").text("Get Started").show()},2))}),intro.oncomplete(function(){$("#temp-intro-css").remove(),$dino.app.navigate("bugs",{trigger:!0})}),intro.onexit(function(){$("#temp-intro-css").remove(),$dino.app.navigate("bugs",{trigger:!0})}),setTimeout(function(){intro.start()},200)},renderMedInfoView:function(){this.view=new $dino.MedicalInfoView,this.$el.bind("pageloaded",this.createIntro),this.$el.html(this.view.render().el)},render:function(){return 2==this.page?this.renderGraphView():this.renderMedInfoView(),this}}),window.$dino.InfoModifyView=$dino.NewFormView.extend({afterInitialize:function(){console.log(this.template),this.events=_.extend({},$dino.NewFormView.prototype.events,this.events),this.allergyList=new $dino.AllergyList,this.doctorList=new $dino.DoctorList},events:{"click #save-info":"saveInfo"},deleteItem:function(a,b,c){var d=this[b+"List"].get(c);d.destroy(),this.$('*[data-id="'+c+'"]').parent().remove()},loadUserList:function(a,b){var c=this;this[a+"List"].fetch({data:{user:Parse.User.current().id},success:function(d){"doctor"==a&&console.log(d),c.makeList(d,b,a)},error:function(a,b){console.log(b)}})},saveInfo:function(a){a&&a.preventDefault();var b=Parse.User.current();b.set("name",this.$("user-fullname").val()),b.set("birthday",moment(this.$("birthday").val()).unix()),b.save(null,{success:function(){$dino.app.navigate("info",{trigger:!0})}})},makeList:function(a,b,c){a.each(function(a){this.$(b).append('<li><a href="#" data-role="button" data-inline="true" data-icon="delete" data-id="'+a.id+'" class="delete_detail_item" data-type="'+c+'" data-iconpos="notext" data-theme="a" title="X">X></a><span class="fancyFont itemName"><span data-id="'+a.id+'" class="itemName">'+a.get("title")+"</span></span></li>")}),this.$(".delete_detail_item").button()},render:function(){this.$el.html(this.template(this.model.toJSON())),this.loadUserList("doctor","#doctor-list")}}),window.$dino.MedicalInfoView=$dino.NewFormView.extend({afterInitialize:function(){this.template=_.template($dino.tpl.get("medical-info")),this.events=_.extend({},$dino.NewFormView.prototype.events,this.events),_.bindAll(this,"loadList","render"),this.model=Parse.User.current(),this.visualize={medication:{},symptom:{}}},events:{"click #logout":"logout","click #visualize-items":"visualizeItems","click #visualize-condition":"visualizeCondition","click #select-medication-button":"openListbox","click #select-medication-listbox .ui-header a.ui-btn-left":"closeBox","change #select-condition":"refreshSelect"},refreshSelect:function(){console.log("test")},closeBox:function(a){a.preventDefault(),this.$("#select-medication-listbox").popup("close")},openListbox:function(a){a.preventDefault(),console.log(a),this.$("#select-medication").selectmenu("refresh"),this.$("#select-medication-listbox").popup({overlayTheme:"a"}),this.$("#select-medication-listbox").popup("open"),this.$("#select-medication-listbox li:first-child").removeClass("ui-btn-down-a ui-focus")},visualizeItems:function(a){a.preventDefault();var b=this.$("#select-symptom option:selected");if("default"==b.val())return this.$("#error").html("Woops, you forgot to select a symptom to graph!"),void 0;this.visualize.symptom[b.val()]=b.text();var c=b.val()+","+b.text(),d=this.$("#select-medication option:selected"),e="";_(d).each(function(a){e.length>0&&(e+=",");var b=$(a),c=b.val()+","+b.text();e+=c});var f="graph?symptom="+c+"&medication="+e;$dino.app.navigate(f,{trigger:!0})},visualizeCondition:function(a){a.preventDefault();var b="graph?condition="+this.$("#select-condition").val();$dino.app.navigate(b,{trigger:!0})},logout:function(){Parse.User.logOut(null,{success:function(){localStorage.clear(),$dino.app.navigate("",{trigger:!0})}})},addItem:function(a,b){var c,d,e;if(a)c=$(a.currentTarget).data("type"),d=this.$("#select-"+c).val(),e=this.$("#select-"+c+" option:selected").text();else{if(!b)return console.log("Error: invalid addItem call"),void 0;c=b.type,d=b.id,e=b.title}"default"==d||_.contains(_.keys(this.visualize[c]),d)||(this.visualize[c][d]=e,this.$("#"+c+"-list").append('<li><a href="#" data-role="button" data-inline="true" data-corners="true" data-icon="delete" data-id="'+d+'" class="ui-icon-nodisc delete_detail_item" data-type="'+c+'" data-iconpos="notext">X</a><span class="fancyFont itemName"><span data-id="'+d+'" class="itemName">'+e+"</span></span></li>"),this.$(".delete_detail_item").button())},deleteItem:function(a,b,c){delete this.visualize[b][c],this.$("a[data-id='"+c+"']").parent().remove()},filterCollection:function(){},loadLists:function(){this.symptomList=new $dino.SymptomList,this.loadList(this.symptomList,"#select-symptom","symptom",!0),this.medicationList=new $dino.MedicationList,this.loadList(this.medicationList,"#select-medication","medication",!0),this.conditionList=new $dino.BugList;try{this.loadList(this.conditionList,"#select-condition","condition",!0)}catch(a){console.log("fix this later:"),console.log(a)}},render:function(){return this.$el.html(this.template()),this}}),window.$dino.MedicationListItemView=Backbone.View.extend({tagName:"li",initialize:function(){this.template=_.template($dino.tpl.get("list-item")),this.debounceSaveSeverity=_.debounce(this.saveSeverity,2e3),this.model.bind("remove",this.destroy),_.bindAll(this,"destroy")},events:{"click .plus-one":"clickPlus",swiperight:"confirmDelete","dblclick #medication-detail":"openMedicationDetails"},openMedicationDetails:function(a){a.preventDefault(),console.log("opening detail page")},resetTitle:function(a){a&&a.preventDefault();var b=this.model.get("title"),c='<span class="medication-title">'+b+"</span>";this.$("h3").html(c),this.settingSeverity=!1},addBubble:function(a,b){this.$(".added-bubble").length<1&&this.$(a).append('<span data-count-theme="b" class="ui-li-count ui-btn-up-e ui-btn-corner-all added-bubble">'+b+"</span>"),this.$(".added-bubble").show(),this.$(".added-bubble").fadeToggle(3e3)},confirmDelete:function(){this.settingSeverity||(this.deleteDialog=new $dino.DialogDeleteView({model:this.model,parentView:this}),this.deleteDialog.render(),$(this.el).append(this.deleteDialog),this.deleteDialog.open())},clickPlus:function(a){a&&a.preventDefault();var b=this;console.log("clickcing"),this.alreadyClicked||(this.model.increment("count",1),this.model.save(),this.plusOne=new $dino.PlusOne,this.plusOne.save({item:this.model.id,user:Parse.User.current()},{success:function(){b.addBubble("h3","added")}}))},destroy:function(){this.deleteDialog&&this.deleteDialog.destroy(),this.unbind(),this.remove()},render:function(){return $(this.el).html(this.template(_.extend(this.model.toJSON(),{type:"medication"}))),this}}),window.$dino.OfflineExitView=Backbone.View.extend({initialize:function(){this.template=_.template($dino.tpl.get("offline-exit")),this.$el.attr("data-theme","a")},events:{"click #retry":"retry","click #exit":"exit"},retry:function(a){a.preventDefault(),window.history.back()},exit:function(a){if(a.preventDefault(),navigator.app)try{navigator.app.exitApp()}catch(b){alert("Well shucks, looks like we failed to exit. Would you be a darling and close the app for us?")}else alert("Well shucks, looks like we failed to exit. Would you be a darling and close the app for us?")},render:function(){this.$el.html(this.template())}}),window.$dino.PlusOneListView=$dino.PlusListView.extend({afterInitialize:function(a){this.fetchData={user:Parse.User.current().id,type:a.type,item:a.item},this.sortList="date"},renderList:function(){var a=this;this.$("#myList").html('<img src="css/images/ajax-loader.gif" style="margin-left:50%;padding-top:15px;" alt="loading..." />');var b=this.fetchData||{user:Parse.User.current().id};return this.collection.fetch({data:b,success:function(b){if(this.$("#myList").empty(),0===b.length)return a.$("#myList").html('<h1 id="no-items-yet" class="fancyFont">No '+a.header+" Recorded Yet!</h1>"),void 0;b.comparator=a.sortList,b.sort();for(var c=0;c<b.length;c++)a.addOne(b.models[c]);a.loading||(a.$("#myList").listview(),a.$("#myList").listview("refresh"),a.$("#retiredList").listview(),a.$("#retiredList").listview("refresh"))},error:function(){$dino.fail404()}}),this},addOne:function(a){this.$("#myList").append(new $dino.PlusOneListItemView({model:a}).render().el)},renderTitle:function(){this.fetchData.item},render:function(){return $(this.el).html(this.template({header:this.header})),this.renderTitle(),this.renderList(this.first),this.first=!1,this}}),window.$dino.PlusOneListItemView=Backbone.View.extend({tagName:"li",className:"plus-one-item",initialize:function(a){var b=a.template||"plusone-list-item";this.template=_.template($dino.tpl.get(b))},render:function(){var a=moment.unix(this.model.get("date")).format("dddd, MMMM Do YYYY, h:mm a"),b={date:a};return this.$el.html(this.template(b)),this}}),window.$dino.StartIntroView=Backbone.View.extend({initialize:function(){this.page=1,this.views=[],console.log("init startintroview"),_.bindAll(this,"renderBugView","createBugIntro","render")},events:{},createBugIntro:function(){var a=this;console.log("running createbugIntro");var b=this.views[0];b||console.warn("empty view for createBugIntro"),console.log(b),b.addingBtn.adding=!0,b.newItem();var c=new $dino.Symptom({_id:-1,title:"Headache",type:"symptom"}),d=new $dino.SymptomListItemView({model:c});b.$("#activeConditionList").append(d.render().el),b.$("#activeConditionList").listview("refresh"),d.makeSwiper(null,!1),$dino.view=b,$dino.intro=intro=introJs(),intro.setOptions({tooltipClass:"customIntro",showBullets:!1,steps:[{element:"#myList",intro:"<strong>Welcome!</strong><br>Using Dinosore, you can make exact records of your health over time. Don't estimate when you think a problem started, see it for yourself!",position:"bottom"},{element:'.footerBtn[href="#bugs"]',intro:"This is the Bug List page",position:"top"},{element:".ui-block-a .new-item-padding",intro:"Click to add a new symptom",position:"bottom"},{element:document.querySelector("#newItemLi"),intro:"Input the symptom and click the plus to add.",position:"bottom"},{element:".plus-one",intro:"Whenever you are feeling the symptom, click the plus to log it.",position:"left"},{element:"#activeConditionList",intro:"Choose the severity, add a descriptive note (only if you want!), and click the check to confirm or the X to cancel.",position:"bottom"},{element:"#symptom-detail",intro:"After you've logged the symptom a few times, click the symptom name to view its graph.",position:"bottom"},{element:"#symptom-detail",intro:"Swipe left to reveal the options menu. You can delete a symptom or retire it when it is no longer active.",position:"bottom"},{element:"#myList",intro:"We hope you find Dinosore useful and easy to use! If you have any questions or comments, feel free to talk to us anytime at dinosorehealth@gmail.com.",position:"bottom"}]});
var e=_.once(function(){console.log("calling nextpage"),$dino.app.navigate("help?type=condition&page=1",{trigger:!0}),$(".introjs-overlay").remove(),$(".introjs-helperLayer").remove(),a.$el.unbind(),a.$el.remove()});intro.onchange(function(a){if(console.log($(".introjs-helperNumberLayer").text()),""===$(".introjs-helperNumberLayer").text()&&(b.$el.append('<style id="temp-intro-css">.introjs-helperLayer {background:transparent;border: none;box-shadow: none;}.introjs-arrow{display:none}.introjs-tooltip{max-width:none;}</style>'),console.log("hide helperLayer")),"1"==$(".introjs-helperNumberLayer").text()&&($("#temp-intro-css").remove(),console.log("show helperLayer")),"3"==$(".introjs-helperNumberLayer").text()){b.addingBtn.toggleButton(!0),b.$(".cancelBtn span .ui-btn-text").text("Cancel");var c,f="Headache",g=function(a){$("#newItemInput").val(f.substr(0,a))};for(c=1;c<=f.length;c++)setTimeout(g,200*c,c)}if("4"==$(".introjs-helperNumberLayer").text()&&($("#myList").hide(),b.$(".cancelBtn span .ui-btn-text").text("Symptom"),b.addingBtn.toggleButton()),"5"==$(".introjs-helperNumberLayer").text()){d.setSeverity(),d.$(".swiper-wrapper").css({height:"auto",width:"100%"}),d.$("#item-title-slide").css("width","100%"),d.$("#severity").val("4"),d.$("#severity").slider("refresh"),d.changeSeverity();var h,i="Throbbing",j=function(a){d.$("#symptom-notes").val(f.substr(0,a))};for(h=1;h<=i.length;h++)setTimeout(j,200*h,h);d.$(".plus-one").hide(),d.$(".check-items").show()}"6"==$(".introjs-helperNumberLayer").text()&&(d.resetTitle(),d.addBubble(".item-title","Saved"),b.$("#myList").empty().show()),"7"==$(".introjs-helperNumberLayer").text()&&(swiper=d.mySwiper,d.mySwiper.init(),d.mySwiper.swipeNext()),"8"==$(".introjs-helperNumberLayer").text()&&(d.mySwiper.swipePrev(),b.$el.append('<style id="temp-intro-css">.introjs-helperLayer {background:transparent;border: none;box-shadow: none;}.introjs-arrow{display:none}.introjs-tooltip{max-width:none;}.introjs-tooltiptext{padding-bottom:15px}</style>'),$(".introjs-nextbutton").text("Learn More"),$(".introjs-skipbutton").text("Get Started").show(),$(".introjs-nextbutton").on("click",function(){e()}),setTimeout(function(){$(".introjs-skipbutton").text("Get Started").show()},2)),console.log(a)}),intro.onbeforechange(function(){console.log($(".introjs-helperNumberLayer").text()),"3"==$(".introjs-helperNumberLayer").text()&&$("#myList").show(),"4"==$(".introjs-helperNumberLayer").text()&&$("#activeConditionList").show()}),intro.oncomplete(function(){$dino.app.navigate("bugs",{trigger:!0}),$("#temp-intro-css").remove(),b.$el.empty(),b.remove()}),intro.onexit(function(){$dino.app.navigate("bugs",{trigger:!0}),$("#temp-intro-css").remove(),b.$el.empty(),b.remove()}),setTimeout(function(){intro.start(),b.$("#myList").hide(),b.$("#activeConditionList").hide()},200)},renderBugView:function(){var a=this.views[0]=this.views[0]||new $dino.BugListView({template:_.template($dino.tpl.get("bug-list-view")),modelType:$dino.Symptom,header:"Bugs",collection:new $dino.SymptomList,name:"symptom",debug:!0});this.$el.bind("pageloaded",this.createBugIntro),this.$el.html(a.render().el)},renderMedicationView:function(){var a=new $dino.MedicationList,b=new $dino.PlusListView({modelType:$dino.Medication,header:"Medications",collection:a,clickItems:!0,name:"medication"});this.$el.bind("pageloaded",this.createMedicationIntro),this.$el.html(b.render().el),setTimeout(function(){intro.start(),b.$("#myList").hide(),b.$("#activeConditionList").hide()},2),$(".ui-page").trigger("pagecreate")},render:function(){return this.renderBugView(),this}}),window.$dino.StartLoginView=Backbone.View.extend({initialize:function(){this.template=_.template($dino.tpl.get("login"))},events:{"click #signupBtn":"signup","click #loginBtn":"login","focus input":"increasePageHeight"},increasePageHeight:function(){var a=$(".ui-page"),b=a.children(".ui-header").outerHeight()+a.children(".ui-footer").outerHeight()+a.children(".ui-content").height();if(console.log(a),b<$(window).height()){var c=$(window).height()-a.children(".ui-header").outerHeight()-a.children(".ui-footer").outerHeight()-40;a.children(".ui-content").height(c)}},login:function(){var a=this.$("#email").val(),b=this.$("#password").val(),c=this;return""===a||""===b?(this.$("#error").html("Don't forget to fill out all the fields!"),void 0):(Parse.User.logIn(a,b,{success:function(a){var b=new $dino.User(a.toJSON());b.id=Parse.User.current().id,b.save(),$dino.app.navigate("bugs",{trigger:!0})},error:function(a,b){c.$("#error").html(b.message.toTitleCase())}}),void 0)},render:function(){return $(this.el).html(this.template()),this}}),window.$dino.StartPrivacyView=Backbone.View.extend({initialize:function(){this.template=_.template($dino.tpl.get("privacy"))},events:{"change input[type='radio']":"bringOnZeeJargon","click #next":"nextPage"},nextPage:function(){$dino.app.navigate("symptoms",{trigger:!0})},bringOnZeeJargon:function(a){"privacy-cloud"==$(a.target).attr("id")?$("#jargon").html("By storing your data in the cloud you absolve Dinosore of all fault in case anything terrible happens."):$("#jargon").empty()},render:function(){return this.$el.html(this.template()),this}}),window.$dino.StartSignupView=Backbone.View.extend({initialize:function(){this.template=_.template($dino.tpl.get("signup"))},events:{"click #signupBtn":"signup"},validateFieldsExist:function(a){var b=!0;return $("#error").empty(),_(a).each(function(a,c){a&&""!==a?$("#"+c).removeClass("input-error"):($("#error").html("You forgot some info!"),$("#"+c).addClass("input-error"),b=!1)}),b},validatePasswords:function(a){return a.password!=a["confirm-password"]?($("#error").html("Passwords do not match"),$("#password").addClass("input-error"),$("#confirm-password").addClass("input-error"),!1):!0},signup:function(){var a={name:this.$("#name").val(),email:this.$("#email").val(),password:this.$("#password").val(),"confirm-password":this.$("#confirm-password").val(),birthday:moment(this.$("#birthday").val()).unix(),gender:this.$('input[name="select-gender"]:checked').val()},b=this.validateFieldsExist(a);if(b&&(b=this.validatePasswords(a))){var c=this;Parse.User.signUp(a.email,a.password,{},{success:function(){var b=Parse.User.current();b.set({birthday:a.birthday,name:a.name,gender:a.gender}),b.save(null,{success:function(){$dino.app.navigate("intro",{trigger:!0})},error:function(a){c.$("#error").html(a.error.toTitleCase())}})},error:function(a){c.$("#error").html(a.error.toTitleCase())}})}},createMenstrationSymptoms:function(){},render:function(){return this.$el.html(this.template()),this}}),window.$dino.StartSplashView=Backbone.View.extend({initialize:function(){this.template=_.template($dino.tpl.get("start-splash"))},events:{"click #splash-login":"login","click #splash-signup":"signup"},login:function(a){a.preventDefault(),$dino.app.navigate("login",{trigger:!0})},signup:function(a){a.preventDefault(),$dino.app.navigate("signup",{trigger:!0})},render:function(){return this.$el.html(this.template()),this}}),window.$dino.SymptomDetailView=new Backbone.View.extend({initalize:function(){this.template($dino.tpl.get("symptom-detail"))},events:{},render:function(){}}),window.$dino.SymptomGraphView=Backbone.View.extend({initialize:function(){this.template=_.template($dino.tpl.get("graph")),_.bindAll(this,"render","loadSingleChart")},events:{"click #back":"returnToBuglist",pageinit:"resize"},resize:function(){console.log("resize"),$(window).trigger("resize")},returnToBuglist:function(a){a.preventDefault(),$dino.app.navigate("bugs",{trigger:!0})},loadSingleChart:function(a){var b=this;if(0===a.length)return this.$("#graphContainer").html('<h4 class="fancyFont">Sorry! No plusones recorded for this symptom yet, come back when you\'ve tracked more data :)'),void 0;var c=a.toJSON(),d=[],e=[],f=[];console.log(c);_.each(c,function(a){var b=moment.unix(a.date);date=b.format("MMM Do - h:mm a"),d.push(date);var c=a.severity||0;e.push(c);var g=a.notes;f[date]=g});console.log(d),console.log(e);new Highcharts.Chart({chart:{backgroundColor:"#FCFAD6",renderTo:"graphContainer",type:"line",marginRight:20,marginBottom:75,marginTop:75,events:{load:function(){console.log("graph load complete"),setTimeout(function(){b.resize()},200)}}},credits:{enabled:!1},title:{text:" ",style:{color:"#4A4A4A"}},legend:{enabled:!1},xAxis:{categories:d,tickLength:10},plotOptions:{series:{lineColor:"#51C4E1",marker:{fillColor:"#3FCCBE"}}},yAxis:{min:0,max:5,title:{text:"Severity",style:{color:"#4A4A4A"}}},series:[{name:"Severity",data:e}],tooltip:{followTouchMove:!0,formatter:function(){var a=this.points[0].key+":<br>";return a+="Severity: "+this.points[0].y,f[this.points[0].key]&&(a+="<br> Notes: "+f[this.points[0].key]),console.log(f[this.points[0].key]),console.log(this.points),a},shared:!0}})},render:function(){this.$el.html(this.template(this.model.toJSON()));var a=this,b=new $dino.PlusOneList;b.fetch({data:{user:Parse.User.current().id,item:this.model.id},success:function(b){a.plusOnes=b,a.loadSingleChart(b)},error:function(){$dino.fail404()}})}}),window.$dino.SymptomListItemView=$dino.ListItemView.extend({initialize:function(){$dino.SymptomListItemView.__super__.initialize.call(this,{name:"symptom"}),_.bindAll(this,"saveSymptom")},events:{click:"dontclick","click .plus-one":"clickPlus","click #confirm-plus":"saveSymptom",slidestop:"changeSeverity","keypress #symptom-notes":"addOnEnter",indom:"makeSwiper","click #cancel-plus":"resetTitle","click #item-title-slide":"goToSymptomDetail","click .removeItem":"confirmDelete","click .retireItem":"retireItem"},resetTitle:function(a){a&&a.preventDefault(),this.$(".check-items").hide(),this.$(".plus-one").show(),this.$(".set-severity").hide(),this.$(".swiper-slide").removeClass("swiper-no-swiping"),this.$(".swiper-slide").css("height","100%"),this.$("#symptom-notes").val(""),this.$("#severity").val("0"),this.$("#severity").slider("refresh"),this.changeSeverity(),this.settingSeverity=!1},goToSymptomDetail:function(a){a&&a.preventDefault(),this.settingSeverity||$dino.app.navigate("symptoms/"+this.model.id+"/graph",{trigger:!0})},changeSeverity:function(){this.$(".ui-slider div a span .ui-btn-text").html(this.$("#severity").val())},addOnEnter:function(a){13==a.keyCode&&this.clickPlus()},setSeverity:function(){this.settingSeverity||(this.$(".set-severity").show(),this.$(".swiper-slide").addClass("swiper-no-swiping"),this.$("#symptom-notes").textinput(),this.$("#severity").slider({trackTheme:"a"}),this.$("#severity").hide(),this.$("#cancel-change-severity").button({mini:!0}),this.changeSeverity(),this.settingSeverity=!0)},clickPlus:function(a){a&&a.preventDefault(),console.log("clicking plus"),this.setSeverity(),this.$(".plus-one").hide(),this.$(".check-items").show(),this.$(".swiper-slide").css("height","auto")},saveSymptom:function(){var a=this,b=this.settingSeverity?parseInt(this.$("#severity").val(),10):null,c=this.$("#symptom-notes").val(),d=new $dino.PlusOne;d.save({item:this.model.id,type:this.name,user:Parse.User.current().id,notes:c,severity:b},{success:function(){a.resetTitle(),a.addBubble(".item-title","Saved"),a.model.set("count",this.model.get("count")+1),a.model.save()}})}}),Parse.initialize("ILMokni7fwKhJSdWh38cGPpEwL2CLsrhcrUgJmG6","cDQoHLQqGRRj9srzrpG2jv6X5nl2BPdh7hVUBRoc"),$dino.env="dev";var setApiPath=function(){var a=$dino.env,b="/api/v1";$dino.apiRoot="dev"==a?"https://localhost"+b:"prod"==a?"https://jasonschapiro.com"+b:"",console.log('Set up API root "'+$dino.apiRoot+'" for environment '+a)}();$dino.offline=!1,$(window).on("offline",function(){$dino.offline=!0,"prod"==apiEnv&&popupExit()}),$(window).on("online",function(){$dino.offline=!1}),$dino.ping=function(){$.ajax({url:"http://google.com",success:function(){$dino.offline=!1},error:function(){$dino.offline=!0,$dino.app.navigate("offline",{trigger:!0})}})},$(document).bind("mobileinit",function(){console.log("mobileinit"),$.mobile.ajaxEnabled=!1,$.mobile.linkBindingEnabled=!1,$.mobile.hashListeningEnabled=!1,$.mobile.pushStateEnabled=!1,$.support.cors=!0,$.mobile.allowCrossDomainPages=!0,$('div[data-role="page"]').live("pagehide",function(a){$(a.currentTarget).remove()})}),$dino.AppRouter=Backbone.Router.extend({routes:{"":"start",appts:"appts","appts/:id/modify":"modifyAppt","appts/add(?*path)":"newAppt",bugs:"bugList","bugs/add":"newCondition","bug/:id":"bugDetails","bug/:id/modify":"bugModify","bug/:id/delete":"bugDialog",graph:"makeGraph",help:"helpPage",info:"info","info/modify":"infoModify",intro:"intro",login:"login",medications:"medicationList","medication/:id":"medicationDetails",offline:"offlineExit",privacy:"privacySettings",signup:"signup","symptoms/:id/graph":"graphSymptom","*path":"start"},initialize:function(){$(".back").live("click",function(){return window.history.back(),!1}),this.firstPage=!0},appts:function(){var a=new $dino.AppointmentList,b=new $dino.AppointmentCalendarView({collection:a});this.changePage(b,!0),$("#date").hide(),$(".hasDatepicker").off().remove()},modifyAppt:function(a){var b=this,c=new $dino.Appointment;c.id=a,c.fetch({success:function(a){console.log("modify appt"),b.changePage(new $dino.AppointmentNewView({header:"Modify",model:a})),$("#date").hide(),$(".hasDatepicker").off().remove()},error:function(a,b){console.log(b)}})},newAppt:function(a){a&&console.log(a),this.changePage(new $dino.AppointmentNewView({defaultDate:a}))},info:function(){var a=new $dino.MedicalInfoView;this.changePage(a,!0),a.loadLists()},infoModify:function(){this.changePage(new $dino.InfoModifyView({model:Parse.User.current(),tpl:"info-modify"}))},offlineExit:function(){this.changePage(new $dino.OfflineExitView)},bugList:function(){var a=new $dino.SymptomList,b=new $dino.BugListView({template:_.template($dino.tpl.get("bug-list-view")),modelType:$dino.Symptom,header:"Bugs",collection:a,name:"symptom"});this.changePage(b,!0)},newCondition:function(){this.changePage(new $dino.ConditionNewView({header:"New"}))},loadBug:function(a,b){console.log("loading bug "+a);var c=new $dino.Bug({});c.id=a,c.fetch({success:function(a){b(a)},error:function(){$dino.fail404()}})},bugDetails:function(a){var b=this;this.loadBug(a,function(a){b.changePage(new $dino.BugDetailView({model:a}),!0)})},bugModify:function(a){var b=this;this.loadBug(a,function(a){console.log("modify bug details"),b.changePage(new $dino.ConditionNewView({model:a,header:"Modify"}))})},start:function(){Parse.User.current()?this.bugList():this.changePage(new $dino.StartSplashView)},intro:function(){this.changePage(new $dino.StartIntroView,!0)},privacySettings:function(){this.changePage(new $dino.StartPrivacyView)},login:function(){this.changePage(new $dino.StartLoginView)},signup:function(){this.changePage(new $dino.StartSignupView)},makeGraph:function(a){console.log(a);var b;if(a.condition)b=new $dino.GraphView({condition:a.condition}),$dino.app.changePage(b);else if(a.symptom){var c={symptom:[],medication:[]},d=a.symptom.split(",");if(c.symptom[d[0]]=d[1],a.medication){var e=a.medication.split(",");e.length%2!==0&&$dino.fail404();for(var f=0;f<e.length;)c.medication[e[f]]=e[f+1],f+=2}console.log(c),b=new $dino.GraphView({items:c}),$dino.app.changePage(b)}else $dino.fail404()},graphSymptom:function(a){console.log("graphing "+a);var b=this,c=new $dino.Symptom;c.id=a,c.fetch({success:function(a){console.log(a.toJSON()),b.changePage(new $dino.SymptomGraphView({model:a}))},error:function(){$dino.fail404()}})},helpPage:function(a){if(console.log(a),a&&a.type)switch(a.type){case"condition":this.changePage(new $dino.HelpConditionView({page:a.page}),!0);break;case"appointment":this.changePage(new $dino.HelpAppointmentView({}),!0);break;case"graph":this.changePage(new $dino.HelpGraphView({}),!0);break;default:this.changePage(new $dino.StartIntroView,!0)}else this.changePage(new $dino.StartIntroView,!0)},medicationList:function(){var a=new $dino.MedicationList,b=new $dino.PlusListView({modelType:$dino.Medication,header:"Medications",collection:a,clickItems:!0,name:"medication"});this.changePage(b,!0)},medicationDetails:function(a){var b=new $dino.PlusOneList,c=new $dino.PlusOneListView({modelType:$dino.Medication,item:a,type:"medication",header:"Medication Details",collection:b,name:"medication-plusone"});this.changePage(c,!0)},changePage:function(a,b){$(a.el).attr("data-role","page"),$(a.el).data("theme","a"),$(a.el).on("pageinit",function(){a.pageloaded=!0,$(a.el).trigger("pageloaded")}),a.render(),b&&(this.footer=this.footer||new $dino.FooterView,this.footer.render(),$(a.el).append($(this.footer.el))),$("body").append($(a.el)),a.collection&&a.collection.fetch();var c="none";this.firstPage&&(this.firstPage=!1),$dino.noBack=!1,$.mobile.changePage($(a.el),{changeHash:!1,transition:c}),$dino.currView=a}}),$(document).ready(function(){$dino=window.$dino||{},FastClick.attach(document.body);var a=function(){$dino=window.$dino||{},$dino.app=new $dino.AppRouter,Backbone.history.start(),document.addEventListener("backbutton",function(a){a.preventDefault(),$dino.noBack||window.history.back()},!1),$dino.fail404=function(a){"prod"!=$dino.env||a||(console.log("offline"),$dino.app.navigate("offline",{trigger:!0}))}};"prod"==$dino.env?$dino.tpl.loadTemplateFile(a):$dino.tpl.loadTemplates(["plusone-list-item","appointment-list-item","start-tutorial","graph","info-modify","offline-exit","severity-slider","appointment-calendar","condition-list-item","bug-list-view","bug-delete-dialog","privacy","condition-details","condition-new","login","medical-info","appointment-new","signup","start-splash","list-view","list-item","list-new","delete-confirm","footer","appointment-item"],a)}),$dino=window.$dino||{},$dino.tpl={templates:{},tplDir:"tpl/",tplFile:"templates.html",loadTemplates:function(a,b){var c=this,d=function(e){var f=a[e];$.ajax({url:c.tplDir+f+".html",cache:!1,success:function(g){c.templates[f]=g,e++,e<a.length?d(e):b()}})};d(0)},loadTemplateFile:function(a){var b=this;$.get("templates.html",function(c){for(var d=$(c),e=0;e<d.length;e++){var f=$(d[e]),g=f.attr("id"),h=f.html();b.templates[g]=h}a()})},get:function(a){return this.templates[a]}},String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},function(){var a,b=this,c=b.Backbone;a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="0.5.3";var d=b._;d||"undefined"==typeof require||(d=require("underscore")._);var e=b.jQuery||b.Zepto;a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1,a.Events={bind:function(a,b,c){var d=this._callbacks||(this._callbacks={});return(d[a]||(d[a]=[])).push([b,c]),this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){if(c=c[a],!c)return this;for(var d=0,e=c.length;e>d;d++)if(c[d]&&b===c[d][0]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;h>g;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d[0].apply(d[1]||this,e)):(b.splice(g,1),g--,h--);return this}},a.Model=function(a,b){var c;a||(a={}),(c=this.defaults)&&(d.isFunction(c)&&(c=c.call(this)),a=d.extend({},c,a)),this.attributes={},this._escapedAttributes={},this.cid=d.uniqueId("c"),this.set(a,{silent:!0}),this._changed=!1,this._previousAttributes=d.clone(this.attributes),b&&b.collection&&(this.collection=b.collection),this.initialize(a,b)},d.extend(a.Model.prototype,a.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return d.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;return(b=this._escapedAttributes[a])?b:(b=this.attributes[a],this._escapedAttributes[a]=(null==b?"":""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"))},has:function(a){return null!=this.attributes[a]},set:function(a,b){if(b||(b={}),!a)return this;a.attributes&&(a=a.attributes);var c=this.attributes,e=this._escapedAttributes;if(!b.silent&&this.validate&&!this._performValidation(a,b))return!1;this.idAttribute in a&&(this.id=a[this.idAttribute]);var f=this._changing;this._changing=!0;for(var g in a){var h=a[g];d.isEqual(c[g],h)||(c[g]=h,delete e[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b))}return!f&&!b.silent&&this._changed&&this.change(b),this._changing=!1,this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};return c[a]=void 0,b.silent||!this.validate||this._performValidation(c,b)?(delete this.attributes[a],delete this._escapedAttributes[a],a==this.idAttribute&&delete this.id,this._changed=!0,b.silent||(this.trigger("change:"+a,this,void 0,b),this.change(b)),this):!1},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&this.validate&&!this._performValidation(d,a))return!1;if(this.attributes={},this._escapedAttributes={},this._changed=!0,!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(b){b||(b={});var c=this,d=b.success;return b.success=function(a,e,f){return c.set(c.parse(a,f),b)?(d&&d(c,a),void 0):!1},b.error=s(b.error,c,b),(this.sync||a.sync).call(this,"read",this,b)},save:function(b,c){if(c||(c={}),b&&!this.set(b,c))return!1;var d=this,e=c.success;c.success=function(a,b,f){return d.set(d.parse(a,f),c)?(e&&e(d,a,f),void 0):!1},c.error=s(c.error,d,c);var f=this.isNew()?"create":"update";return(this.sync||a.sync).call(this,f,this,c)},destroy:function(b){if(b||(b={}),this.isNew())return this.trigger("destroy",this,this.collection,b);var c=this,d=b.success;return b.success=function(a){c.trigger("destroy",c,c.collection,b),d&&d(c,a)},b.error=s(b.error,c,b),(this.sync||a.sync).call(this,"delete",this,b)},url:function(){var a=q(this.collection)||this.urlRoot||r();return this.isNew()?a:a+("/"==a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return null==this.id},change:function(a){this.trigger("change",this,a),this._previousAttributes=d.clone(this.attributes),this._changed=!1},hasChanged:function(a){return a?this._previousAttributes[a]!=this.attributes[a]:this._changed},changedAttributes:function(a){a||(a=this.attributes);var b,c=this._previousAttributes,e=!1;for(b in a)d.isEqual(c[b],a[b])||(e=e||{},e[b]=a[b]);return e},previous:function(a){return a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return d.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);return c?(b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1):!0}}),a.Collection=function(a,b){b||(b={}),b.comparator&&(this.comparator=b.comparator),d.bindAll(this,"_onModelEvent","_removeReference"),this._reset(),a&&this.reset(a,{silent:!0}),this.initialize.apply(this,arguments)},d.extend(a.Collection.prototype,a.Events,{model:a.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(d.isArray(a))for(var c=0,e=a.length;e>c;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(d.isArray(a))for(var c=0,e=a.length;e>c;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){return null==a?null:this._byId[null!=a.id?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){if(a||(a={}),!this.comparator)throw Error("Cannot sort a set without a comparator");return this.models=this.sortBy(this.comparator),a.silent||this.trigger("reset",this,a),this},pluck:function(a){return d.map(this.models,function(b){return b.get(a)})},reset:function(a,b){return a||(a=[]),b||(b={}),this.each(this._removeReference),this._reset(),this.add(a,{silent:!0}),b.silent||this.trigger("reset",this,b),this},fetch:function(b){b||(b={});var c=this,d=b.success;return b.success=function(a,e,f){c[b.add?"add":"reset"](c.parse(a,f),b),d&&d(c,a)},b.error=s(b.error,c,b),(this.sync||a.sync).call(this,"read",this,b)},create:function(a,b){var c=this;if(b||(b={}),a=this._prepareModel(a,b),!a)return!1;var d=b.success;return b.success=function(a,e,f){c.add(a,b),d&&d(a,e,f)},a.save(null,b),a},parse:function(a){return a},chain:function(){return d(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(b,c){if(b instanceof a.Model)b.collection||(b.collection=this);else{var d=b;b=new this.model(d,{collection:this}),b.validate&&!b._performValidation(d,c)&&(b=!1)}return b},_add:function(a,b){if(b||(b={}),a=this._prepareModel(a,b),!a)return!1;var c=this.getByCid(a);if(c)throw Error(["Can't add the same model to a set twice",c.id]);return this._byId[a.id]=a,this._byCid[a.cid]=a,this.models.splice(null!=b.at?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a),a.bind("all",this._onModelEvent),this.length++,b.silent||a.trigger("add",a,this,b),a},_remove:function(a,b){return b||(b={}),(a=this.getByCid(a)||this.get(a))?(delete this._byId[a.id],delete this._byCid[a.cid],this.models.splice(this.indexOf(a),1),this.length--,b.silent||a.trigger("remove",a,this,b),this._removeReference(a),a):null},_removeReference:function(a){this==a.collection&&delete a.collection,a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){("add"==a||"remove"==a)&&c!=this||("destroy"==a&&this._remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}}),d.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty","groupBy"],function(b){a.Collection.prototype[b]=function(){return d[b].apply(d,[this.models].concat(d.toArray(arguments)))}}),a.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var f=/:([\w\d]+)/g,g=/\*([\w\d]+)/g,h=/[-[\]{}()+?.,\\^$|#\s]/g;d.extend(a.Router.prototype,a.Events,{initialize:function(){},route:function(b,c,e){a.history||(a.history=new a.History),d.isRegExp(b)||(b=this._routeToRegExp(b)),a.history.route(b,d.bind(function(a){a=this._extractParameters(b,a),e.apply(this,a),this.trigger.apply(this,["route:"+c].concat(a))},this))},navigate:function(b,c){a.history.navigate(b,c)},_bindRoutes:function(){if(this.routes){var a,b=[];for(a in this.routes)b.unshift([a,this.routes[a]]);a=0;for(var c=b.length;c>a;a++)this.route(b[a][0],b[a][1],this[b[a][1]])}},_routeToRegExp:function(a){return a=a.replace(h,"\\$&").replace(f,"([^/]*)").replace(g,"(.*?)"),RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}}),a.History=function(){this.handlers=[],d.bindAll(this,"checkUrl")};var i=/^#*/,j=/msie [\w.]+/,k=!1;d.extend(a.History.prototype,{interval:50,getFragment:function(a,b){if(null==a)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c),0==a.indexOf(this.options.root)&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return decodeURIComponent(a.replace(i,""))},start:function(a){if(k)throw Error("Backbone.history has already been started");this.options=d.extend({},{root:"/"},this.options,a),this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState),a=this.getFragment();var b=document.documentMode;return(b=j.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b))&&(this.iframe=e('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a)),this._hasPushState?e(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!b?e(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval),this.fragment=a,k=!0,a=window.location,b=a.pathname==this.options.root,!this._wantsPushState||this._hasPushState||b?(this._wantsPushState&&this._hasPushState&&b&&a.hash&&(this.fragment=a.hash.replace(i,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl()):(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0)},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash)),a==this.fragment||a==decodeURIComponent(this.fragment)?!1:(this.iframe&&this.navigate(a),this.loadUrl()||this.loadUrl(window.location.hash),void 0)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return d.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0})},navigate:function(a,b){var c=(a||"").replace(i,"");if(this.fragment!=c&&this.fragment!=decodeURIComponent(c)){if(this._hasPushState){var d=window.location;0!=c.indexOf(this.options.root)&&(c=this.options.root+c),this.fragment=c,window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash)&&(this.iframe.document.open().close(),this.iframe.location.hash=c);b&&this.loadUrl(a)}}}),a.View=function(a){this.cid=d.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.delegateEvents(),this.initialize.apply(this,arguments)};var l=/^(\S+)\s*(.*)$/,m=["model","collection","el","id","attributes","className","tagName"];d.extend(a.View.prototype,a.Events,{tagName:"div",$:function(a){return e(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){return e(this.el).remove(),this},make:function(a,b,c){return a=document.createElement(a),b&&e(a).attr(b),c&&e(a).html(c),a},delegateEvents:function(a){if(a||(a=this.events))for(var b in d.isFunction(a)&&(a=a.call(this)),e(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var f=b.match(l),g=f[1];f=f[2],c=d.bind(c,this),g+=".delegateEvents"+this.cid,""===f?e(this.el).bind(g,c):e(this.el).delegate(f,g,c)}},_configure:function(a){this.options&&(a=d.extend({},this.options,a));for(var b=0,c=m.length;c>b;b++){var e=m[b];a[e]&&(this[e]=a[e])}this.options=a},_ensureElement:function(){if(this.el)d.isString(this.el)&&(this.el=e(this.el).get(0));else{var a=this.attributes||{};this.id&&(a.id=this.id),this.className&&(a["class"]=this.className),this.el=this.make(this.tagName,a)}}}),a.Model.extend=a.Collection.extend=a.Router.extend=a.View.extend=function(a,b){var c=p(this,a,b);return c.extend=this.extend,c};var n={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};a.sync=function(b,c,f){var g=n[b];return f=d.extend({type:g,dataType:"json"},f),f.url||(f.url=q(c)||r()),f.data||!c||"create"!=b&&"update"!=b||(f.contentType="application/json",f.data=JSON.stringify(c.toJSON())),a.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),!a.emulateHTTP||"PUT"!==g&&"DELETE"!==g||(a.emulateJSON&&(f.data._method=g),f.type="POST",f.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",g)}),"GET"===f.type||a.emulateJSON||(f.processData=!1),e.ajax(f)};var o=function(){},p=function(a,b,c){var e;return e=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)},d.extend(e,a),o.prototype=a.prototype,e.prototype=new o,b&&d.extend(e.prototype,b),c&&d.extend(e,c),e.prototype.constructor=e,e.__super__=a.prototype,e},q=function(a){return a&&a.url?d.isFunction(a.url)?a.url():a.url:null},r=function(){throw Error('A "url" property or function must be specified')},s=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)
}}}.call(this),function(){var a,b,c,d,e,f,g,h;Backbone.Collection.prototype.syncDirty=function(){var a,b,c,d,e,f,g,i;for(e=h(this,"url"),d=localStorage.getItem(""+e+"_dirty"),b=d&&d.split(",")||[],i=[],f=0,g=b.length;g>f;f++)a=b[f],c=36===a.length?this.where({id:a})[0]:this.get(a),i.push(c.save());return i},Backbone.Collection.prototype.syncDestroyed=function(){var a,b,c,d,e,f,g,i;for(e=h(this,"url"),d=localStorage.getItem(""+e+"_destroyed"),b=d&&d.split(",")||[],i=[],f=0,g=b.length;g>f;f++)a=b[f],c=new this.model({id:a}),c.collection=this,i.push(c.destroy());return i},Backbone.Collection.prototype.syncDirtyAndDestroyed=function(){return this.syncDirty(),this.syncDestroyed()},a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},window.Store=function(){function b(a){this.name=a,this.records=this.recordsOn(this.name)}return b.prototype.sep="",b.prototype.generateId=function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},b.prototype.save=function(){return localStorage.setItem(this.name,this.records.join(","))},b.prototype.recordsOn=function(a){var b;return b=localStorage.getItem(a),b&&b.split(",")||[]},b.prototype.dirty=function(a){var b;return b=this.recordsOn(this.name+"_dirty"),_.include(b,a.id.toString())||(b.push(a.id),localStorage.setItem(this.name+"_dirty",b.join(","))),a},b.prototype.clean=function(a,b){var c,d;return d=""+this.name+"_"+b,c=this.recordsOn(d),_.include(c,a.id.toString())&&localStorage.setItem(d,_.without(c,a.id.toString()).join(",")),a},b.prototype.destroyed=function(a){var b;return b=this.recordsOn(this.name+"_destroyed"),_.include(b,a.id.toString())||(b.push(a.id),localStorage.setItem(this.name+"_destroyed",b.join(","))),a},b.prototype.create=function(a){return _.isObject(a)?(a.idAttribute?a.id||(a.id=this.generateId(),a.set(a.idAttribute,a.id)):a.id=a._id,localStorage.setItem(this.name+this.sep+a.id,JSON.stringify(a)),this.records.push(a.id.toString()),this.save(),a):a},b.prototype.update=function(a){return localStorage.setItem(this.name+this.sep+a.id,JSON.stringify(a)),_.include(this.records,a.id.toString())||this.records.push(a.id.toString()),this.save(),a},b.prototype.clear=function(){var a,b,c,d;for(d=this.records,b=0,c=d.length;c>b;b++)a=d[b],localStorage.removeItem(this.name+this.sep+a);return this.records=[],this.save()},b.prototype.hasDirtyOrDestroyed=function(){return!_.isEmpty(localStorage.getItem(this.name+"_dirty"))||!_.isEmpty(localStorage.getItem(this.name+"_destroyed"))},b.prototype.find=function(a){return JSON.parse(localStorage.getItem(this.name+this.sep+a.id))},b.prototype.findAll=function(){var a,b,c,d,e;for(d=this.records,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(JSON.parse(localStorage.getItem(this.name+this.sep+a)));return e},b.prototype.destroy=function(a){return localStorage.removeItem(this.name+this.sep+a.id),this.records=_.reject(this.records,function(b){return b===a.id.toString()}),this.save(),a},b}(),c={needsTranslation:"0.9.10"===Backbone.VERSION,forBackboneCaller:function(a){return this.needsTranslation?function(b,c){return a.call(null,c)}:a},forDualstorageCaller:function(a,b,c){return this.needsTranslation?function(d){return a.call(null,b,d,c)}:a}},e=function(a,b,c){var d,e,f;return f=new Store(c.storeName),e=function(){switch(a){case"read":return b.id?f.find(b):f.findAll();case"hasDirtyOrDestroyed":return f.hasDirtyOrDestroyed();case"clear":return f.clear();case"create":return c.add&&!c.merge&&(d=f.find(b))?d:(b=f.create(b),c.dirty&&f.dirty(b),b);case"update":return f.update(b),c.dirty?f.dirty(b):f.clean(b,"dirty");case"delete":return f.destroy(b),c.dirty?f.destroyed(b):36===b.id.toString().length?f.clean(b,"dirty"):f.clean(b,"destroyed")}}(),(null!=e?e.attributes:void 0)&&(e=e.attributes),c.ignoreCallbacks||(e?c.success(e):c.error("Record not found")),e},h=function(a,b){var c;return a?(c=a[b],_.isFunction(c)?c.call(a):c):null},g=function(a,b){return a&&a.parseBeforeLocalSave?_.isFunction(a.parseBeforeLocalSave)?a.parseBeforeLocalSave(b):void 0:b},b=Backbone.sync,f=function(a,d,e){return e.success=c.forBackboneCaller(e.success),e.error=c.forBackboneCaller(e.error),b(a,d,e)},d=function(a,b,d){var i,j,k,l;if(d.storeName=h(b.collection,"url")||h(b,"url"),d.success=c.forDualstorageCaller(d.success,b,d),d.error=c.forDualstorageCaller(d.error,b,d),h(b,"remote")||h(b.collection,"remote"))return f(a,b,d);if(j=h(b,"local")||h(b.collection,"local"),d.dirty=d.remote===!1&&!j,d.remote===!1||j)return e(a,b,d);switch(d.ignoreCallbacks=!0,l=d.success,i=d.error,a){case"read":return e("hasDirtyOrDestroyed",b,d)?l(e(a,b,d)):(d.success=function(a,c,f){var h,i,j;if(a=g(b,a),d.add||e("clear",b,d),_.isArray(a))for(i=0,j=a.length;j>i;i++)h=a[i],e("create",h,d);else e("create",a,d);return l(a,c,f)},d.error=function(){return l(e(a,b,d))},f(a,b,d));case"create":return d.success=function(b,c,f){return e(a,b,d),l(b,c,f)},d.error=function(){return d.dirty=!0,l(e(a,b,d))},f(a,b,d);case"update":return _.isString(b.id)&&36===b.id.length?(k=b.clone(),d.success=function(a,b,c){return e("delete",k,d),e("create",a,d),l(a,b,c)},d.error=function(){return d.dirty=!0,l(e(a,k,d))},b.set({id:null}),f("create",b,d)):(d.success=function(c,f,g){var h;return h=_.extend({},b.toJSON(),c),e(a,h,d),l(c,f,g)},d.error=function(){return d.dirty=!0,l(e(a,b,d))},f(a,b,d));case"delete":return _.isString(b.id)&&36===b.id.length?e(a,b,d):(d.success=function(c,f,g){return e(a,b,d),l(c,f,g)},d.error=function(){return d.dirty=!0,l(e(a,b,d))},f(a,b,d))}},Backbone.sync=d}.call(this),function(){var a,b=this,c=b.Backbone,d=[],e=d.push,f=d.slice,g=d.splice;a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.0.0";var h=b._;h||"undefined"==typeof require||(h=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var i=a.Events={on:function(a,b,c){if(!k(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,i,j,l,m;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:h.keys(this._events),i=0,j=g.length;j>i;i++)if(a=g[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=f.length;m>l;l++)e=f[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!k(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&l(c,b),d&&l(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},j=/\s+/,k=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(j.test(c)){for(var f=c.split(j),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},l=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},m={listenTo:"on",listenToOnce:"once"};h.each(m,function(a,b){i[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=h.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),i.bind=i.on,i.unbind=i.off,h.extend(a,i);var n=a.Model=function(a,b){var c,d=a||{};b||(b={}),this.cid=h.uniqueId("c"),this.attributes={},h.extend(this,h.pick(b,o)),b.parse&&(d=this.parse(d,b)||{}),(c=h.result(this,"defaults"))&&(d=h.defaults({},d,c)),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)},o=["url","urlRoot","collection"];h.extend(n.prototype,i,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,i=c.silent,g=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=h.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],h.isEqual(l[d],b)||g.push(d),h.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete l[d]:l[d]=b;if(!i){g.length&&(this._pending=!0);for(var m=0,n=g.length;n>m;m++)this.trigger("change:"+g[m],this,l[g[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),b.trigger("sync",b,d,a),void 0):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,c){var d,e,f,g=this.attributes;if(null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,!(!d||c&&c.wait||this.set(d,c)))return!1;if(c=h.extend({validate:!0},c),!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=h.extend({},g,d)),void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;return c.success=function(a){i.attributes=g;var b=i.parse(a,c);return c.wait&&(b=h.extend(d||{},b)),h.isObject(b)&&!i.set(b,c)?!1:(j&&j(i,a,c),i.trigger("sync",i,a,c),void 0)},L(this,c),e=this.isNew()?"create":c.patch?"patch":"update","patch"===e&&(c.attrs=d),f=this.sync(e,this,c),d&&c.wait&&(this.attributes=g),f},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(e){(a.wait||b.isNew())&&d(),c&&c(b,e,a),b.isNew()||b.trigger("sync",b,e,a)},this.isNew())return a.success(),!1;L(this,a);var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||K();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},h.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,h.extend(b||{},{validationError:c})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];h.each(p,function(a){n.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.attributes),h[a].apply(h,b)}});var q=a.Collection=function(a,b){b||(b={}),b.url&&(this.url=b.url),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,h.extend({silent:!0},b))},r={add:!0,remove:!0,merge:!0},s={add:!0,merge:!1,remove:!1};h.extend(q.prototype,i,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){return this.set(a,h.defaults(b||{},s))},remove:function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,e,f;for(c=0,d=a.length;d>c;c++)f=this.get(a[c]),f&&(delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f));return this},set:function(a,b){b=h.defaults(b||{},r),b.parse&&(a=this.parse(a,b)),h.isArray(a)||(a=a?[a]:[]);var c,d,f,i,j,k=b.at,l=this.comparator&&null==k&&b.sort!==!1,m=h.isString(this.comparator)?this.comparator:null,n=[],o=[],p={};for(c=0,d=a.length;d>c;c++)(f=this._prepareModel(a[c],b))&&((i=this.get(f))?(b.remove&&(p[i.cid]=!0),b.merge&&(i.set(f.attributes,b),l&&!j&&i.hasChanged(m)&&(j=!0))):b.add&&(n.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f)));if(b.remove){for(c=0,d=this.length;d>c;++c)p[(f=this.models[c]).cid]||o.push(f);o.length&&this.remove(o,b)}if(n.length&&(l&&(j=!0),this.length+=n.length,null!=k?g.apply(this.models,[k,0].concat(n)):e.apply(this.models,n)),j&&this.sort({silent:!0}),b.silent)return this;for(c=0,d=n.length;d>c;c++)(f=n[c]).trigger("add",f,this,b);return j&&this.trigger("sort",this,b),this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);return b.previousModels=this.models,this._reset(),this.add(a,h.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:this.length},b)),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return h.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=h.isFunction(b)?b:function(a){return a.get(b)};return h.sortedIndex(this.models,a,d,c)},pluck:function(a){return h.invoke(this.models,"get",a)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?h.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(e){b.wait&&c.add(a,b),d&&d(a,e,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof n)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var t=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(t,function(a){q.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.models),h[a].apply(h,b)}});var u=["groupBy","countBy","sortBy"];h.each(u,function(a){q.prototype[a]=function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});var v=a.View=function(a){this.cid=h.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];h.extend(v.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=h.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(h.isFunction(c)||(c=this[a[b]]),c){var d=b.match(w),e=d[1],f=d[2];c=h.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(a){this.options&&(a=h.extend({},h.result(this,"options"),a)),h.extend(this,h.pick(a,x)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var b=h.extend({},h.result(this,"attributes"));this.id&&(b.id=h.result(this,"id")),this.className&&(b["class"]=h.result(this,"className"));var c=a.$("<"+h.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}}),a.sync=function(b,c,d){var e=y[b];h.defaults(d||(d={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var f={type:e,dataType:"json"};if(d.url||(f.url=h.result(c,"url")||K()),null!=d.data||!c||"create"!==b&&"update"!==b&&"patch"!==b||(f.contentType="application/json",f.data=JSON.stringify(d.attrs||c.toJSON(d))),d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST",d.emulateJSON&&(f.data._method=e);var g=d.beforeSend;d.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",e),g?g.apply(this,arguments):void 0}}"GET"===f.type||d.emulateJSON||(f.processData=!1),"PATCH"!==f.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=d.xhr=a.ajax(h.extend(f,d));return c.trigger("request",c,i,d),i};var y={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var z=a.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,C=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(z.prototype,i,{initialize:function(){},route:function(b,c,d){h.isRegExp(b)||(b=this._routeToRegExp(b)),h.isFunction(c)&&(d=c,c=""),d||(d=this[c]);var e=this;return a.history.route(b,function(f){var g=e._extractParameters(b,f);d&&d.apply(e,g),e.trigger.apply(e,["route:"+c].concat(g)),e.trigger("route",c,g),a.history.trigger("route",e,c,g)}),this},navigate:function(b,c){return a.history.navigate(b,c),this},_bindRoutes:function(){if(this.routes){this.routes=h.result(this,"routes");for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(D,"\\$&").replace(A,"(?:$1)?").replace(B,function(a,b){return b?a:"([^/]+)"}).replace(C,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return h.map(c,function(a){return a?decodeURIComponent(a):null})}});var E=a.History=function(){this.handlers=[],h.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,G=/^\/+|\/+$/g,H=/msie [\w.]+/,I=/\/$/;E.started=!1,h.extend(E.prototype,i,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(I,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(F,"")},start:function(b){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=h.extend({},{root:"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=H.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(G,"/"),e&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=c;var f=this.location,g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&g&&f.hash&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,this.root+this.fragment+f.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),E.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=h.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0});return c},navigate:function(a,b){if(!E.started)return!1;if(b&&b!==!0||(b={trigger:b}),a=this.getFragment(a||""),this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),a.history=new E;var J=function(a,b){var c,d=this;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},h.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&h.extend(c.prototype,a),c.__super__=d.prototype,c};n.extend=q.extend=z.extend=v.extend=E.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}}.call(this),function(a,b){"object"==typeof exports&&a.require?module.exports=b(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],function(c,d){return b(c||a._,d||a.Backbone)}):b(_,Backbone)}(this,function(a,b){function c(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(p,""),d=this.location.search;a.indexOf(c)||(a=a.substr(c.length)),d&&(a+=d)}else a=this.getHash();return a.replace(o,"")}function d(a){return decodeURIComponent(a.replace(/\+/g," "))}function e(b,c){var d=b.split("&");a.each(d,function(a){var b=a.split("=");c(b.shift(),b.join("="))})}var f=/^\?(.*)/,g=/\((.*?)\)/g,h=/(\(\?)?:\w+/g,i=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g,k=/(\?.*)$/,l=/^([^\?]*)/,m=/(\?)[\w-]+/i,n=/[\:\*]([^\:\?\/]+)/g,o=/^[#\/]|\s+$/g,p=/\/$/;b.Router.arrayValueSplit="|",a.extend(b.History.prototype,{getFragment:function(a){var b=this._wantsHashChange&&this._wantsPushState&&!this._hasPushState,d=c.apply(this,arguments);return null!=a||null!=d||m.test(d)?b&&(d=d.replace(k,"")):d+=this.location.search,d},getQueryParameters:function(b){b=c.apply(this,arguments);var g=b.replace(l,""),h=g.match(f);if(h){g=h[1];var i={};return e(g,function(b,c){c=d(c),i[b]?a.isString(i[b])?i[b]=[i[b],c]:i[b].push(c):i[b]=c}),i}return{}}}),a.extend(b.Router.prototype,{initialize:function(a){this.encodedSplatParts=a&&a.encodedSplatParts},getFragment:function(a,b,d){return a=c.apply(this,arguments),d&&(a=a.replace(k,"")),a},_routeToRegExp:function(b){var c=i.exec(b)||{index:-1},d=h.exec(b)||{index:-1},e=b.match(n)||[];b=b.replace(j,"\\$&").replace(g,"(?:$1)?").replace(h,function(a,b){return b?a:"([^\\/\\?]+)"}).replace(i,"([^??]*?)"),b+="(\\?.*)?";var f=new RegExp("^"+b+"$");return c.index>=0&&(f.splatMatch=d>=0?c.index-d.index:-1),f.paramNames=a.map(e,function(a){return a.substring(1)}),f.namedParameters=this.namedParameters,f},_extractParameters:function(c,g){var h=c.exec(g).slice(1),i={};h.length>0&&a.isUndefined(h[h.length-1])&&h.splice(h.length-1,1);var j=h.length&&h[h.length-1]&&h[h.length-1].match(f);if(j){var k=j[1],l={};if(k){var m=this;e(k,function(a,b){m._setParamValue(a,b,l)})}h[h.length-1]=l,a.extend(i,l)}var n=h.length;if(c.splatMatch&&this.encodedSplatParts){if(c.splatMatch<0)return h;n-=1}for(var o=0;n>o;o++)a.isString(h[o])&&(h[o]=d(h[o]),c.paramNames&&c.paramNames.length>=o-1&&(i[c.paramNames[o]]=h[o]));return b.Router.namedParameters||c.namedParameters?[i]:h},_setParamValue:function(a,b,c){a=a.replace("[]","");for(var d=a.split("."),e=c,f=0;f<d.length;f++){var g=d[f];f===d.length-1?e[g]=this._decodeParamValue(b,e[g]):e=e[g]=e[g]||{}}},_decodeParamValue:function(c,e){var f=b.Router.arrayValueSplit;if(f&&c.indexOf(f)>=0){for(var g=c.split(f),h=g.length-1;h>=0;h--)g[h]?g[h]=d(g[h]):g.splice(h,1);return g}return c=d(c),e?a.isArray(e)?(e.push(c),e):[e,c]:c},toFragment:function(b,c){return c&&(a.isString(c)||(c=this._toQueryString(c)),c&&(b+="?"+c)),b},_toQueryString:function(c,d){function e(a){return String(a).replace(f,encodeURIComponent(f))}var f=b.Router.arrayValueSplit;if(!c)return"";d=d||"";var g="";for(var h in c){var i=c[h];if(a.isString(i)||a.isNumber(i)||a.isBoolean(i)||a.isDate(i))i=this._toQueryParam(i),(a.isBoolean(i)||a.isNumber(i)||a.isString(i)||i)&&(g+=(g?"&":"")+this._toQueryParamName(h,d)+"="+e(encodeURIComponent(i)));else if(a.isArray(i)){for(var j="",k=0;k<i.length;k++){var l=this._toQueryParam(i[k]);(a.isBoolean(l)||null!==l)&&(j+=f+e(l))}j&&(g+=(g?"&":"")+this._toQueryParamName(h,d)+"="+j)}else{var m=this._toQueryString(i,this._toQueryParamName(h,d,!0));m&&(g+=(g?"&":"")+m)}}return g},_toQueryParamName:function(a,b,c){return b+a+(c?".":"")},_toQueryParam:function(b){return a.isNull(b)||a.isUndefined(b)?null:b}})}),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},FastClick.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},FastClick.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},FastClick.prototype.focus=function(a){"use strict";var b;this.deviceIsIOS&&a.setSelectionRange?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},FastClick.prototype.updateScrollParent=function(a){"use strict";var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(a){"use strict";return a.nodeType===Node.TEXT_NODE?a.parentNode:a},FastClick.prototype.onTouchStart=function(a){"use strict";var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],this.deviceIsIOS){if(d=window.getSelection(),d.rangeCount&&!d.isCollapsed)return!0;if(!this.deviceIsIOS4){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<200&&a.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},FastClick.prototype.onTouchMove=function(a){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(a){"use strict";return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(a){"use strict";var b,c,d,e,f,g=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(f=a.changedTouches[0],g=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||g,g.fastClickScrollParent=this.targetElement.fastClickScrollParent),d=g.tagName.toLowerCase(),"label"===d){if(b=this.findControl(g)){if(this.focus(g),this.deviceIsAndroid)return!1;g=b}}else if(this.needsFocus(g))return a.timeStamp-c>100||this.deviceIsIOS&&window.top!==window&&"input"===d?(this.targetElement=null,!1):(this.focus(g),this.deviceIsIOS4&&"select"===d||(this.targetElement=null,a.preventDefault()),!1);
return this.deviceIsIOS&&!this.deviceIsIOS4&&(e=g.fastClickScrollParent,e&&e.fastClickLastScrollTop!==e.scrollTop)?!0:(this.needsClick(g)||(a.preventDefault(),this.sendClick(g,a)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(a){"use strict";return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},FastClick.prototype.destroy=function(){"use strict";var a=this.layer;this.deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(a){"use strict";var b;if("undefined"==typeof window.ontouchstart)return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent)){if(!FastClick.prototype.deviceIsAndroid)return!0;if(b=document.querySelector("meta[name=viewport]"),b&&-1!==b.content.indexOf("user-scalable=no"))return!0}return"none"===a.style.msTouchAction?!0:!1},FastClick.attach=function(a){"use strict";return new FastClick(a)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(){function a(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a}function b(){var a,b=arguments.length,c={},d=function(a,b){var c,e;"object"!=typeof a&&(a={});for(e in b)b.hasOwnProperty(e)&&(c=b[e],a[e]=c&&"object"==typeof c&&"[object Array]"!==Object.prototype.toString.call(c)&&"number"!=typeof c.nodeType?d(a[e]||{},c):b[e]);return a};for(a=0;b>a;a++)c=d(c,arguments[a]);return c}function c(){for(var a=0,b=arguments,c=b.length,d={};c>a;a++)d[b[a++]]=b[a];return d}function d(a,b){return parseInt(a,b||10)}function e(a){return"string"==typeof a}function f(a){return"object"==typeof a}function g(a){return"[object Array]"===Object.prototype.toString.call(a)}function h(a){return"number"==typeof a}function i(a){return qb.log(a)/qb.LN10}function j(a){return qb.pow(10,a)}function k(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}}function l(a){return a!==W&&null!==a}function m(a,b,c){var d,g,h="setAttribute";if(e(b))l(c)?a[h](b,c):a&&a.getAttribute&&(g=a.getAttribute(b));else if(l(b)&&f(b))for(d in b)a[h](d,b[d]);return g}function n(a){return g(a)?a:[a]}function o(){var a,b,c=arguments,d=c.length;for(a=0;d>a;a++)if(b=c[a],"undefined"!=typeof b&&null!==b)return b}function p(b,c){Db&&c&&c.opacity!==W&&(c.filter="alpha(opacity="+100*c.opacity+")"),a(b.style,c)}function q(b,c,d,e,f){var g=ob.createElement(b);return c&&a(g,c),f&&p(g,{padding:0,border:$b,margin:0}),d&&p(g,d),e&&e.appendChild(g),g}function r(b,c){var d=function(){};return d.prototype=new b,a(d.prototype,c),d}function s(a,b,c,e){var f=Z.lang,g=+a||0,h=-1===b?(g.toString().split(".")[1]||"").length:isNaN(b=wb(b))?2:b,i=void 0===c?f.decimalPoint:c,j=void 0===e?f.thousandsSep:e,k=0>g?"-":"",l=String(d(g=wb(g).toFixed(h))),m=l.length>3?l.length%3:0;return k+(m?l.substr(0,m)+j:"")+l.substr(m).replace(/(\d{3})(?=\d)/g,"$1"+j)+(h?i+wb(g-l).toFixed(h).slice(2):"")}function t(a,b){return new Array((b||2)+1-String(a).length).join(0)+a}function u(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(d),c.apply(this,a)}}function v(a,b){var c,d=/f$/,e=/\.([0-9])/,f=Z.lang;return d.test(a)?(c=a.match(e),c=c?c[1]:-1,b=s(b,c,f.decimalPoint,a.indexOf(",")>-1?f.thousandsSep:"")):b=$(a,b),b}function w(a,b){for(var c,d,e,f,g,h,i,j="{",k=!1,l=[];-1!==(i=a.indexOf(j));){if(c=a.slice(0,i),k){for(d=c.split(":"),e=d.shift().split("."),g=e.length,h=b,f=0;g>f;f++)h=h[e[f]];d.length&&(h=v(d.join(":"),h)),l.push(h)}else l.push(c);a=a.slice(i+1),k=!k,j=k?"}":"{"}return l.push(a),l.join("")}function x(a){return qb.pow(10,sb(qb.log(a)/qb.LN10))}function y(a,b,c,d){var e,f;for(c=o(c,1),e=a/c,b||(b=[1,2,2.5,5,10],d&&d.allowDecimals===!1&&(1===c?b=[1,2,5,10]:.1>=c&&(b=[1/c]))),f=0;f<b.length&&(a=b[f],!(e<=(b[f]+(b[f+1]||b[f]))/2));f++);return a*=c}function z(a,b){var c,d,e=b||[[fc,[1,2,5,10,20,25,50,100,200,500]],[gc,[1,2,5,10,15,30]],[hc,[1,2,5,10,15,30]],[ic,[1,2,3,4,6,8,12]],[jc,[1,2]],[kc,[1,2]],[lc,[1,2,3,4,6]],[mc,null]],f=e[e.length-1],g=bb[f[0]],h=f[1];for(d=0;d<e.length;d++)if(f=e[d],g=bb[f[0]],h=f[1],e[d+1]){var i=(g*h[h.length-1]+bb[e[d+1][0]])/2;if(i>=a)break}return g===bb[mc]&&5*g>a&&(h=[1,2,5]),c=y(a/g,h,f[0]===mc?ub(x(a/g),1):1),{unitRange:g,count:c,unitName:f[0]}}function A(b,c,d,e){var f,g,h=[],i={},j=Z.global.useUTC,k=new Date(c),m=b.unitRange,n=b.count;if(l(c)){m>=bb[gc]&&(k.setMilliseconds(0),k.setSeconds(m>=bb[hc]?0:n*sb(k.getSeconds()/n))),m>=bb[hc]&&k[jb](m>=bb[ic]?0:n*sb(k[db]()/n)),m>=bb[ic]&&k[kb](m>=bb[jc]?0:n*sb(k[eb]()/n)),m>=bb[jc]&&k[lb](m>=bb[lc]?1:n*sb(k[gb]()/n)),m>=bb[lc]&&(k[mb](m>=bb[mc]?0:n*sb(k[hb]()/n)),g=k[ib]()),m>=bb[mc]&&(g-=g%n,k[nb](g)),m===bb[kc]&&k[lb](k[gb]()-k[fb]()+o(e,1)),f=1,g=k[ib]();for(var p=k.getTime(),q=k[hb](),r=k[gb](),s=j?0:(864e5+60*k.getTimezoneOffset()*1e3)%864e5;d>p;)h.push(p),m===bb[mc]?p=cb(g+f*n,0):m===bb[lc]?p=cb(g,q+f*n):j||m!==bb[jc]&&m!==bb[kc]?p+=m*n:p=cb(g,q,r+f*n*(m===bb[jc]?1:7)),f++;h.push(p),uc(vc(h,function(a){return m<=bb[ic]&&a%bb[jc]===s}),function(a){i[a]=jc})}return h.info=a(b,{higherRanks:i,totalRange:m*n}),h}function B(){this.color=0,this.symbol=0}function C(a,b){var c,d,e=a.length;for(d=0;e>d;d++)a[d].ss_i=d;for(a.sort(function(a,d){return c=b(a,d),0===c?a.ss_i-d.ss_i:c}),d=0;e>d;d++)delete a[d].ss_i}function D(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function E(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function F(a,b){var c;for(c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c]}function G(a){Y||(Y=q(Tb)),a&&Y.appendChild(a),Y.innerHTML=""}function H(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw c;pb.console&&console.log(c)}function I(a){return parseFloat(a.toPrecision(14))}function J(a,b){_=o(a,b.animation)}function K(){var a=Z.global.useUTC,b=a?"getUTC":"get",c=a?"setUTC":"set";cb=a?Date.UTC:function(a,b,c,d,e,f){return new Date(a,b,o(c,1),o(d,0),o(e,0),o(f,0)).getTime()},db=b+"Minutes",eb=b+"Hours",fb=b+"Day",gb=b+"Date",hb=b+"Month",ib=b+"FullYear",jb=c+"Minutes",kb=c+"Hours",lb=c+"Date",mb=c+"Month",nb=c+"FullYear"}function L(a){return Z=b(Z,a),K(),Z}function M(){return Z}function N(){}function O(a,b,c,d){this.axis=a,this.pos=b,this.type=c||"",this.isNew=!0,c||d||this.addLabel()}function P(a,b){this.axis=a,b&&(this.options=b,this.id=b.id)}function Q(a,b,c,d,e,f){var g=a.chart.inverted;this.axis=a,this.isNegative=c,this.options=b,this.x=d,this.total=null,this.points={},this.stack=e,this.percent="percent"===f,this.alignOptions={align:b.align||(g?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(g?"middle":c?"bottom":"top"),y:o(b.y,g?4:c?14:-6),x:o(b.x,g?c?-6:6:0)},this.textAlign=b.textAlign||(g?c?"right":"left":"center")}function R(){this.init.apply(this,arguments)}function S(){this.init.apply(this,arguments)}function T(a,b){this.init(a,b)}function U(a,b){this.init(a,b)}function V(){this.init.apply(this,arguments)}var W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob=document,pb=window,qb=Math,rb=qb.round,sb=qb.floor,tb=qb.ceil,ub=qb.max,vb=qb.min,wb=qb.abs,xb=qb.cos,yb=qb.sin,zb=qb.PI,Ab=2*zb/360,Bb=navigator.userAgent,Cb=pb.opera,Db=/msie/i.test(Bb)&&!Cb,Eb=8===ob.documentMode,Fb=/AppleWebKit/.test(Bb),Gb=/Firefox/.test(Bb),Hb=/(Mobile|Android|Windows Phone)/.test(Bb),Ib="http://www.w3.org/2000/svg",Jb=!!ob.createElementNS&&!!ob.createElementNS(Ib,"svg").createSVGRect,Kb=Gb&&parseInt(Bb.split("Firefox/")[1],10)<4,Lb=!Jb&&!Db&&!!ob.createElement("canvas").getContext,Mb=ob.documentElement.ontouchstart!==W,Nb={},Ob=0,Pb=function(){},Qb=[],Rb="Highcharts",Sb="3.0.7",Tb="div",Ub="absolute",Vb="relative",Wb="hidden",Xb="highcharts-",Yb="visible",Zb="px",$b="none",_b="M",ac="L",bc="rgba(192,192,192,"+(Jb?1e-4:.002)+")",cc="",dc="hover",ec="select",fc="millisecond",gc="second",hc="minute",ic="hour",jc="day",kc="week",lc="month",mc="year",nc="stroke-width",oc={};pb.Highcharts=pb.Highcharts?H(16,!0):{},$=function(b,c,d){if(!l(c)||isNaN(c))return"Invalid date";b=o(b,"%Y-%m-%d %H:%M:%S");var e,f=new Date(c),g=f[eb](),h=f[fb](),i=f[gb](),j=f[hb](),k=f[ib](),m=Z.lang,n=m.weekdays,p=a({a:n[h].substr(0,3),A:n[h],d:t(i),e:i,b:m.shortMonths[j],B:m.months[j],m:t(j+1),y:k.toString().substr(2,2),Y:k,H:t(g),I:t(g%12||12),l:g%12||12,M:t(f[db]()),p:12>g?"AM":"PM",P:12>g?"am":"pm",S:t(f.getSeconds()),L:t(rb(c%1e3),3)},Highcharts.dateFormats);for(e in p)for(;-1!==b.indexOf("%"+e);)b=b.replace("%"+e,"function"==typeof p[e]?p[e](c):p[e]);return d?b.substr(0,1).toUpperCase()+b.substr(1):b},B.prototype={wrapColor:function(a){this.color>=a&&(this.color=0)},wrapSymbol:function(a){this.symbol>=a&&(this.symbol=0)}},bb=c(fc,1,gc,1e3,hc,6e4,ic,36e5,jc,864e5,kc,6048e5,lc,26784e5,mc,31556952e3),ab={init:function(a,b,c){b=b||"";var d,e,f,g,h,i=a.shift,j=b.indexOf("C")>-1,k=j?7:3,l=b.split(" "),m=[].concat(c),n=function(a){for(f=a.length;f--;)a[f]===_b&&a.splice(f+1,0,a[f+1],a[f+2],a[f+1],a[f+2])};if(j&&(n(l),n(m)),a.isArea&&(g=l.splice(l.length-6,6),h=m.splice(m.length-6,6)),i<=m.length/k&&l.length===m.length)for(;i--;)m=[].concat(m).splice(0,k).concat(m);if(a.shift=0,l.length)for(d=m.length;l.length<d;)e=[].concat(l).splice(l.length-k,k),j&&(e[k-6]=e[k-2],e[k-5]=e[k-1]),l=l.concat(e);return g&&(l=l.concat(g),m=m.concat(h)),[l,m]},step:function(a,b,c,d){var e,f=[],g=a.length;if(1===c)f=d;else if(g===b.length&&1>c)for(;g--;)e=parseFloat(a[g]),f[g]=isNaN(e)?a[g]:c*parseFloat(b[g]-e)+e;else f=b;return f}},function(b){pb.HighchartsAdapter=pb.HighchartsAdapter||b&&{init:function(a){var c,d=b.fx,f=d.step,g=b.Tween,h=g&&g.propHooks,i=b.cssHooks.opacity;b.extend(b.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}}),b.each(["cur","_default","width","height","opacity"],function(a,b){var c,e,i=f;"cur"===b?i=d.prototype:"_default"===b&&g&&(i=h[b],b="set"),c=i[b],c&&(i[b]=function(d){return d=a?d:this,"align"!==d.prop?(e=d.elem,e.attr?e.attr(d.prop,"cur"===b?W:d.now):c.apply(this,arguments)):void 0})}),u(i,"get",function(a,b,c){return b.attr?b.opacity||0:a.call(this,b,c)}),c=function(b){var c,d=b.elem;b.started||(c=a.init(d,d.d,d.toD),b.start=c[0],b.end=c[1],b.started=!0),d.attr("d",a.step(b.start,b.end,b.pos,d.toD))},g?h.d={set:c}:f.d=c,this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(b.call(a[c],a[c],c,a)===!1)return c},b.fn.highcharts=function(){var a,b,c,d="Chart",f=arguments;return e(f[0])&&(d=f[0],f=Array.prototype.slice.call(f,1)),a=f[0],a!==W&&(a.chart=a.chart||{},a.chart.renderTo=this[0],c=new Highcharts[d](a,f[1]),b=this),a===W&&(b=Qb[m(this[0],"data-highcharts-chart")]),b}},getScript:b.getScript,inArray:b.inArray,adapterRun:function(a,c){return b(a)[c]()},grep:b.grep,map:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c[d]=b.call(a[d],a[d],d,a);return c},offset:function(a){return b(a).offset()},addEvent:function(a,c,d){b(a).bind(c,d)},removeEvent:function(a,c,d){var e=ob.removeEventListener?"removeEventListener":"detachEvent";ob[e]&&a&&!a[e]&&(a[e]=function(){}),b(a).unbind(c,d)},fireEvent:function(c,d,e,f){var g,h=b.Event(d),i="detached"+d;!Db&&e&&(delete e.layerX,delete e.layerY),a(h,e),c[d]&&(c[i]=c[d],c[d]=null),b.each(["preventDefault","stopPropagation"],function(a,b){var c=h[b];h[b]=function(){try{c.call(h)}catch(a){"preventDefault"===b&&(g=!0)}}}),b(c).trigger(h),c[i]&&(c[d]=c[i],c[i]=null),!f||h.isDefaultPrevented()||g||f(h)},washMouseEvent:function(a){var b=a.originalEvent||a;return b.pageX===W&&(b.pageX=a.pageX,b.pageY=a.pageY),b},animate:function(a,c,d){var e=b(a);a.style||(a.style={}),c.d&&(a.toD=c.d,c.d=1),e.stop(),c.opacity!==W&&a.attr&&(c.opacity+="px"),e.animate(c,d)},stop:function(a){b(a).stop()}}}(pb.jQuery);var pc=pb.HighchartsAdapter,qc=pc||{};pc&&pc.init.call(pc,ab);var rc=qc.adapterRun,sc=qc.getScript,tc=qc.inArray,uc=qc.each,vc=qc.grep,wc=qc.offset,xc=qc.map,yc=qc.addEvent,zc=qc.removeEvent,Ac=qc.fireEvent,Bc=qc.washMouseEvent,Cc=qc.animate,Dc=qc.stop,Ec={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};Z={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.7/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:b(Ec,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":s(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:Ub,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Ub,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:Vb,top:"1em"},style:{position:Ub,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Jb,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:Hb?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Fc=Z.plotOptions,Gc=Fc.line;K();var Hc=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Ic=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Jc=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Kc=function(a){function c(a){a&&a.stops?j=xc(a.stops,function(a){return Kc(a[1])}):(i=Hc.exec(a),i?k=[d(i[1]),d(i[2]),d(i[3]),parseFloat(i[4],10)]:(i=Ic.exec(a),i?k=[d(i[1],16),d(i[2],16),d(i[3],16),1]:(i=Jc.exec(a),i&&(k=[d(i[1]),d(i[2]),d(i[3]),1]))))}function e(c){var d;return j?(d=b(a),d.stops=[].concat(d.stops),uc(j,function(a,b){d.stops[b]=[d.stops[b][0],a.get(c)]})):d=k&&!isNaN(k[0])?"rgb"===c?"rgb("+k[0]+","+k[1]+","+k[2]+")":"a"===c?k[3]:"rgba("+k.join(",")+")":a,d}function f(a){if(j)uc(j,function(b){b.brighten(a)});else if(h(a)&&0!==a){var b;for(b=0;3>b;b++)k[b]+=d(255*a),k[b]<0&&(k[b]=0),k[b]>255&&(k[b]=255)}return this}function g(a){return k[3]=a,this}var i,j,k=[];return c(a),{get:e,brighten:f,rgba:k,setOpacity:g}};N.prototype={init:function(a,b){var c=this;c.element="span"===b?q(b):ob.createElementNS(Ib,b),c.renderer=a,c.attrSetters={}},opacity:1,animate:function(a,c,d){var e=o(c,_,!0);Dc(this),e?(e=b(e),d&&(e.complete=d),Cc(this,a,e)):(this.attr(a),d&&d())},attr:function(a,b){var c,f,g,h,i,j,k,n,p,q=this,r=q.element,s=r.nodeName.toLowerCase(),t=q.renderer,u=q.attrSetters,v=q.shadows,w=q;if(e(a)&&l(b)&&(c=a,a={},a[c]=b),e(a))c=a,"circle"===s?c={x:"cx",y:"cy"}[c]||c:"strokeWidth"===c&&(c="stroke-width"),w=m(r,c)||q[c]||0,"d"!==c&&"visibility"!==c&&"fill"!==c&&(w=parseFloat(w));else{for(c in a)if(j=!1,f=a[c],g=u[c]&&u[c].call(q,f,c),g!==!1){if(g!==W&&(f=g),"d"===c)f&&f.join&&(f=f.join(" ")),/(NaN| {2}|^$)/.test(f)&&(f="M 0 0");else if("x"===c&&"text"===s)for(h=0;h<r.childNodes.length;h++)i=r.childNodes[h],m(i,"x")===m(r,"x")&&m(i,"x",f);else if(!q.rotation||"x"!==c&&"y"!==c)if("fill"===c)f=t.color(f,r,c);else if("circle"!==s||"x"!==c&&"y"!==c)if("rect"===s&&"r"===c)m(r,{rx:f,ry:f}),j=!0;else if("translateX"===c||"translateY"===c||"rotation"===c||"verticalAlign"===c||"scaleX"===c||"scaleY"===c)p=!0,j=!0;else if("stroke"===c)f=t.color(f,r,c);else if("dashstyle"===c){if(c="stroke-dasharray",f=f&&f.toLowerCase(),"solid"===f)f=$b;else if(f){for(f=f.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),h=f.length;h--;)f[h]=d(f[h])*o(a["stroke-width"],q["stroke-width"]);f=f.join(",")}}else"width"===c?f=d(f):"align"===c?(c="text-anchor",f={left:"start",center:"middle",right:"end"}[f]):"title"===c&&(k=r.getElementsByTagName("title")[0],k||(k=ob.createElementNS(Ib,"title"),r.appendChild(k)),k.textContent=f);else c={x:"cx",y:"cy"}[c]||c;else p=!0;if("strokeWidth"===c&&(c="stroke-width"),("stroke-width"===c||"stroke"===c)&&(q[c]=f,q.stroke&&q["stroke-width"]?(m(r,"stroke",q.stroke),m(r,"stroke-width",q["stroke-width"]),q.hasStroke=!0):"stroke-width"===c&&0===f&&q.hasStroke&&(r.removeAttribute("stroke"),q.hasStroke=!1),j=!0),q.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(c)&&(n||(q.symbolAttr(a),n=!0),j=!0),v&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(c))for(h=v.length;h--;)m(v[h],c,"height"===c?ub(f-(v[h].cutHeight||0),0):f);("width"===c||"height"===c)&&"rect"===s&&0>f&&(f=0),q[c]=f,"text"===c?(f!==q.textStr&&delete q.bBox,q.textStr=f,q.added&&t.buildText(q)):j||m(r,c,f)}p&&q.updateTransform()}return w},addClass:function(a){var b=this.element,c=m(b,"class")||"";return-1===c.indexOf(a)&&m(b,"class",c+" "+a),this},symbolAttr:function(a){var b=this;uc(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(c){b[c]=o(a[c],b[c])}),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":$b)},crisp:function(a,b,c,d,e){var f,g,h=this,i={},j={};a=a||h.strokeWidth||h.attr&&h.attr("stroke-width")||0,g=rb(a)%2/2,j.x=sb(b||h.x||0)+g,j.y=sb(c||h.y||0)+g,j.width=sb((d||h.width||0)-2*g),j.height=sb((e||h.height||0)-2*g),j.strokeWidth=a;for(f in j)h[f]!==j[f]&&(h[f]=i[f]=j[f]);return i},css:function(b){var c,e=this,f=e.element,g=e.textWidth=b&&b.width&&"text"===f.nodeName.toLowerCase()&&d(b.width),h="",i=function(a,b){return"-"+b.toLowerCase()};if(b&&b.color&&(b.fill=b.color),b=a(e.styles,b),e.styles=b,g&&delete b.width,Db&&!Jb)p(e.element,b);else{for(c in b)h+=c.replace(/([A-Z])/g,i)+":"+b[c]+";";m(f,"style",h)}return g&&e.added&&e.renderer.buildText(e),e},on:function(a,b){var c=this,d=c.element;return Mb&&"click"===a?(d.ontouchstart=function(a){c.touchEventFired=Date.now(),a.preventDefault(),b.call(d,a)},d.onclick=function(a){(-1===Bb.indexOf("Android")||Date.now()-(c.touchEventFired||0)>1100)&&b.call(d,a)}):d["on"+a]=b,this},setRadialReference:function(a){return this.element.radialReference=a,this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){var a=this;return a.inverted=!0,a.updateTransform(),a},htmlCss:function(b){var c=this,d=c.element,e=b&&"SPAN"===d.tagName&&b.width;return e&&(delete b.width,c.textWidth=e,c.updateTransform()),c.styles=a(c.styles,b),p(c.element,b),c},htmlGetBBox:function(){var a=this,b=a.element,c=a.bBox;return c||("text"===b.nodeName&&(b.style.position=Ub),c=a.bBox={x:b.offsetLeft,y:b.offsetTop,width:b.offsetWidth,height:b.offsetHeight}),c},htmlUpdateTransform:function(){if(!this.added)return this.alignOnAdd=!0,void 0;var a=this,b=a.renderer,c=a.element,e=a.translateX||0,f=a.translateY||0,g=a.x||0,h=a.y||0,i=a.textAlign||"left",j={left:0,center:.5,right:1}[i],k=i&&"left"!==i,m=a.shadows;if(p(c,{marginLeft:e,marginTop:f}),m&&uc(m,function(a){p(a,{marginLeft:e+1,marginTop:f+1})}),a.inverted&&uc(c.childNodes,function(a){b.invertChild(a,c)}),"SPAN"===c.tagName){var n,q,r,s,t=a.rotation,u=0,v=1,w=0,x=d(a.textWidth),y=a.xCorr||0,z=a.yCorr||0,A=[t,i,c.innerHTML,a.textWidth].join(",");A!==a.cTT&&(l(t)&&(u=t*Ab,v=xb(u),w=yb(u),a.setSpanRotation(t,w,v)),n=o(a.elemWidth,c.offsetWidth),q=o(a.elemHeight,c.offsetHeight),n>x&&/[ \-]/.test(c.textContent||c.innerText)&&(p(c,{width:x+Zb,display:"block",whiteSpace:"normal"}),n=x),r=b.fontMetrics(c.style.fontSize).b,y=0>v&&-n,z=0>w&&-q,s=0>v*w,y+=w*r*(s?1-j:j),z-=v*r*(t?s?j:1-j:1),k&&(y-=n*j*(0>v?-1:1),t&&(z-=q*j*(0>w?-1:1)),p(c,{textAlign:i})),a.xCorr=y,a.yCorr=z),p(c,{left:g+y+Zb,top:h+z+Zb}),Fb&&(q=c.offsetHeight),a.cTT=A}},setSpanRotation:function(a){var b={},c=Db?"-ms-transform":Fb?"-webkit-transform":Gb?"MozTransform":Cb?"-o-transform":"";b[c]=b.transform="rotate("+a+"deg)",p(this.element,b)},updateTransform:function(){var a,b=this,c=b.translateX||0,d=b.translateY||0,e=b.scaleX,f=b.scaleY,g=b.inverted,h=b.rotation;g&&(c+=b.attr("width"),d+=b.attr("height")),a=["translate("+c+","+d+")"],g?a.push("rotate(90) scale(-1,1)"):h&&a.push("rotate("+h+" "+(b.x||0)+" "+(b.y||0)+")"),(l(e)||l(f))&&a.push("scale("+o(e,1)+" "+o(f,1)+")"),a.length&&m(b.element,"transform",a.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,b,c){var d,f,g,h,i,j={},l=this.renderer,m=l.alignedObjects;return a?(this.alignOptions=a,this.alignByTranslate=b,(!c||e(c))&&(this.alignTo=i=c||"renderer",k(m,this),m.push(this),c=null)):(a=this.alignOptions,b=this.alignByTranslate,i=this.alignTo),c=o(c,l[i],l),d=a.align,f=a.verticalAlign,g=(c.x||0)+(a.x||0),h=(c.y||0)+(a.y||0),("right"===d||"center"===d)&&(g+=(c.width-(a.width||0))/{right:1,center:2}[d]),j[b?"translateX":"x"]=rb(g),("bottom"===f||"middle"===f)&&(h+=(c.height-(a.height||0))/({bottom:1,middle:2}[f]||1)),j[b?"translateY":"y"]=rb(h),this[this.placed?"animate":"attr"](j),this.placed=!0,this.alignAttr=j,this},getBBox:function(){var b,c,d=this,e=d.bBox,f=d.renderer,g=d.rotation,h=d.element,i=d.styles,j=g*Ab;if(!e){if(h.namespaceURI===Ib||f.forExport){try{e=h.getBBox?a({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight}}catch(k){}(!e||e.width<0)&&(e={width:0,height:0})}else e=d.htmlGetBBox();f.isSVG&&(b=e.width,c=e.height,Db&&i&&"11px"===i.fontSize&&"22.7"===c.toPrecision(3)&&(e.height=c=14),g&&(e.width=wb(c*yb(j))+wb(b*xb(j)),e.height=wb(c*xb(j))+wb(b*yb(j)))),d.bBox=e}return e},show:function(){return this.attr({visibility:Yb})},hide:function(){return this.attr({visibility:Wb})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.hide()}})},add:function(a){var b,c,e,f,g=this.renderer,h=a||g,i=h.element||g.box,j=i.childNodes,k=this.element,n=m(k,"zIndex");if(a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&g.buildText(this),n&&(h.handleZ=!0,n=d(n)),h.handleZ)for(e=0;e<j.length;e++)if(b=j[e],c=m(b,"zIndex"),b!==k&&(d(c)>n||!l(n)&&l(c))){i.insertBefore(k,b),f=!0;break}return f||i.appendChild(k),this.added=!0,Ac(this,"add"),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a,b,c,d=this,e=d.element||{},f=d.shadows,g=d.renderer.isSVG&&"SPAN"===e.nodeName&&d.parentGroup;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,Dc(d),d.clipPath&&(d.clipPath=d.clipPath.destroy()),d.stops){for(c=0;c<d.stops.length;c++)d.stops[c]=d.stops[c].destroy();d.stops=null}for(d.safeRemoveChild(e),f&&uc(f,function(a){d.safeRemoveChild(a)});g&&0===g.div.childNodes.length;)a=g.parentGroup,d.safeRemoveChild(g.div),delete g.div,g=a;d.alignTo&&k(d.renderer.alignedObjects,d);for(b in d)delete d[b];return null},shadow:function(a,b,c){var d,e,f,g,h,i,j=[],k=this.element;if(a){for(g=o(a.width,3),h=(a.opacity||.15)/g,i=this.parentInverted?"(-1,-1)":"("+o(a.offsetX,1)+", "+o(a.offsetY,1)+")",d=1;g>=d;d++)e=k.cloneNode(0),f=2*g+1-2*d,m(e,{isShadow:"true",stroke:a.color||"black","stroke-opacity":h*d,"stroke-width":f,transform:"translate"+i,fill:$b}),c&&(m(e,"height",ub(m(e,"height")-f,0)),e.cutHeight=f),b?b.element.appendChild(e):k.parentNode.insertBefore(e,k),j.push(e);this.shadows=j}return this}};var Lc=function(){this.init.apply(this,arguments)};Lc.prototype={Element:N,init:function(a,b,c,d){var e,f,g,h=this,i=location;e=h.createElement("svg").attr({version:"1.1"}),f=e.element,a.appendChild(f),-1===a.innerHTML.indexOf("xmlns")&&m(f,"xmlns",Ib),h.isSVG=!0,h.box=f,h.boxWrapper=e,h.alignedObjects=[],h.url=(Gb||Fb)&&ob.getElementsByTagName("base").length?i.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",g=this.createElement("desc").add(),g.element.appendChild(ob.createTextNode("Created with "+Rb+" "+Sb)),h.defs=this.createElement("defs").add(),h.forExport=d,h.gradients={},h.setSize(b,c,!1);var j,k;Gb&&a.getBoundingClientRect&&(h.subPixelFix=j=function(){p(a,{left:0,top:0}),k=a.getBoundingClientRect(),p(a,{left:tb(k.left)-k.left+Zb,top:tb(k.top)-k.top+Zb})},j(),yc(pb,"resize",j))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this,b=a.defs;return a.box=null,a.boxWrapper=a.boxWrapper.destroy(),F(a.gradients||{}),a.gradients=null,b&&(a.defs=b.destroy()),a.subPixelFix&&zc(pb,"resize",a.subPixelFix),a.alignedObjects=null,null},createElement:function(a){var b=new this.Element;return b.init(this,a),b},draw:function(){},buildText:function(a){for(var b=a.element,c=this,e=c.forExport,f=o(a.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),g=b.childNodes,h=/style="([^"]+)"/,i=/href="(http[^"]+)"/,j=m(b,"x"),k=a.styles,l=a.textWidth,n=k&&k.lineHeight,q=g.length;q--;)b.removeChild(g[q]);l&&!a.added&&this.box.appendChild(b),""===f[f.length-1]&&f.pop(),uc(f,function(f,g){var o,q=0;f=f.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),o=f.split("|||"),uc(o,function(f){if(""!==f||1===o.length){var r,s={},t=ob.createElementNS(Ib,"tspan");if(h.test(f)&&(r=f.match(h)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),m(t,"style",r)),i.test(f)&&!e&&(m(t,"onclick",'location.href="'+f.match(i)[1]+'"'),p(t,{cursor:"pointer"})),f=(f.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==f&&(t.appendChild(ob.createTextNode(f)),q?s.dx=0:s.x=j,m(t,s),!q&&g&&(!Jb&&e&&p(t,{display:"block"}),m(t,"dy",n||c.fontMetrics(/px$/.test(t.style.fontSize)?t.style.fontSize:k.fontSize).h,Fb&&t.offsetHeight)),b.appendChild(t),q++,l))for(var u,v,w,x=f.replace(/([^\^])-/g,"$1- ").split(" "),y=a._clipHeight,z=[],A=d(n||16),B=1;x.length||z.length;)delete a.bBox,w=a.getBBox(),v=w.width,!Jb&&c.forExport&&(v=c.measureSpanWidth(t.firstChild.data,a.styles)),u=v>l,u&&1!==x.length?(t.removeChild(t.firstChild),z.unshift(x.pop())):(x=z,z=[],x.length&&(B++,y&&B*A>y?(x=["..."],a.attr("title",a.textStr)):(t=ob.createElementNS(Ib,"tspan"),m(t,{dy:A,x:j}),r&&m(t,"style",r),b.appendChild(t),v>l&&(l=v)))),x.length&&t.appendChild(ob.createTextNode(x.join(" ").replace(/- /g,"-")))}})})},button:function(c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r=this.label(c,d,e,k,null,null,null,null,"button"),s=0,t="style",u={x1:0,y1:0,x2:0,y2:1};return g=b({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:u,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},g),n=g[t],delete g[t],h=b(g,{stroke:"#68A",fill:{linearGradient:u,stops:[[0,"#FFF"],[1,"#ACF"]]}},h),o=h[t],delete h[t],i=b(g,{stroke:"#68A",fill:{linearGradient:u,stops:[[0,"#9BD"],[1,"#CDF"]]}},i),p=i[t],delete i[t],j=b(g,{style:{color:"#CCC"}},j),q=j[t],delete j[t],yc(r.element,Db?"mouseover":"mouseenter",function(){3!==s&&r.attr(h).css(o)}),yc(r.element,Db?"mouseout":"mouseleave",function(){3!==s&&(l=[g,h,i][s],m=[n,o,p][s],r.attr(l).css(m))}),r.setState=function(a){r.state=s=a,a?2===a?r.attr(i).css(p):3===a&&r.attr(j).css(q):r.attr(g).css(n)},r.on("click",function(){3!==s&&f.call(r)}).attr(g).css(a({cursor:"default"},n))},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=rb(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=rb(a[2])+b%2/2),a},path:function(b){var c={fill:$b};return g(b)?c.d=b:f(b)&&a(c,b),this.createElement("path").attr(c)},circle:function(a,b,c){var d=f(a)?a:{x:a,y:b,r:c};return this.createElement("circle").attr(d)},arc:function(a,b,c,d,e,g){var h;return f(a)&&(b=a.y,c=a.r,d=a.innerR,e=a.start,g=a.end,a=a.x),h=this.symbol("arc",a||0,b||0,c||0,c||0,{innerR:d||0,start:e||0,end:g||0}),h.r=c,h},rect:function(a,b,c,d,e,g){e=f(a)?a.r:e;var h=this.createElement("rect").attr({rx:e,ry:e,fill:$b});return h.attr(f(a)?a:h.crisp(g,a,b,ub(c,0),ub(d,0)))},setSize:function(a,b,c){var d=this,e=d.alignedObjects,f=e.length;for(d.width=a,d.height=b,d.boxWrapper[o(c,!0)?"animate":"attr"]({width:a,height:b});f--;)e[f].align()},g:function(a){var b=this.createElement("g");return l(a)?b.attr({"class":Xb+a}):b},image:function(b,c,d,e,f){var g,h={preserveAspectRatio:$b};return arguments.length>1&&a(h,{x:c,y:d,width:e,height:f}),g=this.createElement("image").attr(h),g.element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",b):g.element.setAttribute("hc-svg-href",b),g},symbol:function(b,c,d,e,f,g){var h,i,j,k,l,m=this.symbols[b],n=m&&m(rb(c),rb(d),e,f,g),o=/^url\((.*?)\)$/;return n?(h=this.path(n),a(h,{symbolName:b,x:c,y:d,width:e,height:f}),g&&a(h,g)):o.test(b)&&(l=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(rb((e-b[0])/2),rb((f-b[1])/2)))},j=b.match(o)[1],k=Nb[j],h=this.image(j).attr({x:c,y:d}),h.isImg=!0,k?l(h,k):(h.attr({width:0,height:0}),i=q("img",{onload:function(){l(h,Nb[j]=[this.width,this.height])},src:j}))),h},symbols:{circle:function(a,b,c,d){var e=.166*c;return[_b,a+c/2,b,"C",a+c+e,b,a+c+e,b+d,a+c/2,b+d,"C",a-e,b+d,a-e,b,a+c/2,b,"Z"]
},square:function(a,b,c,d){return[_b,a,b,ac,a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return[_b,a+c/2,b,ac,a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return[_b,a,b,ac,a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return[_b,a+c/2,b,ac,a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(a,b,c,d,e){var f=e.start,g=e.r||c||d,h=e.end-.001,i=e.innerR,j=e.open,k=xb(f),l=yb(f),m=xb(h),n=yb(h),o=e.end-f<zb?0:1;return[_b,a+g*k,b+g*l,"A",g,g,0,o,1,a+g*m,b+g*n,j?_b:ac,a+i*m,b+i*n,"A",i,i,0,o,0,a+i*k,b+i*l,j?"":"Z"]}},clipRect:function(a,b,c,d){var e,f=Xb+Ob++,g=this.createElement("clipPath").attr({id:f}).add(this.defs);return e=this.rect(a,b,c,d,0).add(g),e.id=f,e.clipPath=g,e},color:function(a,c,d){var e,f,h,i,j,k,n,o,p,q,r,s=this,t=/^rgba/,u=[];if(a&&a.linearGradient?f="linearGradient":a&&a.radialGradient&&(f="radialGradient"),f){h=a[f],i=s.gradients,k=a.stops,p=c.radialReference,g(h)&&(a[f]=h={x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===f&&p&&!l(h.gradientUnits)&&(h=b(h,{cx:p[0]-p[2]/2+h.cx*p[2],cy:p[1]-p[2]/2+h.cy*p[2],r:h.r*p[2],gradientUnits:"userSpaceOnUse"}));for(q in h)"id"!==q&&u.push(q,h[q]);for(q in k)u.push(k[q]);return u=u.join(","),i[u]?r=i[u].id:(h.id=r=Xb+Ob++,i[u]=j=s.createElement(f).attr(h).add(s.defs),j.stops=[],uc(k,function(a){var b;t.test(a[1])?(e=Kc(a[1]),n=e.get("rgb"),o=e.get("a")):(n=a[1],o=1),b=s.createElement("stop").attr({offset:a[0],"stop-color":n,"stop-opacity":o}).add(j),j.stops.push(b)})),"url("+s.url+"#"+r+")"}return t.test(a)?(e=Kc(a),m(c,d+"-opacity",e.get("a")),e.get("rgb")):(c.removeAttribute(d+"-opacity"),a)},text:function(a,b,c,d){var e,f=this,g=Z.chart.style,h=Lb||!Jb&&f.forExport;return d&&!f.forExport?f.html(a,b,c):(b=rb(o(b,0)),c=rb(o(c,0)),e=f.createElement("text").attr({x:b,y:c,text:a}).css({fontFamily:g.fontFamily,fontSize:g.fontSize}),h&&e.css({position:Ub}),e.x=b,e.y=c,e)},html:function(b,c,d){var e=Z.chart.style,f=this.createElement("span"),g=f.attrSetters,h=f.element,i=f.renderer;return g.text=function(a){return a!==h.innerHTML&&delete this.bBox,h.innerHTML=a,!1},g.x=g.y=g.align=function(a,b){return"align"===b&&(b="textAlign"),f[b]=a,f.htmlUpdateTransform(),!1},f.attr({text:b,x:rb(c),y:rb(d)}).css({position:Ub,whiteSpace:"nowrap",fontFamily:e.fontFamily,fontSize:e.fontSize}),f.css=f.htmlCss,i.isSVG&&(f.add=function(b){var c,d,e=i.box.parentNode,g=[];if(this.parentGroup=b,b){if(c=b.div,!c){for(d=b;d;)g.push(d),d=d.parentGroup;uc(g.reverse(),function(b){var d;c=b.div=b.div||q(Tb,{className:m(b.element,"class")},{position:Ub,left:(b.translateX||0)+Zb,top:(b.translateY||0)+Zb},c||e),d=c.style,a(b.attrSetters,{translateX:function(a){d.left=a+Zb},translateY:function(a){d.top=a+Zb},visibility:function(a,b){d[b]=a}})})}}else c=e;return c.appendChild(h),f.added=!0,f.alignOnAdd&&f.htmlUpdateTransform(),f}),f},fontMetrics:function(a){a=d(a||11);var b=24>a?a+4:rb(1.2*a),c=rb(.8*b);return{h:b,b:c}},label:function(c,d,e,f,g,h,i,j,k){function m(){var a,c,d=A.element.style;r=(void 0===s||void 0===t||z.styles.textAlign)&&A.getBBox(),z.width=(s||r.width||0)+2*C+D,z.height=(t||r.height||0)+2*C,w=C+y.fontMetrics(d&&d.fontSize).b,x&&(q||(a=rb(-B*C),c=j?-w:0,z.box=q=f?y.symbol(f,a,c,z.width,z.height,F):y.rect(a,c,z.width,z.height,0,F[nc]),q.add(z)),q.isImg||q.attr(b({width:z.width,height:z.height},F)),F=null)}function n(){var a,b=z.styles,c=b&&b.textAlign,d=D+C*(1-B);a=j?0:w,!l(s)||"center"!==c&&"right"!==c||(d+={center:.5,right:1}[c]*(s-r.width)),(d!==A.x||a!==A.y)&&A.attr({x:d,y:a}),A.x=d,A.y=a}function o(a,b){q?q.attr(a,b):F[a]=b}function p(){A.add(z),z.attr({text:c,x:d,y:e}),q&&l(g)&&z.attr({anchorX:g,anchorY:h})}var q,r,s,t,u,v,w,x,y=this,z=y.g(k),A=y.text("",0,0,i).attr({zIndex:1}),B=0,C=3,D=0,E=0,F={},G=z.attrSetters;yc(z,"add",p),G.width=function(a){return s=a,!1},G.height=function(a){return t=a,!1},G.padding=function(a){return l(a)&&a!==C&&(C=a,n()),!1},G.paddingLeft=function(a){return l(a)&&a!==D&&(D=a,n()),!1},G.align=function(a){return B={left:0,center:.5,right:1}[a],!1},G.text=function(a,b){return A.attr(b,a),m(),n(),!1},G[nc]=function(a,b){return x=!0,E=a%2/2,o(b,a),!1},G.stroke=G.fill=G.r=function(a,b){return"fill"===b&&(x=!0),o(b,a),!1},G.anchorX=function(a,b){return g=a,o(b,a+E-u),!1},G.anchorY=function(a,b){return h=a,o(b,a-v),!1},G.x=function(a){return z.x=a,a-=B*((s||r.width)+C),u=rb(a),z.attr("translateX",u),!1},G.y=function(a){return v=z.y=rb(a),z.attr("translateY",v),!1};var H=z.css;return a(z,{css:function(a){if(a){var c={};a=b(a),uc(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(b){a[b]!==W&&(c[b]=a[b],delete a[b])}),A.css(c)}return H.call(z,a)},getBBox:function(){return{width:r.width+2*C,height:r.height+2*C,x:r.x-C,y:r.y-C}},shadow:function(a){return q&&q.shadow(a),z},destroy:function(){zc(z,"add",p),zc(z.element,"mouseenter"),zc(z.element,"mouseleave"),A&&(A=A.destroy()),q&&(q=q.destroy()),N.prototype.destroy.call(z),z=y=m=n=o=p=null}})}},X=Lc;var Mc,Nc;if(!Jb&&!Lb){Highcharts.VMLElement=Nc={init:function(a,b){var c=this,d=["<",b,' filled="f" stroked="f"'],e=["position: ",Ub,";"],f=b===Tb;("shape"===b||f)&&e.push("left:0;top:0;width:1px;height:1px;"),e.push("visibility: ",f?Wb:Yb),d.push(' style="',e.join(""),'"/>'),b&&(d=f||"span"===b||"img"===b?d.join(""):a.prepVML(d),c.element=q(d)),c.renderer=a,c.attrSetters={}},add:function(a){var b=this,c=b.renderer,d=b.element,e=c.box,f=a&&a.inverted,g=a?a.element||a:e;return f&&c.invertChild(d,g),g.appendChild(d),b.added=!0,b.alignOnAdd&&!b.deferUpdateTransform&&b.updateTransform(),Ac(b,"add"),b},updateTransform:N.prototype.htmlUpdateTransform,setSpanRotation:function(a,b,c){p(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",c,", M12=",-b,", M21=",b,", M22=",c,", sizingMethod='auto expand')"].join(""):$b})},pathToVML:function(a){for(var b,c=a.length,d=[];c--;)h(a[c])?d[c]=rb(10*a[c])-5:"Z"===a[c]?d[c]="x":(d[c]=a[c],!a.isArc||"wa"!==a[c]&&"at"!==a[c]||(b="wa"===a[c]?1:-1,d[c+5]===d[c+7]&&(d[c+7]-=b),d[c+6]===d[c+8]&&(d[c+8]-=b)));return d.join(" ")||"x"},attr:function(a,b){var c,d,f,g,i,j,k=this,n=k.element||{},o=n.style,p=n.nodeName,r=k.renderer,s=k.symbolName,t=k.shadows,u=k.attrSetters,v=k;if(e(a)&&l(b)&&(c=a,a={},a[c]=b),e(a))c=a,v="strokeWidth"===c||"stroke-width"===c?k.strokeweight:k[c];else for(c in a)if(d=a[c],j=!1,g=u[c]&&u[c].call(k,d,c),g!==!1&&null!==d){if(g!==W&&(d=g),s&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(c))i||(k.symbolAttr(a),i=!0),j=!0;else if("d"===c){if(d=d||[],k.d=d.join(" "),n.path=d=k.pathToVML(d),t)for(f=t.length;f--;)t[f].path=t[f].cutOff?this.cutOffPath(d,t[f].cutOff):d;j=!0}else if("visibility"===c){if(t)for(f=t.length;f--;)t[f].style[c]=d;"DIV"===p&&(d=d===Wb?"-999em":0,Eb||(o[c]=d?Yb:Wb),c="top"),o[c]=d,j=!0}else if("zIndex"===c)d&&(o[c]=d),j=!0;else if(-1!==tc(c,["x","y","width","height"]))k[c]=d,"x"===c||"y"===c?c={x:"left",y:"top"}[c]:d=ub(0,d),k.updateClipping?(k[c]=d,k.updateClipping()):o[c]=d,j=!0;else if("class"===c&&"DIV"===p)n.className=d;else if("stroke"===c)d=r.color(d,n,c),c="strokecolor";else if("stroke-width"===c||"strokeWidth"===c)n.stroked=d?!0:!1,c="strokeweight",k[c]=d,h(d)&&(d+=Zb);else if("dashstyle"===c){var w=n.getElementsByTagName("stroke")[0]||q(r.prepVML(["<stroke/>"]),null,null,n);w[c]=d||"solid",k.dashstyle=d,j=!0}else"fill"===c?"SPAN"===p?o.color=d:"IMG"!==p&&(n.filled=d!==$b?!0:!1,d=r.color(d,n,c,k),c="fillcolor"):"opacity"===c?j=!0:"shape"===p&&"rotation"===c?(k[c]=n.style[c]=d,n.style.left=-rb(yb(d*Ab)+1)+Zb,n.style.top=rb(xb(d*Ab))+Zb):"translateX"===c||"translateY"===c||"rotation"===c?(k[c]=d,k.updateTransform(),j=!0):"text"===c&&(this.bBox=null,n.innerHTML=d,j=!0);j||(Eb?n[c]=d:m(n,c,d))}return v},clip:function(a){var b,c,d=this;return a?(b=a.members,k(b,d),b.push(d),d.destroyClip=function(){k(b,d)},c=a.getCSS(d)):(d.destroyClip&&d.destroyClip(),c={clip:Eb?"inherit":"rect(auto)"}),d.css(c)},css:N.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&G(a)},destroy:function(){return this.destroyClip&&this.destroyClip(),N.prototype.destroy.apply(this)},on:function(a,b){return this.element["on"+a]=function(){var a=pb.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,b){var c;return a=a.split(/[ ,]/),c=a.length,(9===c||11===c)&&(a[c-4]=a[c-2]=d(a[c-2])-10*b),a.join(" ")},shadow:function(a,b,c){var e,f,g,h,i,j,k,l=[],m=this.element,n=this.renderer,p=m.style,r=m.path;if(r&&"string"!=typeof r.value&&(r="x"),i=r,a){for(j=o(a.width,3),k=(a.opacity||.15)/j,e=1;3>=e;e++)h=2*j+1-2*e,c&&(i=this.cutOffPath(r.value,h+.5)),g=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',i,'" coordsize="10 10" style="',m.style.cssText,'" />'],f=q(n.prepVML(g),null,{left:d(p.left)+o(a.offsetX,1),top:d(p.top)+o(a.offsetY,1)}),c&&(f.cutOff=h+1),g=['<stroke color="',a.color||"black",'" opacity="',k*e,'"/>'],q(n.prepVML(g),null,null,f),b?b.element.appendChild(f):m.parentNode.insertBefore(f,m),l.push(f);this.shadows=l}return this}},Nc=r(N,Nc);var Oc={Element:Nc,isIE8:Bb.indexOf("MSIE 8.0")>-1,init:function(a,b,c){var d,e,f,g=this;if(g.alignedObjects=[],d=g.createElement(Tb),e=d.element,e.style.position=Vb,a.appendChild(d.element),g.isVML=!0,g.box=e,g.boxWrapper=d,g.setSize(b,c,!1),!ob.namespaces.hcv){ob.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),f="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{ob.createStyleSheet().cssText=f}catch(h){ob.styleSheets[0].cssText+=f}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(b,c,d,e){var g=this.createElement(),h=f(b);return a(g,{members:[],left:(h?b.x:b)+1,top:(h?b.y:c)+1,width:(h?b.width:d)-1,height:(h?b.height:e)-1,getCSS:function(b){var c=b.element,d=c.nodeName,e="shape"===d,f=b.inverted,g=this,h=g.top-(e?c.offsetTop:0),i=g.left,j=i+g.width,k=h+g.height,l={clip:"rect("+rb(f?i:h)+"px,"+rb(f?k:j)+"px,"+rb(f?j:k)+"px,"+rb(f?h:i)+"px)"};return!f&&Eb&&"DIV"===d&&a(l,{width:j+Zb,height:k+Zb}),l},updateClipping:function(){uc(g.members,function(a){a.css(g.getCSS(a))})}})},color:function(a,b,c,d){var e,f,g,h=this,i=/^rgba/,j=$b;if(a&&a.linearGradient?g="gradient":a&&a.radialGradient&&(g="pattern"),g){var k,l,m,n,o,p,r,s,t,u,v,w,x=a.linearGradient||a.radialGradient,y="",z=a.stops,A=[],B=function(){f=['<fill colors="'+A.join(",")+'" opacity="',s,'" o:opacity2="',r,'" type="',g,'" ',y,'focus="100%" method="any" />'],q(h.prepVML(f),null,null,b)};if(v=z[0],w=z[z.length-1],v[0]>0&&z.unshift([0,v[1]]),w[0]<1&&z.push([1,w[1]]),uc(z,function(a,b){i.test(a[1])?(e=Kc(a[1]),k=e.get("rgb"),l=e.get("a")):(k=a[1],l=1),A.push(100*a[0]+"% "+k),b?(s=l,t=k):(r=l,u=k)}),"fill"===c)if("gradient"===g)m=x.x1||x[0]||0,n=x.y1||x[1]||0,o=x.x2||x[2]||0,p=x.y2||x[3]||0,y='angle="'+(90-180*qb.atan((p-n)/(o-m))/zb)+'"',B();else{var C,D=x.r,E=2*D,F=2*D,G=x.cx,H=x.cy,I=b.radialReference,J=function(){I&&(C=d.getBBox(),G+=(I[0]-C.x)/C.width-.5,H+=(I[1]-C.y)/C.height-.5,E*=I[2]/C.width,F*=I[2]/C.height),y='src="'+Z.global.VMLRadialGradientURL+'" size="'+E+","+F+'" origin="0.5,0.5" position="'+G+","+H+'" color2="'+u+'" ',B()};d.added?J():yc(d,"add",J),j=t}else j=k}else if(i.test(a)&&"IMG"!==b.tagName)e=Kc(a),f=["<",c,' opacity="',e.get("a"),'"/>'],q(this.prepVML(f),null,null,b),j=e.get("rgb");else{var K=b.getElementsByTagName(c);K.length&&(K[0].opacity=1,K[0].type="solid"),j=a}return j},prepVML:function(a){var b="display:inline-block;behavior:url(#default#VML);",c=this.isIE8;return a=a.join(""),c?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="'+b+'" />'):a.replace('style="','style="'+b)):a=a.replace("<","<hcv:"),a},text:Lc.prototype.html,path:function(b){var c={coordsize:"10 10"};return g(b)?c.d=b:f(b)&&a(c,b),this.createElement("shape").attr(c)},circle:function(a,b,c){var d=this.symbol("circle");return f(a)&&(c=a.r,b=a.y,a=a.x),d.isCircle=!0,d.r=c,d.attr({x:a,y:b})},g:function(a){var b,c;return a&&(c={className:Xb+a,"class":Xb+a}),b=this.createElement(Tb).attr(c)},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});return arguments.length>1&&f.attr({x:b,y:c,width:d,height:e}),f},rect:function(a,b,c,d,e,g){var h=this.symbol("rect");return h.r=f(a)?a.r:e,h.attr(f(a)?a:h.crisp(g,a,b,ub(c,0),ub(d,0)))},invertChild:function(a,b){var c=b.style;p(a,{flip:"x",left:d(c.width)-1,top:d(c.height)-1,rotation:-90})},symbols:{arc:function(a,b,c,d,e){var f,g=e.start,h=e.end,i=e.r||c||d,j=e.innerR,k=xb(g),l=yb(g),m=xb(h),n=yb(h);return h-g===0?["x"]:(f=["wa",a-i,b-i,a+i,b+i,a+i*k,b+i*l,a+i*m,b+i*n],e.open&&!j&&f.push("e",_b,a,b),f.push("at",a-j,b-j,a+j,b+j,a+j*m,b+j*n,a+j*k,b+j*l,"x","e"),f.isArc=!0,f)},circle:function(a,b,c,d,e){return e&&(c=d=2*e.r),e&&e.isCircle&&(a-=c/2,b-=d/2),["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(a,b,c,d,e){var f,g,h=a+c,i=b+d;return l(e)&&e.r?(g=vb(e.r,c,d),f=[_b,a+g,b,ac,h-g,b,"wa",h-2*g,b,h,b+2*g,h-g,b,h,b+g,ac,h,i-g,"wa",h-2*g,i-2*g,h,i,h,i-g,h-g,i,ac,a+g,i,"wa",a,i-2*g,a+2*g,i,a+g,i,a,i-g,ac,a,b+g,"wa",a,b,a+2*g,b+2*g,a,b+g,a+g,b,"x","e"]):f=Lc.prototype.symbols.square.apply(0,arguments),f}}};Highcharts.VMLRenderer=Mc=function(){this.init.apply(this,arguments)},Mc.prototype=b(Lc.prototype,Oc),X=Mc}Lc.prototype.measureSpanWidth=function(a,b){var c=ob.createElement("span"),d=ob.createTextNode(a);return c.appendChild(d),p(c,b),this.box.appendChild(c),c.offsetWidth};var Pc,Qc;Lb&&(Highcharts.CanVGRenderer=Pc=function(){Ib="http://www.w3.org/1999/xhtml"},Pc.prototype.symbols={},Qc=function(){function a(){var a,c=b.length;for(a=0;c>a;a++)b[a]();b=[]}var b=[];return{push:function(c,d){0===b.length&&sc(d,a),b.push(c)}}}(),X=Pc),O.prototype={addLabel:function(){var b,c,d,e,f=this,g=f.axis,i=g.options,k=g.chart,m=g.horiz,n=g.categories,p=g.names,q=f.pos,r=i.labels,s=g.tickPositions,t=m&&n&&!r.step&&!r.staggerLines&&!r.rotation&&k.plotWidth/s.length||!m&&(k.margin[3]||.33*k.chartWidth),u=q===s[0],v=q===s[s.length-1],w=n?o(n[q],p[q],q):q,x=f.label,y=s.info;g.isDatetimeAxis&&y&&(e=i.dateTimeLabelFormats[y.higherRanks[q]||y.unitName]),f.isFirst=u,f.isLast=v,b=g.labelFormatter.call({axis:g,chart:k,isFirst:u,isLast:v,dateTimeLabelFormat:e,value:g.isLog?I(j(w)):w}),c=t&&{width:ub(1,rb(t-2*(r.padding||10)))+Zb},c=a(c,r.style),l(x)?x&&x.attr({text:b}).css(c):(d={align:g.labelAlign},h(r.rotation)&&(d.rotation=r.rotation),t&&r.ellipsis&&(d._clipHeight=g.len/s.length),f.label=l(b)&&r.enabled?k.renderer.text(b,0,0,r.useHTML).attr(d).css(c).add(g.labelGroup):null)},getLabelSize:function(){var a=this.label,b=this.axis;return a?(this.labelBBox=a.getBBox())[b.horiz?"height":"width"]:0},getLabelSides:function(){var a=this.labelBBox,b=this.axis,c=b.options,d=c.labels,e=a.width,f=e*{left:0,center:.5,right:1}[b.labelAlign]-d.x;return[-f,e-f]},handleOverflow:function(a,b){var c=!0,d=this.axis,e=d.chart,f=this.isFirst,g=this.isLast,h=b.x,i=d.reversed,j=d.tickPositions;if(f||g){var k=this.getLabelSides(),l=k[0],m=k[1],n=e.plotLeft,o=n+d.len,p=d.ticks[j[a+(f?1:-1)]],q=p&&p.label.xy&&p.label.xy.x+p.getLabelSides()[f?0:1];f&&!i||g&&i?n>h+l&&(h=n-l,p&&h+m>q&&(c=!1)):h+m>o&&(h=o-m,p&&q>h+l&&(c=!1)),b.x=h}return c},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,b,c,d,e,f,g,h){var i=this.axis,j=i.transA,k=i.reversed,m=i.staggerLines,n=i.chart.renderer.fontMetrics(e.style.fontSize).b,o=e.rotation;return a=a+e.x-(f&&d?f*j*(k?-1:1):0),b=b+e.y-(f&&!d?f*j*(k?1:-1):0),o&&2===i.side&&(b-=n-n*xb(o*Ab)),l(e.y)||o||(b+=n-c.getBBox().height/2),m&&(b+=g/(h||1)%m*(i.labelOffset/m)),{x:a,y:b}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine([_b,a,b,ac,a+(e?0:-c),b+(e?c:0)],d)},render:function(a,b,c){var d,e,f,g=this,h=g.axis,i=h.options,j=h.chart,k=j.renderer,l=h.horiz,m=g.type,n=g.label,p=g.pos,q=i.labels,r=g.gridLine,s=m?m+"Grid":"grid",t=m?m+"Tick":"tick",u=i[s+"LineWidth"],v=i[s+"LineColor"],w=i[s+"LineDashStyle"],x=i[t+"Length"],y=i[t+"Width"]||0,z=i[t+"Color"],A=i[t+"Position"],B=g.mark,C=q.step,D=!0,E=h.tickmarkOffset,F=g.getPosition(l,p,E,b),G=F.x,H=F.y,I=l&&G===h.pos+h.len||!l&&H===h.pos?-1:1,J=h.staggerLines;this.isActive=!0,u&&(d=h.getPlotLinePath(p+E,u*I,b,!0),r===W&&(f={stroke:v,"stroke-width":u},w&&(f.dashstyle=w),m||(f.zIndex=1),b&&(f.opacity=0),g.gridLine=r=u?k.path(d).attr(f).add(h.gridGroup):null),!b&&r&&d&&r[g.isNew?"attr":"animate"]({d:d,opacity:c})),y&&x&&("inside"===A&&(x=-x),h.opposite&&(x=-x),e=g.getMarkPath(G,H,x,y*I,l,k),B?B.animate({d:e,opacity:c}):g.mark=k.path(e).attr({stroke:z,"stroke-width":y,opacity:c}).add(h.axisGroup)),n&&!isNaN(G)&&(n.xy=F=g.getLabelPosition(G,H,n,l,q,E,a,C),g.isFirst&&!g.isLast&&!o(i.showFirstLabel,1)||g.isLast&&!g.isFirst&&!o(i.showLastLabel,1)?D=!1:J||!l||"justify"!==q.overflow||g.handleOverflow(a,F)||(D=!1),C&&a%C&&(D=!1),D&&!isNaN(F.y)?(F.opacity=c,n[g.isNew?"attr":"animate"](F),g.isNew=!1):n.attr("y",-9999))},destroy:function(){F(this,this.axis)}},P.prototype={render:function(){var a,c,d,e,f,g,h,j=this,k=j.axis,m=k.horiz,n=(k.pointRange||0)/2,p=j.options,q=p.label,r=j.label,s=p.width,t=p.to,u=p.from,v=l(u)&&l(t),w=p.value,x=p.dashStyle,y=j.svgElem,z=[],A=p.color,B=p.zIndex,C=p.events,F=k.chart.renderer;if(k.isLog&&(u=i(u),t=i(t),w=i(w)),s)z=k.getPlotLinePath(w,s),h={stroke:A,"stroke-width":s},x&&(h.dashstyle=x);else{if(!v)return;u=ub(u,k.min-n),t=vb(t,k.max+n),z=k.getPlotBandPath(u,t,p),h={fill:A},p.borderWidth&&(h.stroke=p.borderColor,h["stroke-width"]=p.borderWidth)}if(l(B)&&(h.zIndex=B),y)z?y.animate({d:z},null,y.onGetPath):(y.hide(),y.onGetPath=function(){y.show()},r&&(j.label=r=r.destroy()));else if(z&&z.length&&(j.svgElem=y=F.path(z).attr(h).add(),C)){a=function(a){y.on(a,function(b){C[a].apply(j,[b])})};for(c in C)a(c)}return q&&l(q.text)&&z&&z.length&&k.width>0&&k.height>0?(q=b({align:m&&v&&"center",x:m?!v&&4:10,verticalAlign:!m&&v&&"middle",y:m?v?16:10:v?6:-4,rotation:m&&!v&&90},q),r||(j.label=r=F.text(q.text,0,0,q.useHTML).attr({align:q.textAlign||q.align,rotation:q.rotation,zIndex:B}).css(q.style).add()),d=[z[1],z[4],o(z[6],z[1])],e=[z[2],z[5],o(z[7],z[2])],f=D(d),g=D(e),r.align(q,!1,{x:f,y:g,width:E(d)-f,height:E(e)-g}),r.show()):r&&r.hide(),j},destroy:function(){k(this.axis.plotLinesAndBands,this),delete this.axis,F(this)}},Q.prototype={destroy:function(){F(this,this.axis)},render:function(a){var b=this.options,c=b.format,d=c?w(c,this):b.formatter.call(this);this.label?this.label.attr({text:d,visibility:Wb}):this.label=this.axis.chart.renderer.text(d,0,0,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:Wb}).add(a)},setOffset:function(a,b){var c,d=this,e=d.axis,f=e.chart,g=f.inverted,h=this.isNegative,i=e.translate(this.percent?100:this.total,0,0,0,1),j=e.translate(0),k=wb(i-j),l=f.xAxis[0].translate(this.x)+a,m=f.plotHeight,n={x:g?h?i:i-k:l,y:g?m-l-b:h?m-i-k:m-i,width:g?k:b,height:g?b:k},o=this.label;o&&(o.align(this.alignOptions,null,n),c=o.alignAttr,o.attr({visibility:this.options.crop===!1||f.isInsidePlot(c.x,c.y)?Jb?"inherit":Yb:Wb}))}},R.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ec,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return s(this.total,-1)},style:Ec.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(a,b){var c=b.isX,d=this;d.horiz=a.inverted?!c:c,d.isXAxis=c,d.xOrY=c?"x":"y",d.opposite=b.opposite,d.side=d.horiz?d.opposite?0:2:d.opposite?1:3,d.setOptions(b);var e=this.options,f=e.type,g="datetime"===f;d.labelFormatter=e.labels.formatter||d.defaultLabelFormatter,d.userOptions=b,d.minPixelPadding=0,d.chart=a,d.reversed=e.reversed,d.zoomEnabled=e.zoomEnabled!==!1,d.categories=e.categories||"category"===f,d.names=[],d.isLog="logarithmic"===f,d.isDatetimeAxis=g,d.isLinked=l(e.linkedTo),d.tickmarkOffset=d.categories&&"between"===e.tickmarkPlacement?.5:0,d.ticks={},d.minorTicks={},d.plotLinesAndBands=[],d.alternateBands={},d.len=0,d.minRange=d.userMinRange=e.minRange||e.maxZoom,d.range=e.range,d.offset=e.offset||0,d.stacks={},d.oldStacks={},d.stackExtremes={},d.max=null,d.min=null;var h,k=d.options.events;-1===tc(d,a.axes)&&(a.axes.push(d),a[c?"xAxis":"yAxis"].push(d)),d.series=d.series||[],a.inverted&&c&&d.reversed===W&&(d.reversed=!0),d.removePlotBand=d.removePlotBandOrLine,d.removePlotLine=d.removePlotBandOrLine;for(h in k)yc(d,h,k[h]);d.isLog&&(d.val2lin=i,d.lin2val=j)},setOptions:function(a){this.options=b(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],b(Z[this.isXAxis?"xAxis":"yAxis"],a))},update:function(c,d){var e=this.chart;c=e.options[this.xOrY+"Axis"][this.options.index]=b(this.userOptions,c),this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=W,this.init(e,a(c,{events:W})),e.isDirtyBox=!0,o(d,!0)&&e.redraw()},remove:function(a){var b=this.chart,c=this.xOrY+"Axis";uc(this.series,function(a){a.remove(!1)}),k(b.axes,this),k(b[c],this),b.options[c].splice(this.options.index,1),uc(b[c],function(a,b){a.options.index=b}),this.destroy(),b.isDirtyBox=!0,o(a,!0)&&b.redraw()},defaultLabelFormatter:function(){var a,b,c=this.axis,d=this.value,e=c.categories,f=this.dateTimeLabelFormat,g=Z.lang.numericSymbols,h=g&&g.length,i=c.options.labels.format,j=c.isLog?d:c.tickInterval;if(i)b=w(i,this);else if(e)b=d;else if(f)b=$(f,d);else if(h&&j>=1e3)for(;h--&&b===W;)a=Math.pow(1e3,h+1),j>=a&&null!==g[h]&&(b=s(d/a,-1)+g[h]);return b===W&&(b=d>=1e3?s(d,0):s(d,-1)),b},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1,a.dataMin=a.dataMax=null,a.stackExtremes={},a.buildStacks(),uc(a.series,function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var d,e,f,g=c.options,h=g.threshold;a.hasVisibleSeries=!0,a.isLog&&0>=h&&(h=null),a.isXAxis?(d=c.xData,d.length&&(a.dataMin=vb(o(a.dataMin,d[0]),D(d)),a.dataMax=ub(o(a.dataMax,d[0]),E(d)))):(c.getExtremes(),f=c.dataMax,e=c.dataMin,l(e)&&l(f)&&(a.dataMin=vb(o(a.dataMin,e),e),a.dataMax=ub(o(a.dataMax,f),f)),l(h)&&(a.dataMin>=h?(a.dataMin=h,a.ignoreMinPadding=!0):a.dataMax<h&&(a.dataMax=h,a.ignoreMaxPadding=!0)))}})},translate:function(a,b,c,d,e,f){var g,i=this,j=i.len,k=1,l=0,m=d?i.oldTransA:i.transA,n=d?i.oldMin:i.min,o=i.minPixelPadding,p=(i.options.ordinal||i.isLog&&e)&&i.lin2val;return m||(m=i.transA),c&&(k*=-1,l=j),i.reversed&&(k*=-1,l-=k*j),b?(a=a*k+l,a-=o,g=a/m+n,p&&(g=i.lin2val(g))):(p&&(a=i.val2lin(a)),"between"===f&&(f=.5),g=k*(a-n)*m+l+k*o+(h(f)?m*f*i.pointRange:0)),g},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,d){var e,f,g,h,i,j=this,k=j.chart,l=j.left,m=j.top,n=j.translate(a,null,null,c),o=c&&k.oldChartHeight||k.chartHeight,p=c&&k.oldChartWidth||k.chartWidth,q=j.transB;return e=g=rb(n+q),f=h=rb(o-n-q),isNaN(n)?i=!0:j.horiz?(f=m,h=o-j.bottom,(l>e||e>l+j.width)&&(i=!0)):(e=l,g=p-j.right,(m>f||f>m+j.height)&&(i=!0)),i&&!d?null:k.renderer.crispLine([_b,e,f,ac,g,h],b||0)},getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b),d=this.getPlotLinePath(a);return d&&c?d.push(c[4],c[5],c[1],c[2]):d=null,d},getLinearTickPositions:function(a,b,c){var d,e,f=I(sb(b/a)*a),g=I(tb(c/a)*a),h=[];for(d=f;g>=d&&(h.push(d),d=I(d+a),d!==e);)e=d;return h},getLogTickPositions:function(a,b,c,d){var e=this,f=e.options,g=e.len,h=[];if(d||(e._minorAutoInterval=null),a>=.5)a=rb(a),h=e.getLinearTickPositions(a,b,c);else if(a>=.08){var k,l,m,n,p,q,r,s=sb(b);for(k=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],l=s;c+1>l&&!r;l++)for(n=k.length,m=0;n>m&&!r;m++)p=i(j(l)*k[m]),p>b&&(!d||c>=q)&&h.push(q),q>c&&(r=!0),q=p}else{var t=j(b),u=j(c),v=f[d?"minorTickInterval":"tickInterval"],w="auto"===v?null:v,z=f.tickPixelInterval/(d?5:1),A=d?g/e.tickPositions.length:g;a=o(w,e._minorAutoInterval,(u-t)*z/(A||1)),a=y(a,null,x(a)),h=xc(e.getLinearTickPositions(a,t,u),i),d||(e._minorAutoInterval=a/5)}return d||(e.tickInterval=a),h},getMinorTickPositions:function(){var a,b,c,d=this,e=d.options,f=d.tickPositions,g=d.minorTickInterval,h=[];if(d.isLog)for(c=f.length,b=1;c>b;b++)h=h.concat(d.getLogTickPositions(g,f[b-1],f[b],!0));else if(d.isDatetimeAxis&&"auto"===e.minorTickInterval)h=h.concat(A(z(g),d.min,d.max,e.startOfWeek)),h[0]<d.min&&h.shift();else for(a=d.min+(f[0]-d.min)%g;a<=d.max;a+=g)h.push(a);return h},adjustForMinRange:function(){var a,b,c,d,e,f,g,h,i=this,j=i.options,k=i.min,m=i.max,n=i.dataMax-i.dataMin>=i.minRange;if(i.isXAxis&&i.minRange===W&&!i.isLog&&(l(j.min)||l(j.max)?i.minRange=null:(uc(i.series,function(a){for(e=a.xData,f=a.xIncrement?1:e.length-1,c=f;c>0;c--)d=e[c]-e[c-1],(b===W||b>d)&&(b=d)}),i.minRange=vb(5*b,i.dataMax-i.dataMin))),m-k<i.minRange){var p=i.minRange;a=(p-m+k)/2,g=[k-a,o(j.min,k-a)],n&&(g[2]=i.dataMin),k=E(g),h=[k+p,o(j.max,k+p)],n&&(h[2]=i.dataMax),m=D(h),p>m-k&&(g[0]=m-p,g[1]=o(j.min,m-p),k=E(g))}i.min=k,i.max=m},setAxisTranslation:function(a){var b,c,d=this,f=d.max-d.min,g=0,h=0,i=0,j=d.linkedParent,k=d.transA;d.isXAxis&&(j?(h=j.minPointOffset,i=j.pointRangePadding):uc(d.series,function(a){var c=a.pointRange,d=a.options.pointPlacement,j=a.closestPointRange;c>f&&(c=0),g=ub(g,c),h=ub(h,e(d)?0:c/2),i=ub(i,"on"===d?0:c),!a.noSharedTooltip&&l(j)&&(b=l(b)?vb(b,j):j)}),c=d.ordinalSlope&&b?d.ordinalSlope/b:1,d.minPointOffset=h*=c,d.pointRangePadding=i*=c,d.pointRange=vb(g,f),d.closestPointRange=b),a&&(d.oldTransA=k),d.translationSlope=d.transA=k=d.len/(f+i||1),d.transB=d.horiz?d.left:d.bottom,d.minPixelPadding=k*h},setTickPositions:function(a){var b,c,d,e,f=this,g=f.chart,h=f.options,j=f.isLog,k=f.isDatetimeAxis,m=f.isXAxis,n=f.isLinked,p=f.options.tickPositioner,q=h.maxPadding,r=h.minPadding,s=h.tickInterval,t=h.minTickInterval,u=h.tickPixelInterval,v=f.categories;if(n?(f.linkedParent=g[m?"xAxis":"yAxis"][h.linkedTo],c=f.linkedParent.getExtremes(),f.min=o(c.min,c.dataMin),f.max=o(c.max,c.dataMax),h.type!==f.linkedParent.options.type&&H(11,1)):(f.min=o(f.userMin,h.min,f.dataMin),f.max=o(f.userMax,h.max,f.dataMax)),j&&(!a&&vb(f.min,o(f.dataMin,f.min))<=0&&H(10,1),f.min=I(i(f.min)),f.max=I(i(f.max))),f.range&&(f.userMin=f.min=ub(f.min,f.max-f.range),f.userMax=f.max,a&&(f.range=null)),f.beforePadding&&f.beforePadding(),f.adjustForMinRange(),v||f.usePercentage||n||!l(f.min)||!l(f.max)||(b=f.max-f.min,b&&(l(h.min)||l(f.userMin)||!r||!(f.dataMin<0)&&f.ignoreMinPadding||(f.min-=b*r),l(h.max)||l(f.userMax)||!q||!(f.dataMax>0)&&f.ignoreMaxPadding||(f.max+=b*q))),f.min===f.max||void 0===f.min||void 0===f.max?f.tickInterval=1:n&&!s&&u===f.linkedParent.options.tickPixelInterval?f.tickInterval=f.linkedParent.tickInterval:(f.tickInterval=o(s,v?1:(f.max-f.min)*u/ub(f.len,u)),!l(s)&&f.len<u&&!this.isRadial&&(e=!0,f.tickInterval/=4)),m&&!a&&uc(f.series,function(a){a.processData(f.min!==f.oldMin||f.max!==f.oldMax)}),f.setAxisTranslation(!0),f.beforeSetTickPositions&&f.beforeSetTickPositions(),f.postProcessTickInterval&&(f.tickInterval=f.postProcessTickInterval(f.tickInterval)),f.pointRange&&(f.tickInterval=ub(f.pointRange,f.tickInterval)),!s&&f.tickInterval<t&&(f.tickInterval=t),k||j||s||(f.tickInterval=y(f.tickInterval,null,x(f.tickInterval),h)),f.minorTickInterval="auto"===h.minorTickInterval&&f.tickInterval?f.tickInterval/5:h.minorTickInterval,f.tickPositions=d=h.tickPositions?[].concat(h.tickPositions):p&&p.apply(f,[f.min,f.max]),d||(!f.ordinalPositions&&(f.max-f.min)/f.tickInterval>ub(2*f.len,200)&&H(19,!0),d=k?(f.getNonLinearTimeTicks||A)(z(f.tickInterval,h.units),f.min,f.max,h.startOfWeek,f.ordinalPositions,f.closestPointRange,!0):j?f.getLogTickPositions(f.tickInterval,f.min,f.max):f.getLinearTickPositions(f.tickInterval,f.min,f.max),e&&d.splice(1,d.length-2),f.tickPositions=d),!n){var w,B=d[0],C=d[d.length-1],D=f.minPointOffset||0;h.startOnTick?f.min=B:f.min-D>B&&d.shift(),h.endOnTick?f.max=C:f.max+D<C&&d.pop(),1===d.length&&(w=.001,f.min-=w,f.max+=w)}},setMaxTicks:function(){var a=this.chart,b=a.maxTicks||{},c=this.tickPositions,d=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&c&&c.length>(b[d]||0)&&this.options.alignTicks!==!1&&(b[d]=c.length),a.maxTicks=b},adjustTickAmount:function(){var a=this,b=a.chart,c=a._maxTicksKey,d=a.tickPositions,e=b.maxTicks;if(e&&e[c]&&!a.isDatetimeAxis&&!a.categories&&!a.isLinked&&a.options.alignTicks!==!1){var f,g=a.tickAmount,h=d.length;if(a.tickAmount=f=e[c],f>h){for(;d.length<f;)d.push(I(d[d.length-1]+a.tickInterval));a.transA*=(h-1)/(f-1),a.max=d[d.length-1]}l(g)&&f!==g&&(a.isDirty=!0)}},setScale:function(){var a,b,c,d,e=this,f=e.stacks;if(e.oldMin=e.min,e.oldMax=e.max,e.oldAxisLength=e.len,e.setAxisSize(),d=e.len!==e.oldAxisLength,uc(e.series,function(a){(a.isDirtyData||a.isDirty||a.xAxis.isDirty)&&(c=!0)}),d||c||e.isLinked||e.forceRedraw||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax){if(!e.isXAxis)for(a in f)for(b in f[a])f[a][b].total=null,f[a][b].cum=0;e.forceRedraw=!1,e.getSeriesExtremes(),e.setTickPositions(),e.oldUserMin=e.userMin,e.oldUserMax=e.userMax,e.isDirty||(e.isDirty=d||e.min!==e.oldMin||e.max!==e.oldMax)}else if(!e.isXAxis){e.oldStacks&&(f=e.stacks=e.oldStacks);for(a in f)for(b in f[a])f[a][b].cum=f[a][b].total}e.setMaxTicks()},setExtremes:function(b,c,d,e,f){var g=this,h=g.chart;d=o(d,!0),f=a(f,{min:b,max:c}),Ac(g,"setExtremes",f,function(){g.userMin=b,g.userMax=c,g.eventArgs=f,g.isDirtyExtremes=!0,d&&h.redraw(e)})},zoom:function(a,b){return this.allowZoomOutside||(l(this.dataMin)&&a<=this.dataMin&&(a=W),l(this.dataMax)&&b>=this.dataMax&&(b=W)),this.displayBtn=a!==W||b!==W,this.setExtremes(a,b,!1,W,{trigger:"zoom"}),!0},setAxisSize:function(){var a,b,c,d,e=this.chart,f=this.options,g=f.offsetLeft||0,h=f.offsetRight||0,i=this.horiz;this.left=d=o(f.left,e.plotLeft+g),this.top=c=o(f.top,e.plotTop),this.width=a=o(f.width,e.plotWidth-g+h),this.height=b=o(f.height,e.plotHeight),this.bottom=e.chartHeight-b-c,this.right=e.chartWidth-a-d,this.len=ub(i?a:b,0),this.pos=i?d:c},getExtremes:function(){var a=this,b=a.isLog;return{min:b?I(j(a.min)):a.min,max:b?I(j(a.max)):a.max,dataMin:a.dataMin,dataMax:a.dataMax,userMin:a.userMin,userMax:a.userMax}},getThreshold:function(a){var b=this,c=b.isLog,d=c?j(b.min):b.min,e=c?j(b.max):b.max;return d>a||null===a?a=d:a>e&&(a=e),b.translate(a,0,1,0,1)},addPlotBand:function(a){this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(a,b){var c=new P(this,a).render(),d=this.userOptions;return c&&(b&&(d[b]=d[b]||[],d[b].push(a)),this.plotLinesAndBands.push(c)),c},autoLabelAlign:function(a){var b,c=(o(a,0)-90*this.side+720)%360;return b=c>15&&165>c?"right":c>195&&345>c?"left":"center"},getOffset:function(){var a,b,c,d,e,f,g,h,i,j,k,m,n,p=this,q=p.chart,r=q.renderer,s=p.options,t=p.tickPositions,u=p.ticks,v=p.horiz,w=p.side,x=q.inverted?[1,0,3,2][w]:w,y=0,z=0,A=s.title,B=s.labels,C=0,D=q.axisOffset,E=q.clipOffset,F=[-1,1,1,-1][w],G=1,H=o(B.maxStaggerLines,5);
if(p.hasData=a=p.hasVisibleSeries||l(p.min)&&l(p.max)&&!!t,p.showAxis=b=a||o(s.showEmpty,!0),p.staggerLines=p.horiz&&B.staggerLines,p.axisGroup||(p.gridGroup=r.g("grid").attr({zIndex:s.gridZIndex||1}).add(),p.axisGroup=r.g("axis").attr({zIndex:s.zIndex||2}).add(),p.labelGroup=r.g("axis-labels").attr({zIndex:B.zIndex||7}).add()),a||p.isLinked){if(p.labelAlign=o(B.align||p.autoLabelAlign(B.rotation)),uc(t,function(a){u[a]?u[a].addLabel():u[a]=new O(p,a)}),p.horiz&&!p.staggerLines&&H&&!B.rotation){for(f=p.reversed?[].concat(t).reverse():t;H>G;){for(g=[],h=!1,e=0;e<f.length;e++)i=f[e],j=u[i].label&&u[i].label.getBBox(),m=j?j.width:0,n=e%G,m&&(k=p.translate(i),g[n]!==W&&k<g[n]&&(h=!0),g[n]=k+m);if(!h)break;G++}G>1&&(p.staggerLines=G)}uc(t,function(a){(0===w||2===w||{1:"left",3:"right"}[w]===p.labelAlign)&&(C=ub(u[a].getLabelSize(),C))}),p.staggerLines&&(C*=p.staggerLines,p.labelOffset=C)}else for(d in u)u[d].destroy(),delete u[d];A&&A.text&&A.enabled!==!1&&(p.axisTitle||(p.axisTitle=r.text(A.text,0,0,A.useHTML).attr({zIndex:7,rotation:A.rotation||0,align:A.textAlign||{low:"left",middle:"center",high:"right"}[A.align]}).css(A.style).add(p.axisGroup),p.axisTitle.isNew=!0),b&&(y=p.axisTitle.getBBox()[v?"height":"width"],z=o(A.margin,v?5:10),c=A.offset),p.axisTitle[b?"show":"hide"]()),p.offset=F*o(s.offset,D[w]),p.axisTitleMargin=o(c,C+z+(2!==w&&C&&F*s.labels[v?"y":"x"])),D[w]=ub(D[w],p.axisTitleMargin+y+F*p.offset),E[x]=ub(E[x],2*sb(s.lineWidth/2))},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,g=b.chartHeight-this.bottom-(c?this.height:0)+d;return c&&(a*=-1),b.renderer.crispLine([_b,e?this.left:f,e?g:this.top,ac,e?b.chartWidth-this.right:f,e?g:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,e=this.len,f=this.options.title,g=a?b:c,h=this.opposite,i=this.offset,j=d(f.style.fontSize||12),k={low:g+(a?0:e),middle:g+e/2,high:g+(a?e:0)}[f.align],l=(a?c+this.height:b)+(a?1:-1)*(h?-1:1)*this.axisTitleMargin+(2===this.side?j:0);return{x:a?k:l+(h?this.width:0)+i+(f.x||0),y:a?l-(h?this.height:0)+i:k+(f.y||0)}},render:function(){var a,b,c,d=this,e=d.chart,f=e.renderer,g=d.options,h=d.isLog,i=d.isLinked,k=d.tickPositions,m=d.axisTitle,n=d.stacks,o=d.ticks,p=d.minorTicks,q=d.alternateBands,r=g.stackLabels,s=g.alternateGridColor,t=d.tickmarkOffset,u=g.lineWidth,v=e.hasRendered,w=v&&l(d.oldMin)&&!isNaN(d.oldMin),x=d.hasData,y=d.showAxis;if(uc([o,p,q],function(a){var b;for(b in a)a[b].isActive=!1}),(x||i)&&(d.minorTickInterval&&!d.categories&&uc(d.getMinorTickPositions(),function(a){p[a]||(p[a]=new O(d,a,"minor")),w&&p[a].isNew&&p[a].render(null,!0),p[a].render(null,!1,1)}),k.length&&(uc(k.slice(1).concat([k[0]]),function(a,b){b=b===k.length-1?0:b+1,(!i||a>=d.min&&a<=d.max)&&(o[a]||(o[a]=new O(d,a)),w&&o[a].isNew&&o[a].render(b,!0),o[a].render(b,!1,1))}),t&&0===d.min&&(o[-1]||(o[-1]=new O(d,-1,null,!0)),o[-1].render(-1))),s&&uc(k,function(a,e){e%2===0&&a<d.max&&(q[a]||(q[a]=new P(d)),b=a+t,c=k[e+1]!==W?k[e+1]+t:d.max,q[a].options={from:h?j(b):b,to:h?j(c):c,color:s},q[a].render(),q[a].isActive=!0)}),d._addedPlotLB||(uc((g.plotLines||[]).concat(g.plotBands||[]),function(a){d.addPlotBandOrLine(a)}),d._addedPlotLB=!0)),uc([o,p,q],function(a){var b,c,d=[],f=_?_.duration||500:0,g=function(){for(c=d.length;c--;)a[d[c]]&&!a[d[c]].isActive&&(a[d[c]].destroy(),delete a[d[c]])};for(b in a)a[b].isActive||(a[b].render(b,!1,0),a[b].isActive=!1,d.push(b));a!==q&&e.hasRendered&&f?f&&setTimeout(g,f):g()}),u&&(a=d.getLinePath(u),d.axisLine?d.axisLine.animate({d:a}):d.axisLine=f.path(a).attr({stroke:g.lineColor,"stroke-width":u,zIndex:7}).add(d.axisGroup),d.axisLine[y?"show":"hide"]()),m&&y&&(m[m.isNew?"attr":"animate"](d.getTitlePosition()),m.isNew=!1),r&&r.enabled){var z,A,B,C=d.stackTotalGroup;C||(d.stackTotalGroup=C=f.g("stack-labels").attr({visibility:Yb,zIndex:6}).add()),C.translate(e.plotLeft,e.plotTop);for(z in n){A=n[z];for(B in A)A[B].render(C)}}d.isDirty=!1},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&&b[e].destroy();uc([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],function(b){for(e=b.length;e--;)b[e].id===a&&k(b,b[e])})},setTitle:function(a,b){this.update({title:a},b)},redraw:function(){var a=this,b=a.chart,c=b.pointer;c.reset&&c.reset(!0),a.render(),uc(a.plotLinesAndBands,function(a){a.render()}),uc(a.series,function(a){a.isDirty=!0})},buildStacks:function(){var a=this.series,b=a.length;if(!this.isXAxis){for(;b--;)a[b].setStackedPoints();if(this.usePercentage)for(b=0;b<a.length;b++)a[b].setPercentStacks()}},setCategories:function(a,b){this.update({categories:a},b)},destroy:function(a){var b,c,d=this,e=d.stacks,f=d.plotLinesAndBands;a||zc(d);for(b in e)F(e[b]),e[b]=null;for(uc([d.ticks,d.minorTicks,d.alternateBands],function(a){F(a)}),c=f.length;c--;)f[c].destroy();uc(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(a){d[a]&&(d[a]=d[a].destroy())})}},S.prototype={init:function(a,b){var c=b.borderWidth,e=b.style,f=d(e.padding);this.chart=a,this.options=b,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=a.renderer.label("",0,0,b.shape,null,null,b.useHTML,null,"tooltip").attr({padding:f,fill:b.backgroundColor,"stroke-width":c,r:b.borderRadius,zIndex:8}).css(e).css({padding:0}).add().attr({y:-999}),Lb||this.label.shadow(b.shadow),this.shared=b.shared},destroy:function(){uc(this.crosshairs,function(a){a&&a.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(b,c,d,e){var f=this,g=f.now,h=f.options.animation!==!1&&!f.isHidden;a(g,{x:h?(2*g.x+b)/3:b,y:h?(g.y+c)/2:c,anchorX:h?(2*g.anchorX+d)/3:d,anchorY:h?(g.anchorY+e)/2:e}),f.label.attr(g),h&&(wb(b-g.x)>1||wb(c-g.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){f&&f.move(b,c,d,e)},32))},hide:function(){var a,b=this;clearTimeout(this.hideTimer),this.isHidden||(a=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){b.label.fadeOut(),b.isHidden=!0},o(this.options.hideDelay,500)),a&&uc(a,function(a){a.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){uc(this.crosshairs,function(a){a&&a.hide()})},getAnchor:function(a,b){var c,d,e=this.chart,f=e.inverted,g=e.plotTop,h=0,i=0;return a=n(a),c=a[0].tooltipPos,this.followPointer&&b&&(b.chartX===W&&(b=e.pointer.normalize(b)),c=[b.chartX-e.plotLeft,b.chartY-g]),c||(uc(a,function(a){d=a.series.yAxis,h+=a.plotX,i+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&d?d.top-g:0)}),h/=a.length,i/=a.length,c=[f?e.plotWidth-i:h,this.shared&&!f&&a.length>1&&b?b.chartY-g:f?e.plotHeight-h:i]),xc(c,rb)},getPosition:function(a,b,c){var d,e=this.chart,f=e.plotLeft,g=e.plotTop,h=e.plotWidth,i=e.plotHeight,j=o(this.options.distance,12),k=c.plotX,l=c.plotY,m=k+f+(e.inverted?j:-a-j),n=l-b+g+15;return 7>m&&(m=f+ub(k,0)+j),m+a>f+h&&(m-=m+a-(f+h),n=l-b+g-j,d=!0),g+5>n&&(n=g+5,d&&l>=n&&n+b>=l&&(n=l+g+j)),n+b>g+i&&(n=ub(g,g+i-b-j)),{x:m,y:n}},defaultFormatter:function(a){var b,c=this.points||n(this),d=c[0].series;return b=[d.tooltipHeaderFormatter(c[0])],uc(c,function(a){d=a.series,b.push(d.tooltipFormatter&&d.tooltipFormatter(a)||a.point.tooltipFormatter(d.tooltipOptions.pointFormat))}),b.push(a.options.footerFormat||""),b.join("")},refresh:function(a,b){var c,d,e,f,g,h,j=this,k=j.chart,l=j.label,m=j.options,p={},q=[],r=m.formatter||j.defaultFormatter,s=k.hoverPoints,t=m.crosshairs,u=j.shared;if(clearTimeout(this.hideTimer),j.followPointer=n(a)[0].series.tooltipOptions.followPointer,e=j.getAnchor(a,b),c=e[0],d=e[1],!u||a.series&&a.series.noSharedTooltip?p=a.getLabelConfig():(k.hoverPoints=a,s&&uc(s,function(a){a.setState()}),uc(a,function(a){a.setState(dc),q.push(a.getLabelConfig())}),p={x:a[0].category,y:a[0].y},p.points=q,a=a[0]),f=r.call(p,j),h=a.series,f===!1?this.hide():(j.isHidden&&(Dc(l),l.attr("opacity",1).show()),l.attr({text:f}),g=m.borderColor||a.color||h.color||"#606060",l.attr({stroke:g}),j.updatePosition({plotX:c,plotY:d}),this.isHidden=!1),t){t=n(t);for(var v,w,x,y,z,A=t.length;A--;)z=a.series,x=z[A?"yAxis":"xAxis"],t[A]&&x&&(y=A?o(a.stackY,a.y):a.x,x.isLog&&(y=i(y)),1===A&&z.modifyValue&&(y=z.modifyValue(y)),v=x.getPlotLinePath(y,1),j.crosshairs[A]?j.crosshairs[A].attr({d:v,visibility:Yb}):(w={"stroke-width":t[A].width||1,stroke:t[A].color||"#C0C0C0",zIndex:t[A].zIndex||2},t[A].dashStyle&&(w.dashstyle=t[A].dashStyle),j.crosshairs[A]=k.renderer.path(v).attr(w).add()))}Ac(k,"tooltipRefresh",{text:f,x:c+k.plotLeft,y:d+k.plotTop,borderColor:g})},updatePosition:function(a){var b=this.chart,c=this.label,d=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(rb(d.x),rb(d.y),a.plotX+b.plotLeft,a.plotY+b.plotTop)}},T.prototype={init:function(a,b){var c,d,e=b.chart,f=e.events,g=Lb?"":e.zoomType,h=a.inverted;this.options=b,this.chart=a,this.zoomX=c=/x/.test(g),this.zoomY=d=/y/.test(g),this.zoomHor=c&&!h||d&&h,this.zoomVert=d&&!h||c&&h,this.runChartClick=f&&!!f.click,this.pinchDown=[],this.lastValidTouch={},b.tooltip.enabled&&(a.tooltip=new S(a,b.tooltip)),this.setDOMEvents()},normalize:function(b,c){var d,e,f;return b=b||pb.event,b.target||(b.target=b.srcElement),b=Bc(b),f=b.touches?b.touches.item(0):b,c||(this.chartPosition=c=wc(this.chart.container)),f.pageX===W?(d=ub(b.x,b.clientX-c.left),e=b.y):(d=f.pageX-c.left,e=f.pageY-c.top),a(b,{chartX:rb(d),chartY:rb(e)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return uc(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})}),b},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft},runPointActions:function(a){var b,c,d,e,f,g=this,h=g.chart,i=h.series,j=h.tooltip,k=h.hoverPoint,l=h.hoverSeries,m=h.chartWidth,n=g.getIndex(a);if(j&&g.options.tooltip.shared&&(!l||!l.noSharedTooltip)){for(c=[],d=i.length,e=0;d>e;e++)i[e].visible&&i[e].options.enableMouseTracking!==!1&&!i[e].noSharedTooltip&&i[e].tooltipPoints.length&&(b=i[e].tooltipPoints[n],b&&b.series&&(b._dist=wb(n-b.clientX),m=vb(m,b._dist),c.push(b)));for(d=c.length;d--;)c[d]._dist>m&&c.splice(d,1);c.length&&c[0].clientX!==g.hoverX&&(j.refresh(c,a),g.hoverX=c[0].clientX)}l&&l.tracker?(b=l.tooltipPoints[n],b&&b!==k&&b.onMouseOver(a)):j&&j.followPointer&&!j.isHidden&&(f=j.getAnchor([{}],a),j.updatePosition({plotX:f[0],plotY:f[1]}))},reset:function(a){var b=this,c=b.chart,d=c.hoverSeries,e=c.hoverPoint,f=c.tooltip,g=f&&f.shared?c.hoverPoints:e;a=a&&f&&g,a&&n(g)[0].plotX===W&&(a=!1),a?f.refresh(g):(e&&e.onMouseOut(),d&&d.onMouseOut(),f&&(f.hide(),f.hideCrosshairs()),b.hoverX=null)},scaleGroups:function(a,b){var c,d=this.chart;uc(d.series,function(e){c=a||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(c),e.markerGroup&&(e.markerGroup.attr(c),e.markerGroup.clip(b?d.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(c))}),d.clipRect.attr(b||d.clipBox)},pinchTranslate:function(a,b,c,d,e,f,g,h){a&&this.pinchTranslateDirection(!0,c,d,e,f,g,h),b&&this.pinchTranslateDirection(!1,c,d,e,f,g,h)},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o=this.chart,p=a?"x":"y",q=a?"X":"Y",r="chart"+q,s=a?"width":"height",t=o["plot"+(a?"Left":"Top")],u=h||1,v=o.inverted,w=o.bounds[a?"h":"v"],x=1===b.length,y=b[0][r],z=c[0][r],A=!x&&b[1][r],B=!x&&c[1][r],C=function(){!x&&wb(y-A)>20&&(u=h||wb(z-B)/wb(y-A)),k=(t-z)/u+y,i=o["plot"+(a?"Width":"Height")]/u};C(),j=k,j<w.min?(j=w.min,l=!0):j+i>w.max&&(j=w.max-i,l=!0),l?(z-=.8*(z-g[p][0]),x||(B-=.8*(B-g[p][1])),C()):g[p]=[z,B],v||(f[p]=k-t,f[s]=i),n=v?a?"scaleY":"scaleX":"scale"+q,m=v?1/u:u,e[s]=i,e[p]=j,d[n]=u,d["translate"+q]=m*t+(z-m*y)},pinch:function(b){var c=this,d=c.chart,e=c.pinchDown,f=d.tooltip&&d.tooltip.options.followTouchMove,g=b.touches,h=g.length,i=c.lastValidTouch,j=c.zoomHor||c.pinchHor,k=c.zoomVert||c.pinchVert,l=j||k,m=c.selectionMarker,n={},o=1===h&&(c.inClass(b.target,Xb+"tracker")&&d.runTrackerClick||d.runChartClick),p={};!l&&!f||o||b.preventDefault(),xc(g,function(a){return c.normalize(a)}),"touchstart"===b.type?(uc(g,function(a,b){e[b]={chartX:a.chartX,chartY:a.chartY}}),i.x=[e[0].chartX,e[1]&&e[1].chartX],i.y=[e[0].chartY,e[1]&&e[1].chartY],uc(d.axes,function(a){if(a.zoomEnabled){var b=d.bounds[a.horiz?"h":"v"],c=a.minPixelPadding,e=a.toPixels(a.dataMin),f=a.toPixels(a.dataMax),g=vb(e,f),h=ub(e,f);b.min=vb(a.pos,g-c),b.max=ub(a.pos+a.len,h+c)}})):e.length&&(m||(c.selectionMarker=m=a({destroy:Pb},d.plotBox)),c.pinchTranslate(j,k,e,g,n,m,p,i),c.hasPinched=l,c.scaleGroups(n,p),!l&&f&&1===h&&this.runPointActions(c.normalize(b)))},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b,c,d=this.chart,e=d.options.chart,f=a.chartX,g=a.chartY,h=this.zoomHor,i=this.zoomVert,j=d.plotLeft,k=d.plotTop,l=d.plotWidth,m=d.plotHeight,n=this.mouseDownX,o=this.mouseDownY;j>f?f=j:f>j+l&&(f=j+l),k>g?g=k:g>k+m&&(g=k+m),this.hasDragged=Math.sqrt(Math.pow(n-f,2)+Math.pow(o-g,2)),this.hasDragged>10&&(b=d.isInsidePlot(n-j,o-k),d.hasCartesianSeries&&(this.zoomX||this.zoomY)&&b&&(this.selectionMarker||(this.selectionMarker=d.renderer.rect(j,k,h?1:l,i?1:m,0).attr({fill:e.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&h&&(c=f-n,this.selectionMarker.attr({width:wb(c),x:(c>0?0:c)+n})),this.selectionMarker&&i&&(c=g-o,this.selectionMarker.attr({height:wb(c),y:(c>0?0:c)+o})),b&&!this.selectionMarker&&e.panning&&d.pan(a,e.panning))},drop:function(b){var c=this.chart,d=this.hasPinched;if(this.selectionMarker){var e,f={xAxis:[],yAxis:[],originalEvent:b.originalEvent||b},g=this.selectionMarker,h=g.x,i=g.y;(this.hasDragged||d)&&(uc(c.axes,function(a){if(a.zoomEnabled){var b=a.horiz,c=a.toValue(b?h:i),d=a.toValue(b?h+g.width:i+g.height);isNaN(c)||isNaN(d)||(f[a.xOrY+"Axis"].push({axis:a,min:vb(c,d),max:ub(c,d)}),e=!0)}}),e&&Ac(c,"selection",f,function(b){c.zoom(a(b,d?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),d&&this.scaleGroups()}c&&(p(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a),a.preventDefault&&a.preventDefault(),this.dragStart(a)},onDocumentMouseUp:function(a){this.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition,d=b.hoverSeries;a=this.normalize(a,c),c&&d&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(a){var b=this.chart;a=this.normalize(a),a.returnValue=!1,"mousedown"===b.mouseIsDown&&this.drag(a),!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||b.openMenu||this.runPointActions(a)},inClass:function(a,b){for(var c;a;){if(c=m(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf(Xb+"container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries;!b||b.options.stickyTracking||this.inClass(a.toElement||a.relatedTarget,Xb+"tooltip")||b.onMouseOut()},onContainerClick:function(b){var c,d,e,f=this.chart,g=f.hoverPoint,h=f.plotLeft,i=f.plotTop,j=f.inverted;b=this.normalize(b),b.cancelBubble=!0,f.cancelClick||(g&&this.inClass(b.target,Xb+"tracker")?(c=this.chartPosition,d=g.plotX,e=g.plotY,a(g,{pageX:c.left+h+(j?f.plotWidth-e:d),pageY:c.top+i+(j?f.plotHeight-d:e)}),Ac(g.series,"click",a(b,{point:g})),f.hoverPoint&&g.firePointEvent("click",b)):(a(b,this.getCoordinates(b)),f.isInsidePlot(b.chartX-h,b.chartY-i)&&Ac(f,"click",b)))},onContainerTouchStart:function(a){var b=this.chart;1===a.touches.length?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)?(this.runPointActions(a),this.pinch(a)):this.reset()):2===a.touches.length&&this.pinch(a)},onContainerTouchMove:function(a){(1===a.touches.length||2===a.touches.length)&&this.pinch(a)},onDocumentTouchEnd:function(a){this.drop(a)},setDOMEvents:function(){var a,b=this,c=b.chart.container;this._events=a=[[c,"onmousedown","onContainerMouseDown"],[c,"onmousemove","onContainerMouseMove"],[c,"onclick","onContainerClick"],[c,"mouseleave","onContainerMouseLeave"],[ob,"mousemove","onDocumentMouseMove"],[ob,"mouseup","onDocumentMouseUp"]],Mb&&a.push([c,"ontouchstart","onContainerTouchStart"],[c,"ontouchmove","onContainerTouchMove"],[ob,"touchend","onDocumentTouchEnd"]),uc(a,function(a){b["_"+a[2]]=function(c){b[a[2]](c)},0===a[1].indexOf("on")?a[0][a[1]]=b["_"+a[2]]:yc(a[0],a[1],b["_"+a[2]])})},destroy:function(){var a=this;uc(a._events,function(b){0===b[1].indexOf("on")?b[0][b[1]]=null:zc(b[0],b[1],a["_"+b[2]])}),delete a._events,clearInterval(a.tooltipTimeout)}},U.prototype={init:function(a,c){var e=this,f=c.itemStyle,g=o(c.padding,8),h=c.itemMarginTop||0;this.options=c,c.enabled&&(e.baseline=d(f.fontSize)+3+h,e.itemStyle=f,e.itemHiddenStyle=b(f,c.itemHiddenStyle),e.itemMarginTop=h,e.padding=g,e.initialItemX=g,e.initialItemY=g-5,e.maxItemWidth=0,e.chart=a,e.itemHeight=0,e.lastLineHeight=0,e.render(),yc(e.chart,"endResize",function(){e.positionCheckboxes()}))},colorizeItem:function(a,b){var c,d,e=this,f=e.options,g=a.legendItem,h=a.legendLine,i=a.legendSymbol,j=e.itemHiddenStyle.color,k=b?f.itemStyle.color:j,l=b?a.color:j,m=a.options&&a.options.marker,n={stroke:l,fill:l};if(g&&g.css({fill:k,color:k}),h&&h.attr({stroke:l}),i){if(m&&i.isMarker){m=a.convertAttribs(m);for(c in m)d=m[c],d!==W&&(n[c]=d)}i.attr(n)}},positionItem:function(a){var b=this,c=b.options,d=c.symbolPadding,e=!c.rtl,f=a._legendItemPos,g=f[0],h=f[1],i=a.checkbox;a.legendGroup&&a.legendGroup.translate(e?g:b.legendWidth-g-2*d-4,h),i&&(i.x=g,i.y=h)},destroyItem:function(a){var b=a.checkbox;uc(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),b&&G(a.checkbox)},destroy:function(){var a=this,b=a.group,c=a.box;c&&(a.box=c.destroy()),b&&(a.group=b.destroy())},positionCheckboxes:function(a){var b,c=this.group.alignAttr,d=this.clipHeight||this.legendHeight;c&&(b=c.translateY,uc(this.allItems,function(e){var f,g=e.checkbox;g&&(f=b+g.y+(a||0)+3,p(g,{left:c.translateX+e.legendItemWidth+g.x-20+Zb,top:f+Zb,display:f>b-6&&b+d-6>f?"":$b}))}))},renderTitle:function(){var a,b=this.options,c=this.padding,d=b.title,e=0;d.text&&(this.title||(this.title=this.chart.renderer.label(d.text,c-3,c-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(d.style).add(this.group)),a=this.title.getBBox(),e=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:e})),this.titleHeight=e},renderItem:function(a){var c,d,e,f=this,g=f.chart,h=g.renderer,i=f.options,j="horizontal"===i.layout,k=i.symbolWidth,l=i.symbolPadding,m=f.itemStyle,n=f.itemHiddenStyle,p=f.padding,r=j?o(i.itemDistance,8):0,s=!i.rtl,t=i.width,u=i.itemMarginBottom||0,v=f.itemMarginTop,x=f.initialItemX,y=a.legendItem,z=a.series||a,A=z.options,B=A.showCheckbox,C=i.useHTML;y||(a.legendGroup=h.g("legend-item").attr({zIndex:1}).add(f.scrollGroup),z.drawLegendSymbol(f,a),a.legendItem=y=h.text(i.labelFormat?w(i.labelFormat,a):i.labelFormatter.call(a),s?k+l:-l,f.baseline,C).css(b(a.visible?m:n)).attr({align:s?"left":"right",zIndex:2}).add(a.legendGroup),(C?y:a.legendGroup).on("mouseover",function(){a.setState(dc),y.css(f.options.itemHoverStyle)}).on("mouseout",function(){y.css(a.visible?m:n),a.setState()}).on("click",function(b){var c="legendItemClick",d=function(){a.setVisible()};b={browserEvent:b},a.firePointEvent?a.firePointEvent(c,b,d):Ac(a,c,b,d)}),f.colorizeItem(a,a.visible),A&&B&&(a.checkbox=q("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},i.itemCheckboxStyle,g.container),yc(a.checkbox,"click",function(b){var c=b.target;Ac(a,"checkboxClick",{checked:c.checked},function(){a.select()})}))),d=y.getBBox(),e=a.legendItemWidth=i.itemWidth||k+l+d.width+r+(B?20:0),f.itemHeight=c=d.height,j&&f.itemX-x+e>(t||g.chartWidth-2*p-x)&&(f.itemX=x,f.itemY+=v+f.lastLineHeight+u,f.lastLineHeight=0),f.maxItemWidth=ub(f.maxItemWidth,e),f.lastItemY=v+f.itemY+u,f.lastLineHeight=ub(c,f.lastLineHeight),a._legendItemPos=[f.itemX,f.itemY],j?f.itemX+=e:(f.itemY+=v+c+u,f.lastLineHeight=c),f.offsetWidth=t||ub((j?f.itemX-x-r:e)+p,f.offsetWidth)},render:function(){var b,c,d,e,f=this,g=f.chart,h=g.renderer,i=f.group,j=f.box,k=f.options,l=f.padding,m=k.borderWidth,n=k.backgroundColor;f.itemX=f.initialItemX,f.itemY=f.initialItemY,f.offsetWidth=0,f.lastItemY=0,i||(f.group=i=h.g("legend").attr({zIndex:7}).add(),f.contentGroup=h.g().attr({zIndex:1}).add(i),f.scrollGroup=h.g().add(f.contentGroup)),f.renderTitle(),b=[],uc(g.series,function(a){var c=a.options;o(c.showInLegend,c.linkedTo===W?W:!1,!0)&&(b=b.concat(a.legendItems||("point"===c.legendType?a.data:a)))}),C(b,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),k.reversed&&b.reverse(),f.allItems=b,f.display=c=!!b.length,uc(b,function(a){f.renderItem(a)}),d=k.width||f.offsetWidth,e=f.lastItemY+f.lastLineHeight+f.titleHeight,e=f.handleOverflow(e),(m||n)&&(d+=l,e+=l,j?d>0&&e>0&&(j[j.isNew?"attr":"animate"](j.crisp(null,null,null,d,e)),j.isNew=!1):(f.box=j=h.rect(0,0,d,e,k.borderRadius,m||0).attr({stroke:k.borderColor,"stroke-width":m||0,fill:n||$b}).add(i).shadow(k.shadow),j.isNew=!0),j[c?"show":"hide"]()),f.legendWidth=d,f.legendHeight=e,uc(b,function(a){f.positionItem(a)}),c&&i.align(a({width:d,height:e},k),!0,"spacingBox"),g.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b,c,d=this,e=this.chart,f=e.renderer,g=this.options,h=g.y,i="top"===g.verticalAlign,j=e.spacingBox.height+(i?-h:h)-this.padding,k=g.maxHeight,l=this.clipRect,m=g.navigation,n=o(m.animation,!0),p=m.arrowSize||12,q=this.nav;return"horizontal"===g.layout&&(j/=2),k&&(j=vb(j,k)),a>j&&!g.useHTML?(this.clipHeight=c=j-20-this.titleHeight,this.pageCount=b=tb(a/c),this.currentPage=o(this.currentPage,1),this.fullHeight=a,l||(l=d.clipRect=f.clipRect(0,0,9999,0),d.contentGroup.clip(l)),l.attr({height:c}),q||(this.nav=q=f.g().attr({zIndex:1}).add(this.group),this.up=f.symbol("triangle",0,0,p,p).on("click",function(){d.scroll(-1,n)}).add(q),this.pager=f.text("",15,10).css(m.style).add(q),this.down=f.symbol("triangle-down",0,0,p,p).on("click",function(){d.scroll(1,n)}).add(q)),d.scroll(0),a=j):q&&(l.attr({height:e.chartHeight}),q.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,b){var c,d=this.pageCount,e=this.currentPage+a,f=this.clipHeight,g=this.options.navigation,h=g.activeColor,i=g.inactiveColor,j=this.pager,k=this.padding;e>d&&(e=d),e>0&&(b!==W&&J(b,this.chart),this.nav.attr({translateX:k,translateY:f+7+this.titleHeight,visibility:Yb}),this.up.attr({fill:1===e?i:h}).css({cursor:1===e?"default":"pointer"}),j.attr({text:e+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:e===d?i:h}).css({cursor:e===d?"default":"pointer"}),c=-vb(f*(e-1),this.fullHeight-f+k)+1,this.scrollGroup.animate({translateY:c}),j.attr({text:e+"/"+d}),this.currentPage=e,this.positionCheckboxes(c))}},/Trident\/7\.0/.test(Bb)&&u(U.prototype,"positionItem",function(a,b){var c=this,d=function(){a.call(c,b)};c.chart.renderer.forExport?d():setTimeout(d)}),V.prototype={init:function(a,c){var d,e=a.series;a.series=null,d=b(Z,a),d.series=a.series=e;var f=d.chart;this.margin=this.splashArray("margin",f),this.spacing=this.splashArray("spacing",f);var g=f.events;this.bounds={h:{},v:{}},this.callback=c,this.isResizing=0,this.options=d,this.axes=[],this.series=[],this.hasCartesianSeries=f.showAxes;var h,i=this;if(i.index=Qb.length,Qb.push(i),f.reflow!==!1&&yc(i,"load",function(){i.initReflow()}),g)for(h in g)yc(i,h,g[h]);i.xAxis=[],i.yAxis=[],i.animation=Lb?!1:o(f.animation,!0),i.pointCount=0,i.counters=new B,i.firstRender()},initSeries:function(a){var b,c=this,d=c.options.chart,e=a.type||d.type||d.defaultSeriesType,f=oc[e];return f||H(17,!0),b=new f,b.init(this,a),b},addSeries:function(a,b,c){var d,e=this;return a&&(b=o(b,!0),Ac(e,"addSeries",{options:a},function(){d=e.initSeries(a),e.isDirtyLegend=!0,e.linkSeries(),b&&e.redraw(c)})),d},addAxis:function(a,c,d,e){var f,g=c?"xAxis":"yAxis",h=this.options;f=new R(this,b(a,{index:this[g].length,isX:c})),h[g]=n(h[g]||{}),h[g].push(a),o(d,!0)&&this.redraw(e)},isInsidePlot:function(a,b,c){var d=c?b:a,e=c?a:b;return d>=0&&d<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&uc(this.axes,function(a){a.adjustTickAmount()}),this.maxTicks=null},redraw:function(b){var c,d,e,f=this,g=f.axes,h=f.series,i=f.pointer,j=f.legend,k=f.isDirtyLegend,l=f.isDirtyBox,m=h.length,n=m,o=f.renderer,p=o.isHidden(),q=[];for(J(b,f),p&&f.cloneRenderTo(),f.layOutTitles();n--;)if(e=h[n],e.options.stacking&&(c=!0,e.isDirty)){d=!0;break}if(d)for(n=m;n--;)e=h[n],e.options.stacking&&(e.isDirty=!0);uc(h,function(a){a.isDirty&&"point"===a.options.legendType&&(k=!0)}),k&&j.options.enabled&&(j.render(),f.isDirtyLegend=!1),c&&f.getStacks(),f.hasCartesianSeries&&(f.isResizing||(f.maxTicks=null,uc(g,function(a){a.setScale()})),f.adjustTickAmounts(),f.getMargins(),uc(g,function(a){a.isDirty&&(l=!0)}),uc(g,function(b){b.isDirtyExtremes&&(b.isDirtyExtremes=!1,q.push(function(){Ac(b,"afterSetExtremes",a(b.eventArgs,b.getExtremes())),delete b.eventArgs})),(l||c)&&b.redraw()})),l&&f.drawChartBox(),uc(h,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()}),i&&i.reset&&i.reset(!0),o.draw(),Ac(f,"redraw"),p&&f.cloneRenderTo(!0),uc(q,function(a){a.call()})},showLoading:function(b){var c=this,d=c.options,e=c.loadingDiv,f=d.loading;e||(c.loadingDiv=e=q(Tb,{className:Xb+"loading"},a(f.style,{zIndex:10,display:$b}),c.container),c.loadingSpan=q("span",null,f.labelStyle,e)),c.loadingSpan.innerHTML=b||d.lang.loading,c.loadingShown||(p(e,{opacity:0,display:"",left:c.plotLeft+Zb,top:c.plotTop+Zb,width:c.plotWidth+Zb,height:c.plotHeight+Zb}),Cc(e,{opacity:f.style.opacity},{duration:f.showDuration||0}),c.loadingShown=!0)},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&Cc(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){p(b,{display:$b})}}),this.loadingShown=!1},get:function(a){var b,c,d,e=this,f=e.axes,g=e.series;for(b=0;b<f.length;b++)if(f[b].options.id===a)return f[b];for(b=0;b<g.length;b++)if(g[b].options.id===a)return g[b];for(b=0;b<g.length;b++)for(d=g[b].points||[],c=0;c<d.length;c++)if(d[c].id===a)return d[c];return null},getAxes:function(){var a,b,c=this,d=this.options,e=d.xAxis=n(d.xAxis||{}),f=d.yAxis=n(d.yAxis||{});uc(e,function(a,b){a.index=b,a.isX=!0}),uc(f,function(a,b){a.index=b}),a=e.concat(f),uc(a,function(a){b=new R(c,a)}),c.adjustTickAmounts()},getSelectedPoints:function(){var a=[];return uc(this.series,function(b){a=a.concat(vc(b.points||[],function(a){return a.selected}))}),a},getSelectedSeries:function(){return vc(this.series,function(a){return a.selected})},getStacks:function(){var a=this;uc(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)}),uc(a.series,function(b){!b.options.stacking||b.visible!==!0&&a.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=b.type+o(b.options.stack,""))})},showResetZoom:function(){var a=this,b=Z.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,f="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,f)},zoomOut:function(){var a=this;Ac(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,c,d=this,e=d.pointer,g=!1;!a||a.resetSelection?uc(d.axes,function(a){b=a.zoom()}):uc(a.xAxis.concat(a.yAxis),function(a){var c=a.axis,d=c.isXAxis;(e[d?"zoomX":"zoomY"]||e[d?"pinchX":"pinchY"])&&(b=c.zoom(a.min,a.max),c.displayBtn&&(g=!0))}),c=d.resetZoomButton,g&&!c?d.showResetZoom():!g&&f(c)&&(d.resetZoomButton=c.destroy()),b&&d.redraw(o(d.options.chart.animation,a&&a.animation,d.pointCount<100))},pan:function(a,b){var c,d=this,e=d.hoverPoints;e&&uc(e,function(a){a.setState()}),uc("xy"===b?[1,0]:[1],function(b){var e=a[b?"chartX":"chartY"],f=d[b?"xAxis":"yAxis"][0],g=d[b?"mouseDownX":"mouseDownY"],h=(f.pointRange||0)/2,i=f.getExtremes(),j=f.toValue(g-e,!0)+h,k=f.toValue(g+d[b?"plotWidth":"plotHeight"]-e,!0)-h;f.series.length&&j>vb(i.dataMin,i.min)&&k<ub(i.dataMax,i.max)&&(f.setExtremes(j,k,!1,!1,{trigger:"pan"}),c=!0),d[b?"mouseDownX":"mouseDownY"]=e}),c&&d.redraw(!1),p(d.container,{cursor:"move"})},setTitle:function(a,c){var d,e,f=this,g=f.options;d=g.title=b(g.title,a),e=g.subtitle=b(g.subtitle,c),uc([["title",a,d],["subtitle",c,e]],function(a){var b=a[0],c=f[b],d=a[1],e=a[2];c&&d&&(f[b]=c=c.destroy()),e&&e.text&&!c&&(f[b]=f.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":Xb+b,zIndex:e.zIndex||4}).css(e.style).add())}),f.layOutTitles()},layOutTitles:function(){var b=0,c=this.title,d=this.subtitle,e=this.options,f=e.title,g=e.subtitle,h=this.spacingBox.width-44;c&&(c.css({width:(f.width||h)+Zb}).align(a({y:15},f),!1,"spacingBox"),f.floating||f.verticalAlign||(b=c.getBBox().height,b>=18&&25>=b&&(b=15))),d&&(d.css({width:(g.width||h)+Zb}).align(a({y:b+f.margin},g),!1,"spacingBox"),g.floating||g.verticalAlign||(b=tb(b+d.getBBox().height))),this.titleOffset=b},getChartSize:function(){var a=this,b=a.options.chart,c=a.renderToClone||a.renderTo;a.containerWidth=rc(c,"width"),a.containerHeight=rc(c,"height"),a.chartWidth=ub(0,b.width||a.containerWidth||600),a.chartHeight=ub(0,o(b.height,a.containerHeight>19?a.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;a?b&&(this.renderTo.appendChild(c),G(b),delete this.renderToClone):(c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),p(b,{position:Ub,top:"-9999px",display:"block"}),ob.body.appendChild(b),c&&b.appendChild(c))},getContainer:function(){var b,c,f,g,h,i,j=this,k=j.options.chart,l="data-highcharts-chart";j.renderTo=g=k.renderTo,i=Xb+Ob++,e(g)&&(j.renderTo=g=ob.getElementById(g)),g||H(13,!0),h=d(m(g,l)),!isNaN(h)&&Qb[h]&&Qb[h].destroy(),m(g,l,j.index),g.innerHTML="",g.offsetWidth||j.cloneRenderTo(),j.getChartSize(),c=j.chartWidth,f=j.chartHeight,j.container=b=q(Tb,{className:Xb+"container"+(k.className?" "+k.className:""),id:i},a({position:Vb,overflow:Wb,width:c+Zb,height:f+Zb,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},k.style),j.renderToClone||g),j._cursor=b.style.cursor,j.renderer=k.forExport?new Lc(b,c,f,!0):new X(b,c,f),Lb&&j.renderer.create(j,b,c,f)},getMargins:function(){var a,b=this,c=b.spacing,d=b.legend,e=b.margin,f=b.options.legend,g=o(f.margin,10),h=f.x,i=f.y,j=f.align,k=f.verticalAlign,m=b.titleOffset;b.resetMargins(),a=b.axisOffset,m&&!l(e[0])&&(b.plotTop=ub(b.plotTop,m+b.options.title.margin+c[0])),d.display&&!f.floating&&("right"===j?l(e[1])||(b.marginRight=ub(b.marginRight,d.legendWidth-h+g+c[1])):"left"===j?l(e[3])||(b.plotLeft=ub(b.plotLeft,d.legendWidth+h+g+c[3])):"top"===k?l(e[0])||(b.plotTop=ub(b.plotTop,d.legendHeight+i+g+c[0])):"bottom"===k&&(l(e[2])||(b.marginBottom=ub(b.marginBottom,d.legendHeight-i+g+c[2])))),b.extraBottomMargin&&(b.marginBottom+=b.extraBottomMargin),b.extraTopMargin&&(b.plotTop+=b.extraTopMargin),b.hasCartesianSeries&&uc(b.axes,function(a){a.getOffset()}),l(e[3])||(b.plotLeft+=a[3]),l(e[0])||(b.plotTop+=a[0]),l(e[2])||(b.marginBottom+=a[2]),l(e[1])||(b.marginRight+=a[1]),b.setChartSize()},initReflow:function(){function a(a){var f=d.width||rc(e,"width"),g=d.height||rc(e,"height"),h=a?a.target:pb;c.hasUserSize||!f||!g||h!==pb&&h!==ob||((f!==c.containerWidth||g!==c.containerHeight)&&(clearTimeout(b),c.reflowTimeout=b=setTimeout(function(){c.container&&(c.setSize(f,g,!1),c.hasUserSize=null)
},100)),c.containerWidth=f,c.containerHeight=g)}var b,c=this,d=c.options.chart,e=c.renderTo;c.reflow=a,yc(pb,"resize",a),yc(c,"destroy",function(){zc(pb,"resize",a)})},setSize:function(a,b,c){var d,e,f,g=this;g.isResizing+=1,f=function(){g&&Ac(g,"endResize",null,function(){g.isResizing-=1})},J(c,g),g.oldChartHeight=g.chartHeight,g.oldChartWidth=g.chartWidth,l(a)&&(g.chartWidth=d=ub(0,rb(a)),g.hasUserSize=!!d),l(b)&&(g.chartHeight=e=ub(0,rb(b))),p(g.container,{width:d+Zb,height:e+Zb}),g.setChartSize(!0),g.renderer.setSize(d,e,c),g.maxTicks=null,uc(g.axes,function(a){a.isDirty=!0,a.setScale()}),uc(g.series,function(a){a.isDirty=!0}),g.isDirtyLegend=!0,g.isDirtyBox=!0,g.getMargins(),g.redraw(c),g.oldChartHeight=null,Ac(g,"resize"),_===!1?f():setTimeout(f,_&&_.duration||500)},setChartSize:function(a){var b,c,d,e,f,g,h,i=this,j=i.inverted,k=i.renderer,l=i.chartWidth,m=i.chartHeight,n=i.options.chart,o=i.spacing,p=i.clipOffset;i.plotLeft=d=rb(i.plotLeft),i.plotTop=e=rb(i.plotTop),i.plotWidth=f=ub(0,rb(l-d-i.marginRight)),i.plotHeight=g=ub(0,rb(m-e-i.marginBottom)),i.plotSizeX=j?g:f,i.plotSizeY=j?f:g,i.plotBorderWidth=n.plotBorderWidth||0,i.spacingBox=k.spacingBox={x:o[3],y:o[0],width:l-o[3]-o[1],height:m-o[0]-o[2]},i.plotBox=k.plotBox={x:d,y:e,width:f,height:g},h=2*sb(i.plotBorderWidth/2),b=tb(ub(h,p[3])/2),c=tb(ub(h,p[0])/2),i.clipBox={x:b,y:c,width:sb(i.plotSizeX-ub(h,p[1])/2-b),height:sb(i.plotSizeY-ub(h,p[2])/2-c)},a||uc(i.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var a=this,b=a.spacing,c=a.margin;a.plotTop=o(c[0],b[0]),a.marginRight=o(c[1],b[1]),a.marginBottom=o(c[2],b[2]),a.plotLeft=o(c[3],b[3]),a.axisOffset=[0,0,0,0],a.clipOffset=[0,0,0,0]},drawChartBox:function(){var a,b,c=this,d=c.options.chart,e=c.renderer,f=c.chartWidth,g=c.chartHeight,h=c.chartBackground,i=c.plotBackground,j=c.plotBorder,k=c.plotBGImage,l=d.borderWidth||0,m=d.backgroundColor,n=d.plotBackgroundColor,o=d.plotBackgroundImage,p=d.plotBorderWidth||0,q=c.plotLeft,r=c.plotTop,s=c.plotWidth,t=c.plotHeight,u=c.plotBox,v=c.clipRect,w=c.clipBox;a=l+(d.shadow?8:0),(l||m)&&(h?h.animate(h.crisp(null,null,null,f-a,g-a)):(b={fill:m||$b},l&&(b.stroke=d.borderColor,b["stroke-width"]=l),c.chartBackground=e.rect(a/2,a/2,f-a,g-a,d.borderRadius,l).attr(b).add().shadow(d.shadow))),n&&(i?i.animate(u):c.plotBackground=e.rect(q,r,s,t,0).attr({fill:n}).add().shadow(d.plotShadow)),o&&(k?k.animate(u):c.plotBGImage=e.image(o,q,r,s,t).add()),v?v.animate({width:w.width,height:w.height}):c.clipRect=e.clipRect(w),p&&(j?j.animate(j.crisp(null,q,r,s,t)):c.plotBorder=e.rect(q,r,s,t,0,-p).attr({stroke:d.plotBorderColor,"stroke-width":p,zIndex:1}).add()),c.isDirtyBox=!1},propFromSeries:function(){var a,b,c,d=this,e=d.options.chart,f=d.options.series;uc(["inverted","angular","polar"],function(g){for(a=oc[e.type||e.defaultSeriesType],c=d[g]||e[g]||a&&a.prototype[g],b=f&&f.length;!c&&b--;)a=oc[f[b].type],a&&a.prototype[g]&&(c=!0);d[g]=c})},linkSeries:function(){var a=this,b=a.series;uc(b,function(a){a.linkedSeries.length=0}),uc(b,function(b){var c=b.options.linkedTo;e(c)&&(c=":previous"===c?a.series[b.index-1]:a.get(c),c&&(c.linkedSeries.push(b),b.linkedParent=c))})},render:function(){var b,c=this,e=c.axes,f=c.renderer,g=c.options,h=g.labels,i=g.credits;c.setTitle(),c.legend=new U(c,g.legend),c.getStacks(),uc(e,function(a){a.setScale()}),c.getMargins(),c.maxTicks=null,uc(e,function(a){a.setTickPositions(!0),a.setMaxTicks()}),c.adjustTickAmounts(),c.getMargins(),c.drawChartBox(),c.hasCartesianSeries&&uc(e,function(a){a.render()}),c.seriesGroup||(c.seriesGroup=f.g("series-group").attr({zIndex:3}).add()),uc(c.series,function(a){a.translate(),a.setTooltipPoints(),a.render()}),h.items&&uc(h.items,function(b){var e=a(h.style,b.style),g=d(e.left)+c.plotLeft,i=d(e.top)+c.plotTop+12;delete e.left,delete e.top,f.text(b.html,g,i).attr({zIndex:2}).css(e).add()}),i.enabled&&!c.credits&&(b=i.href,c.credits=f.text(i.text,0,0).on("click",function(){b&&(location.href=b)}).attr({align:i.position.align,zIndex:8}).css(i.style).add().align(i.position)),c.hasRendered=!0},destroy:function(){var a,b=this,c=b.axes,d=b.series,e=b.container,f=e&&e.parentNode;for(Ac(b,"destroy"),Qb[b.index]=W,b.renderTo.removeAttribute("data-highcharts-chart"),zc(b),a=c.length;a--;)c[a]=c[a].destroy();for(a=d.length;a--;)d[a]=d[a].destroy();uc(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())}),e&&(e.innerHTML="",zc(e),f&&G(e));for(a in b)delete b[a]},isReadyToRender:function(){var a=this;return!Jb&&pb==pb.top&&"complete"!==ob.readyState||Lb&&!pb.canvg?(Lb?Qc.push(function(){a.firstRender()},a.options.global.canvasToolsURL):ob.attachEvent("onreadystatechange",function(){ob.detachEvent("onreadystatechange",a.firstRender),"complete"===ob.readyState&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options,c=a.callback;a.isReadyToRender()&&(a.getContainer(),Ac(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),uc(b.series||[],function(b){a.initSeries(b)}),a.linkSeries(),Ac(a,"beforeRender"),a.pointer=new T(a,b),a.render(),a.renderer.draw(),c&&c.apply(a,[a]),uc(a.callbacks,function(b){b.apply(a,[a])}),a.cloneRenderTo(!0),Ac(a,"load"))},splashArray:function(a,b){var c=b[a],d=f(c)?c:[c,c,c,c];return[o(b[a+"Top"],d[0]),o(b[a+"Right"],d[1]),o(b[a+"Bottom"],d[2]),o(b[a+"Left"],d[3])]}},V.prototype.callbacks=[];var Rc=function(){};Rc.prototype={init:function(a,b,c){var d,e=this;return e.series=a,e.applyOptions(b,c),e.pointAttr={},a.options.colorByPoint&&(d=a.options.colors||a.chart.options.colors,e.color=e.color||d[a.colorCounter++],a.colorCounter===d.length&&(a.colorCounter=0)),a.chart.pointCount++,e},applyOptions:function(b,c){var d=this,e=d.series,f=e.pointValKey;return b=Rc.prototype.optionsToObject.call(this,b),a(d,b),d.options=d.options?a(d.options,b):b,f&&(d.y=d[f]),d.x===W&&e&&(d.x=c===W?e.autoIncrement():c),d},optionsToObject:function(a){var b,c={},d=this.series,e=d.pointArrayMap||["y"],f=e.length,h=0,i=0;if("number"==typeof a||null===a)c[e[0]]=a;else if(g(a))for(a.length>f&&(b=typeof a[0],"string"===b?c.name=a[0]:"number"===b&&(c.x=a[0]),h++);f>i;)c[e[i++]]=a[h++];else"object"==typeof a&&(c=a,a.dataLabels&&(d._hasPointLabels=!0),a.marker&&(d._hasPointMarkers=!0));return c},destroy:function(){var a,b=this,c=b.series,d=c.chart,e=d.hoverPoints;d.pointCount--,e&&(b.setState(),k(e,b),e.length||(d.hoverPoints=null)),b===d.hoverPoint&&b.onMouseOut(),(b.graphic||b.dataLabel)&&(zc(b),b.destroyElements()),b.legendItem&&d.legend.destroyItem(b);for(a in b)b[a]=null},destroyElements:function(){for(var a,b=this,c=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],d=6;d--;)a=c[d],b[a]&&(b[a]=b[a].destroy())},getLabelConfig:function(){var a=this;return{x:a.category,y:a.y,key:a.name||a.category,series:a.series,point:a,percentage:a.percentage,total:a.total||a.stackTotal}},select:function(a,b){var c=this,d=c.series,e=d.chart;a=o(a,!c.selected),c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a,d.options.data[tc(c,d.data)]=c.options,c.setState(a&&ec),b||uc(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,d.options.data[tc(a,d.data)]=a.options,a.setState(cc),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this,c=b.series,d=c.chart,e=d.tooltip,f=d.hoverPoint;f&&f!==b&&f.onMouseOut(),b.firePointEvent("mouseOver"),!e||e.shared&&!c.noSharedTooltip||e.refresh(b,a),b.setState(dc),d.hoverPoint=b},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;b&&-1!==tc(this,b)||(this.firePointEvent("mouseOut"),this.setState(),a.hoverPoint=null)},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,d=o(c.valueDecimals,""),e=c.valuePrefix||"",f=c.valueSuffix||"";return uc(b.pointArrayMap||["y"],function(b){b="{point."+b,(e||f)&&(a=a.replace(b+"}",e+b+"}"+f)),a=a.replace(b+"}",b+":,."+d+"f}")}),w(a,{point:this,series:this.series})},update:function(a,b,c){var d,e=this,g=e.series,h=e.graphic,i=g.data,j=g.chart,k=g.options;b=o(b,!0),e.firePointEvent("update",{options:a},function(){e.applyOptions(a),f(a)&&(g.getAttribs(),h&&(a&&a.marker&&a.marker.symbol?e.graphic=h.destroy():h.attr(e.pointAttr[e.state||""]))),d=tc(e,i),g.xData[d]=e.x,g.yData[d]=g.toYData?g.toYData(e):e.y,g.zData[d]=e.z,k.data[d]=e.options,g.isDirty=g.isDirtyData=!0,!g.fixedBox&&g.hasCartesianSeries&&(j.isDirtyBox=!0),"point"===k.legendType&&j.legend.destroyItem(e),b&&j.redraw(c)})},remove:function(a,b){var c,d=this,e=d.series,f=e.points,g=e.chart,h=e.data;J(b,g),a=o(a,!0),d.firePointEvent("remove",null,function(){c=tc(d,h),h.length===f.length&&f.splice(c,1),h.splice(c,1),e.options.data.splice(c,1),e.xData.splice(c,1),e.yData.splice(c,1),e.zData.splice(c,1),d.destroy(),e.isDirty=!0,e.isDirtyData=!0,a&&g.redraw()})},firePointEvent:function(a,b,c){var d=this,e=this.series,f=e.options;(f.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),"click"===a&&f.allowPointSelect&&(c=function(a){d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),Ac(this,a,b,c)},importEvents:function(){if(!this.hasImportedEvents){var a,c=this,d=b(c.series.options.point,c.options),e=d.events;c.events=e;for(a in e)yc(c,a,e[a]);this.hasImportedEvents=!0}},setState:function(a){var c,d,e=this,f=e.plotX,g=e.plotY,h=e.series,i=h.options.states,j=Fc[h.type].marker&&h.options.marker,k=j&&!j.enabled,l=j&&j.states[a],m=l&&l.enabled===!1,n=h.stateMarkerGraphic,o=e.marker||{},p=h.chart,q=e.pointAttr;a=a||cc,a===e.state||e.selected&&a!==ec||i[a]&&i[a].enabled===!1||a&&(m||k&&!l.enabled)||a&&o.states&&o.states[a]&&o.states[a].enabled===!1||(e.graphic?(c=j&&e.graphic.symbolName&&q[a].r,e.graphic.attr(b(q[a],c?{x:f-c,y:g-c,width:2*c,height:2*c}:{}))):(a&&l&&(c=l.radius,d=o.symbol||h.symbol,n&&n.currentSymbol!==d&&(n=n.destroy()),n?n.attr({x:f-c,y:g-c}):(h.stateMarkerGraphic=n=p.renderer.symbol(d,f-c,g-c,2*c,2*c).attr(q[a]).add(h.markerGroup),n.currentSymbol=d)),n&&n[a&&p.isInsidePlot(f,g)?"show":"hide"]()),e.state=a)}};var Sc=function(){};Sc.prototype={isCartesian:!0,type:"line",pointClass:Rc,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(b,c){var d,e,f=this,g=b.series;f.chart=b,f.options=c=f.setOptions(c),f.linkedSeries=[],f.bindAxes(),a(f,{name:c.name,state:cc,pointAttr:{},visible:c.visible!==!1,selected:c.selected===!0}),Lb&&(c.animation=!1),e=c.events;for(d in e)yc(f,d,e[d]);(e&&e.click||c.point&&c.point.events&&c.point.events.click||c.allowPointSelect)&&(b.runTrackerClick=!0),f.getColor(),f.getSymbol(),f.setData(c.data,!1),f.isCartesian&&(b.hasCartesianSeries=!0),g.push(f),f._i=g.length-1,C(g,function(a,b){return o(a.options.index,a._i)-o(b.options.index,a._i)}),uc(g,function(a,b){a.index=b,a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a,b=this,c=b.options,d=b.chart;b.isCartesian&&uc(["xAxis","yAxis"],function(e){uc(d[e],function(d){a=d.options,(c[e]===a.index||c[e]!==W&&c[e]===a.id||c[e]===W&&0===a.index)&&(d.series.push(b),b[e]=d,d.isDirty=!0)}),b[e]||H(18,!0)})},autoIncrement:function(){var a=this,b=a.options,c=a.xIncrement;return c=o(c,b.pointStart,0),a.pointInterval=o(a.pointInterval,b.pointInterval,1),a.xIncrement=c+a.pointInterval,c},getSegments:function(){var a,b=this,c=-1,d=[],e=b.points,f=e.length;if(f)if(b.options.connectNulls){for(a=f;a--;)null===e[a].y&&e.splice(a,1);e.length&&(d=[e])}else uc(e,function(a,b){null===a.y?(b>c+1&&d.push(e.slice(c+1,b)),c=b):b===f-1&&d.push(e.slice(c+1,b+1))});b.segments=d},setOptions:function(a){var c,d=this.chart,e=d.options,f=e.plotOptions,g=f[this.type];return this.userOptions=a,c=b(g,f.series,a),this.tooltipOptions=b(e.tooltip,c.tooltip),null===g.marker&&delete c.marker,c},getColor:function(){var a,b,c=this.options,d=this.userOptions,e=this.chart.options.colors,f=this.chart.counters;a=c.color||Fc[this.type].color,a||c.colorByPoint||(l(d._colorIndex)?b=d._colorIndex:(d._colorIndex=f.color,b=f.color++),a=e[b]),this.color=a,f.wrapColor(e.length)},getSymbol:function(){var a,b=this,c=b.userOptions,d=b.options.marker,e=b.chart,f=e.options.symbols,g=e.counters;b.symbol=d.symbol,b.symbol||(l(c._symbolIndex)?a=c._symbolIndex:(c._symbolIndex=g.symbol,a=g.symbol++),b.symbol=f[a]),/^url/.test(b.symbol)&&(d.radius=0),g.wrapSymbol(f.length)},drawLegendSymbol:function(a){var b,c,d,e=this.options,f=e.marker,g=a.options,h=g.symbolWidth,i=this.chart.renderer,j=this.legendGroup,k=a.baseline-rb(.3*i.fontMetrics(g.itemStyle.fontSize).b);e.lineWidth&&(d={"stroke-width":e.lineWidth},e.dashStyle&&(d.dashstyle=e.dashStyle),this.legendLine=i.path([_b,0,k,ac,h,k]).attr(d).add(j)),f&&f.enabled&&(b=f.radius,this.legendSymbol=c=i.symbol(this.symbol,h/2-b,k-b,2*b,2*b).add(j),c.isMarker=!0)},addPoint:function(a,b,c,d){var e,f,g,h,i=this,j=i.options,k=i.data,l=i.graph,m=i.area,n=i.chart,p=i.xData,q=i.yData,r=i.zData,s=i.xAxis&&i.xAxis.names,t=l&&l.shift||0,u=j.data;if(J(d,n),c&&uc([l,m,i.graphNeg,i.areaNeg],function(a){a&&(a.shift=t+1)}),m&&(m.isArea=!0),b=o(b,!0),e={series:i},i.pointClass.prototype.applyOptions.apply(e,[a]),g=e.x,h=p.length,i.requireSorting&&g<p[h-1])for(f=!0;h&&p[h-1]>g;)h--;p.splice(h,0,g),q.splice(h,0,i.toYData?i.toYData(e):e.y),r.splice(h,0,e.z),s&&(s[g]=e.name),u.splice(h,0,a),f&&(i.data.splice(h,0,null),i.processData()),"point"===j.legendType&&i.generatePoints(),c&&(k[0]&&k[0].remove?k[0].remove(!1):(k.shift(),p.shift(),q.shift(),r.shift(),u.shift())),i.isDirty=!0,i.isDirtyData=!0,b&&(i.getAttribs(),n.redraw())},setData:function(a,b){var c,d=this,f=d.points,i=d.options,j=d.chart,k=null,l=d.xAxis,m=l&&l.names;d.xIncrement=null,d.pointRange=l&&l.categories?1:i.pointRange,d.colorCounter=0;var n,p=[],q=[],r=[],s=a?a.length:[],t=o(i.turboThreshold,1e3),u=d.pointArrayMap,v=u&&u.length,w=!!d.toYData;if(t&&s>t){for(c=0;null===k&&s>c;)k=a[c],c++;if(h(k)){var x=o(i.pointStart,0),y=o(i.pointInterval,1);for(c=0;s>c;c++)p[c]=x,q[c]=a[c],x+=y;d.xIncrement=x}else if(g(k))if(v)for(c=0;s>c;c++)n=a[c],p[c]=n[0],q[c]=n.slice(1,v+1);else for(c=0;s>c;c++)n=a[c],p[c]=n[0],q[c]=n[1];else H(12)}else for(c=0;s>c;c++)a[c]!==W&&(n={series:d},d.pointClass.prototype.applyOptions.apply(n,[a[c]]),p[c]=n.x,q[c]=w?d.toYData(n):n.y,r[c]=n.z,m&&n.name&&(m[n.x]=n.name));for(e(q[0])&&H(14,!0),d.data=[],d.options.data=a,d.xData=p,d.yData=q,d.zData=r,c=f&&f.length||0;c--;)f[c]&&f[c].destroy&&f[c].destroy();l&&(l.minRange=l.userMinRange),d.isDirty=d.isDirtyData=j.isDirtyBox=!0,o(b,!0)&&j.redraw(!1)},remove:function(a,b){var c=this,d=c.chart;a=o(a,!0),c.isRemoving||(c.isRemoving=!0,Ac(c,"remove",null,function(){c.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,d.linkSeries(),a&&d.redraw(b)})),c.isRemoving=!1},processData:function(a){var b,c,d,e,f,g=this,h=g.xData,i=g.yData,j=h.length,k=0,l=g.xAxis,m=g.options,n=m.cropThreshold,o=g.isCartesian;if(o&&!g.isDirty&&!l.isDirty&&!g.yAxis.isDirty&&!a)return!1;if(o&&g.sorted&&(!n||j>n||g.forceCrop)){var p=l.min,q=l.max;h[j-1]<p||h[0]>q?(h=[],i=[]):(h[0]<p||h[j-1]>q)&&(b=this.cropData(g.xData,g.yData,p,q),h=b.xData,i=b.yData,k=b.start,c=!0)}for(f=h.length-1;f>=0;f--)d=h[f]-h[f-1],d>0&&(e===W||e>d)?e=d:0>d&&g.requireSorting&&H(15);g.cropped=c,g.cropStart=k,g.processedXData=h,g.processedYData=i,null===m.pointRange&&(g.pointRange=e||1),g.closestPointRange=e},cropData:function(a,b,c,d){var e,f=a.length,g=0,h=f,i=o(this.cropShoulder,1);for(e=0;f>e;e++)if(a[e]>=c){g=ub(0,e-i);break}for(;f>e;e++)if(a[e]>d){h=e+i;break}return{xData:a.slice(g,h),yData:b.slice(g,h),start:g,end:h}},generatePoints:function(){var a,b,c,d,e=this,f=e.options,g=f.data,h=e.data,i=e.processedXData,j=e.processedYData,k=e.pointClass,l=i.length,m=e.cropStart||0,o=e.hasGroupedData,p=[];if(!h&&!o){var q=[];q.length=g.length,h=e.data=q}for(d=0;l>d;d++)b=m+d,o?p[d]=(new k).init(e,[i[d]].concat(n(j[d]))):(h[b]?c=h[b]:g[b]!==W&&(h[b]=c=(new k).init(e,g[b],i[d])),p[d]=c);if(h&&(l!==(a=h.length)||o))for(d=0;a>d;d++)d!==m||o||(d+=l),h[d]&&(h[d].destroyElements(),h[d].plotX=W);e.data=h,e.points=p},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var a,b,c,d,e,f,g,h=this,i=h.processedXData,j=h.processedYData,k=[],l=j.length,m=h.options,n=m.threshold,o=m.stack,p=m.stacking,q=h.stackKey,r="-"+q,s=h.negStacks,t=h.yAxis,u=t.stacks,v=t.oldStacks;for(e=0;l>e;e++)f=i[e],g=j[e],a=s&&n>g,d=a?r:q,u[d]||(u[d]={}),u[d][f]||(v[d]&&v[d][f]?(u[d][f]=v[d][f],u[d][f].total=null):u[d][f]=new Q(t,t.options.stackLabels,a,f,o,p)),b=u[d][f],b.points[h.index]=[b.cum||0],"percent"===p?(c=a?q:r,s&&u[c]&&u[c][f]?(c=u[c][f],b.total=c.total=ub(c.total,b.total)+wb(g)||0):b.total+=wb(g)||0):b.total+=g||0,b.cum=(b.cum||0)+(g||0),b.points[h.index].push(b.cum),k[e]=b.cum;"percent"===p&&(t.usePercentage=!0),this.stackedYData=k,t.oldStacks={}}},setPercentStacks:function(){var a=this,b=a.stackKey,c=a.yAxis.stacks;uc([b,"-"+b],function(b){for(var d,e,f,g,h=a.xData.length;h--;)d=a.xData[h],e=c[b]&&c[b][d],f=e&&e.points[a.index],f&&(g=e.total?100/e.total:0,f[0]=I(f[0]*g),f[1]=I(f[1]*g),a.stackedYData[h]=f[1])})},getExtremes:function(){var a,b,c,d,e,f,g,h,i=this.xAxis,j=this.yAxis,k=this.processedXData,l=this.stackedYData||this.processedYData,m=l.length,n=[],p=0,q=i.getExtremes(),r=q.min,s=q.max;for(g=0;m>g;g++)if(e=k[g],f=l[g],a=null!==f&&f!==W&&(!j.isLog||f.length||f>0),b=this.getExtremesFromAll||this.cropped||(k[g+1]||e)>=r&&(k[g-1]||e)<=s,a&&b)if(h=f.length)for(;h--;)null!==f[h]&&(n[p++]=f[h]);else n[p++]=f;this.dataMin=o(c,D(n)),this.dataMax=o(d,E(n))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var a,b=this,c=b.options,d=c.stacking,e=b.xAxis,f=e.categories,g=b.yAxis,i=b.points,j=i.length,k=!!b.modifyValue,m=c.pointPlacement,n="between"===m||h(m),p=c.threshold;for(a=0;j>a;a++){var q,r,s=i[a],t=s.x,u=s.y,v=s.low,w=g.stacks[(b.negStacks&&p>u?"-":"")+b.stackKey];g.isLog&&0>=u&&(s.y=u=null),s.plotX=e.translate(t,0,0,0,1,m,"flags"===this.type),d&&b.visible&&w&&w[t]&&(q=w[t],r=q.points[b.index],v=r[0],u=r[1],0===v&&(v=o(p,g.min)),g.isLog&&0>=v&&(v=null),s.total=s.stackTotal=q.total,s.percentage="percent"===d&&s.y/q.total*100,s.stackY=u,q.setOffset(b.pointXOffset||0,b.barW||0)),s.yBottom=l(v)?g.translate(v,0,1,0,1):null,k&&(u=b.modifyValue(u,s)),s.plotY="number"==typeof u&&1/0!==u?g.translate(u,0,1,0,1):W,s.clientX=n?e.translate(t,0,0,0,1):s.plotX,s.negative=s.y<(p||0),s.category=f&&f[s.x]!==W?f[s.x]:s.x}b.getSegments()},setTooltipPoints:function(a){var b,c,d,e,f,g,h,i=this,j=[],k=i.xAxis,l=k&&k.getExtremes(),m=k?k.tooltipLen||k.len:i.chart.plotSizeX,n=[];if(i.options.enableMouseTracking!==!1){for(a&&(i.tooltipPoints=null),uc(i.segments||i.points,function(a){j=j.concat(a)}),k&&k.reversed&&(j=j.reverse()),i.orderTooltipPoints&&i.orderTooltipPoints(j),b=j.length,h=0;b>h;h++)if(e=j[h],f=e.x,f>=l.min&&f<=l.max)for(g=j[h+1],c=d===W?0:d+1,d=j[h+1]?vb(ub(0,sb((e.clientX+(g?g.wrappedClientX||g.clientX:m))/2)),m):m;c>=0&&d>=c;)n[c++]=e;i.tooltipPoints=n}},tooltipHeaderFormatter:function(a){var b,c=this,d=c.tooltipOptions,e=d.xDateFormat,f=d.dateTimeLabelFormats,g=c.xAxis,i=g&&"datetime"===g.options.type,j=d.headerFormat,k=g&&g.closestPointRange;if(i&&!e)if(k){for(b in bb)if(bb[b]>=k){e=f[b];break}}else e=f.day;return i&&e&&h(a.key)&&(j=j.replace("{point.key}","{point.key:"+e+"}")),w(j,{point:a,series:c})},onMouseOver:function(){var a=this,b=a.chart,c=b.hoverSeries;c&&c!==a&&c.onMouseOut(),a.options.events.mouseOver&&Ac(a,"mouseOver"),a.setState(dc),b.hoverSeries=a},onMouseOut:function(){var a=this,b=a.options,c=a.chart,d=c.tooltip,e=c.hoverPoint;e&&e.onMouseOut(),a&&b.events.mouseOut&&Ac(a,"mouseOut"),!d||b.stickyTracking||d.shared&&!a.noSharedTooltip||d.hide(),a.setState(),c.hoverSeries=null},animate:function(b){var c,d,e,g=this,h=g.chart,i=h.renderer,j=g.options.animation,k=h.clipBox,l=h.inverted;j&&!f(j)&&(j=Fc[g.type].animation),e="_sharedClip"+j.duration+j.easing,b?(c=h[e],d=h[e+"m"],c||(h[e]=c=i.clipRect(a(k,{width:0})),h[e+"m"]=d=i.clipRect(-99,l?-h.plotLeft:-h.plotTop,99,l?h.chartWidth:h.chartHeight)),g.group.clip(c),g.markerGroup.clip(d),g.sharedClipKey=e):(c=h[e],c&&(c.animate({width:h.plotSizeX},j),h[e+"m"].animate({width:h.plotSizeX+99},j)),g.animate=null,g.animationTimeout=setTimeout(function(){g.afterAnimate()},j.duration))},afterAnimate:function(){var a=this.chart,b=this.sharedClipKey,c=this.group;c&&this.options.clip!==!1&&(c.clip(a.clipRect),this.markerGroup.clip()),setTimeout(function(){b&&a[b]&&(a[b]=a[b].destroy(),a[b+"m"]=a[b+"m"].destroy())},100)},drawPoints:function(){var b,c,d,e,f,g,h,i,j,k,l,m,n=this,p=n.points,q=n.chart,r=n.options,s=r.marker,t=n.markerGroup;if(s.enabled||n._hasPointMarkers)for(e=p.length;e--;)f=p[e],c=sb(f.plotX),d=f.plotY,j=f.graphic,k=f.marker||{},l=s.enabled&&k.enabled===W||k.enabled,m=q.isInsidePlot(rb(c),d,q.inverted),l&&d!==W&&!isNaN(d)&&null!==f.y?(b=f.pointAttr[f.selected?ec:cc],g=b.r,h=o(k.symbol,n.symbol),i=0===h.indexOf("url"),j?j.attr({visibility:m?Jb?"inherit":Yb:Wb}).animate(a({x:c-g,y:d-g},j.symbolName?{width:2*g,height:2*g}:{})):m&&(g>0||i)&&(f.graphic=j=q.renderer.symbol(h,c-g,d-g,2*g,2*g).attr(b).add(t))):j&&(f.graphic=j.destroy())},convertAttribs:function(a,b,c,d){var e,f,g=this.pointAttrToOptions,h={};a=a||{},b=b||{},c=c||{},d=d||{};for(e in g)f=g[e],h[e]=o(a[f],b[e],c[e],d[e]);return h},getAttribs:function(){var b,c,d,e,f,g,h=this,i=h.options,j=Fc[h.type].marker?i.marker:i,k=j.states,m=k[dc],n=h.color,o={stroke:n,fill:n},p=h.points||[],q=[],r=h.pointAttrToOptions,s=i.negativeColor,t=j.lineColor;for(i.marker?(m.radius=m.radius||j.radius+2,m.lineWidth=m.lineWidth||j.lineWidth+1):m.color=m.color||Kc(m.color||n).brighten(m.brightness).get(),q[cc]=h.convertAttribs(j,o),uc([dc,ec],function(a){q[a]=h.convertAttribs(k[a],q[cc])}),h.pointAttr=q,c=p.length;c--;){if(d=p[c],j=d.options&&d.options.marker||d.options,j&&j.enabled===!1&&(j.radius=0),d.negative&&s&&(d.color=d.fillColor=s),f=i.colorByPoint||d.color,d.options)for(g in r)l(j[r[g]])&&(f=!0);f?(j=j||{},e=[],k=j.states||{},b=k[dc]=k[dc]||{},i.marker||(b.color=Kc(b.color||d.color).brighten(b.brightness||m.brightness).get()),e[cc]=h.convertAttribs(a({color:d.color,fillColor:d.color,lineColor:null===t?d.color:W},j),q[cc]),e[dc]=h.convertAttribs(k[dc],q[dc],e[cc]),e[ec]=h.convertAttribs(k[ec],q[ec],e[cc])):e=q,d.pointAttr=e}},update:function(c,d){var e,f=this.chart,g=this.userOptions,h=this.type,i=oc[h].prototype;c=b(g,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},c),this.remove(!1);for(e in i)i.hasOwnProperty(e)&&(this[e]=W);a(this,oc[c.type||h].prototype),this.init(f,c),o(d,!0)&&f.redraw(!1)},destroy:function(){var a,b,c,d,e,f=this,g=f.chart,h=/AppleWebKit\/533/.test(Bb),i=f.data||[];for(Ac(f,"destroy"),zc(f),uc(["xAxis","yAxis"],function(a){e=f[a],e&&(k(e.series,f),e.isDirty=e.forceRedraw=!0,e.stacks={})}),f.legendItem&&f.chart.legend.destroyItem(f),b=i.length;b--;)c=i[b],c&&c.destroy&&c.destroy();f.points=null,clearTimeout(f.animationTimeout),uc(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(b){f[b]&&(a=h&&"group"===b?"hide":"destroy",f[b][a]())}),g.hoverSeries===f&&(g.hoverSeries=null),k(g.series,f);for(d in f)delete f[d]},drawDataLabels:function(){var c,d,e,f,g=this,h=g.options,i=h.cursor,j=h.dataLabels,k=g.points;(j.enabled||g._hasPointLabels)&&(g.dlProcessOptions&&g.dlProcessOptions(j),f=g.plotGroup("dataLabelsGroup","data-labels",g.visible?Yb:Wb,j.zIndex||6),d=j,uc(k,function(h){var k,m,n,p,q,r=h.dataLabel,s=h.connector,t=!0;if(c=h.options&&h.options.dataLabels,k=o(c&&c.enabled,d.enabled),r&&!k)h.dataLabel=r.destroy();else if(k){if(j=b(d,c),q=j.rotation,m=h.getLabelConfig(),e=j.format?w(j.format,m):j.formatter.call(m,j),j.style.color=o(j.color,j.style.color,g.color,"black"),r)l(e)?(r.attr({text:e}),t=!1):(h.dataLabel=r=r.destroy(),s&&(h.connector=s.destroy()));else if(l(e)){n={fill:j.backgroundColor,stroke:j.borderColor,"stroke-width":j.borderWidth,r:j.borderRadius||0,rotation:q,padding:j.padding,zIndex:1};for(p in n)n[p]===W&&delete n[p];r=h.dataLabel=g.chart.renderer[q?"text":"label"](e,0,-999,null,null,null,j.useHTML).attr(n).css(a(j.style,i&&{cursor:i})).add(f).shadow(j.shadow)}r&&g.alignDataLabel(h,r,j,null,t)}}))},alignDataLabel:function(b,c,d,e,f){var g,h=this.chart,i=h.inverted,j=o(b.plotX,-999),k=o(b.plotY,-999),l=c.getBBox(),m=this.visible&&h.isInsidePlot(b.plotX,b.plotY,i);m&&(e=a({x:i?h.plotWidth-k:j,y:rb(i?h.plotHeight-j:k),width:0,height:0},e),a(d,{width:l.width,height:l.height}),d.rotation?(g={align:d.align,x:e.x+d.x+e.width/2,y:e.y+d.y+e.height/2},c[f?"attr":"animate"](g)):(c.align(d,null,e),g=c.alignAttr,"justify"===o(d.overflow,"justify")?this.justifyDataLabel(c,d,g,l,e,f):o(d.crop,!0)&&(m=h.isInsidePlot(g.x,g.y)&&h.isInsidePlot(g.x+l.width,g.y+l.height)))),m||c.attr({y:-999})},justifyDataLabel:function(a,b,c,d,e,f){var g,h,i=this.chart,j=b.align,k=b.verticalAlign;g=c.x,0>g&&("right"===j?b.align="left":b.x=-g,h=!0),g=c.x+d.width,g>i.plotWidth&&("left"===j?b.align="right":b.x=i.plotWidth-g,h=!0),g=c.y,0>g&&("bottom"===k?b.verticalAlign="top":b.y=-g,h=!0),g=c.y+d.height,g>i.plotHeight&&("top"===k?b.verticalAlign="bottom":b.y=i.plotHeight-g,h=!0),h&&(a.placed=!f,a.align(b,null,e))},getSegmentPath:function(a){var b=this,c=[],d=b.options.step;return uc(a,function(e,f){var g,h=e.plotX,i=e.plotY;b.getPointSpline?c.push.apply(c,b.getPointSpline(a,e,f)):(c.push(f?ac:_b),d&&f&&(g=a[f-1],"right"===d?c.push(g.plotX,i):"center"===d?c.push((g.plotX+h)/2,g.plotY,(g.plotX+h)/2,i):c.push(h,g.plotY)),c.push(e.plotX,e.plotY))}),c},getGraphPath:function(){var a,b=this,c=[],d=[];return uc(b.segments,function(e){a=b.getSegmentPath(e),e.length>1?c=c.concat(a):d.push(e[0])}),b.singlePoints=d,b.graphPath=c,c},drawGraph:function(){var a=this,b=this.options,c=[["graph",b.lineColor||this.color]],d=b.lineWidth,e=b.dashStyle,f="square"!==b.linecap,g=this.getGraphPath(),h=b.negativeColor;h&&c.push(["graphNeg",h]),uc(c,function(c,h){var i,j=c[0],k=a[j];k?(Dc(k),k.animate({d:g})):d&&g.length&&(i={stroke:c[1],"stroke-width":d,zIndex:1},e?i.dashstyle=e:f&&(i["stroke-linecap"]=i["stroke-linejoin"]="round"),a[j]=a.chart.renderer.path(g).attr(i).add(a.group).shadow(!h&&b.shadow))})},clipNeg:function(){var a,b,c,d,e,f=this.options,g=this.chart,h=g.renderer,i=f.negativeColor||f.negativeFillColor,j=this.graph,k=this.area,l=this.posClip,m=this.negClip,n=g.chartWidth,o=g.chartHeight,p=ub(n,o),q=this.yAxis;i&&(j||k)&&(a=rb(q.toPixels(f.threshold||0,!0)),d={x:0,y:0,width:p,height:a},e={x:0,y:a,width:p,height:p},g.inverted&&(d.height=e.y=g.plotWidth-a,h.isVML&&(d={x:g.plotWidth-a-g.plotLeft,y:0,width:n,height:o},e={x:a+g.plotLeft-n,y:0,width:g.plotLeft+a,height:n})),q.reversed?(b=e,c=d):(b=d,c=e),l?(l.animate(b),m.animate(c)):(this.posClip=l=h.clipRect(b),this.negClip=m=h.clipRect(c),j&&this.graphNeg&&(j.clip(l),this.graphNeg.clip(m)),k&&(k.clip(l),this.areaNeg.clip(m))))},invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};uc(["group","markerGroup"],function(c){b[c]&&b[c].attr(a).invert()})}var b=this,c=b.chart;b.xAxis&&(yc(c,"resize",a),yc(b,"destroy",function(){zc(c,"resize",a)}),a(),b.invertGroups=a)},plotGroup:function(a,b,c,d,e){var f=this[a],g=!f;return g&&(this[a]=f=this.chart.renderer.g(b).attr({visibility:c,zIndex:d||.1}).add(e)),f[g?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var a,b=this,c=b.chart,d=b.options,e=d.animation,f=e&&!!b.animate&&c.renderer.isSVG,g=b.visible?Yb:Wb,h=d.zIndex,i=b.hasRendered,j=c.seriesGroup;a=b.plotGroup("group","series",g,h,j),b.markerGroup=b.plotGroup("markerGroup","markers",g,h,j),f&&b.animate(!0),b.getAttribs(),a.inverted=b.isCartesian?c.inverted:!1,b.drawGraph&&(b.drawGraph(),b.clipNeg()),b.drawDataLabels(),b.drawPoints(),b.options.enableMouseTracking!==!1&&b.drawTracker(),c.inverted&&b.invertGroups(),d.clip===!1||b.sharedClipKey||i||a.clip(c.clipRect),f?b.animate():i||b.afterAnimate(),b.isDirty=b.isDirtyData=!1,b.hasRendered=!0},redraw:function(){var a=this,b=a.chart,c=a.isDirtyData,d=a.group,e=a.xAxis,f=a.yAxis;d&&(b.inverted&&d.attr({width:b.plotWidth,height:b.plotHeight}),d.animate({translateX:o(e&&e.left,b.plotLeft),translateY:o(f&&f.top,b.plotTop)})),a.translate(),a.setTooltipPoints(!0),a.render(),c&&Ac(a,"updatedData")},setState:function(a){var b,c=this,d=c.options,e=c.graph,f=c.graphNeg,g=d.states,h=d.lineWidth;if(a=a||cc,c.state!==a){if(c.state=a,g[a]&&g[a].enabled===!1)return;a&&(h=g[a].lineWidth||h+1),e&&!e.dashstyle&&(b={"stroke-width":h},e.attr(b),f&&f.attr(b))}},setVisible:function(a,b){var c,d=this,e=d.chart,f=d.legendItem,g=e.options.chart.ignoreHiddenSeries,h=d.visible;d.visible=a=d.userOptions.visible=a===W?!h:a,c=a?"show":"hide",uc(["group","dataLabelsGroup","markerGroup","tracker"],function(a){d[a]&&d[a][c]()}),e.hoverSeries===d&&d.onMouseOut(),f&&e.legend.colorizeItem(d,a),d.isDirty=!0,d.options.stacking&&uc(e.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),uc(d.linkedSeries,function(b){b.setVisible(a,!1)}),g&&(e.isDirtyBox=!0),b!==!1&&e.redraw(),Ac(d,c)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){var b=this;b.selected=a=a===W?!b.selected:a,b.checkbox&&(b.checkbox.checked=a),Ac(b,a?"select":"unselect")},drawTracker:function(){var a,b,c=this,d=c.options,e=d.trackByArea,f=[].concat(e?c.areaPath:c.graphPath),g=f.length,h=c.chart,i=h.pointer,j=h.renderer,k=h.options.tooltip.snap,l=c.tracker,m=d.cursor,n=m&&{cursor:m},o=c.singlePoints,p=function(){h.hoverSeries!==c&&c.onMouseOver()};if(g&&!e)for(b=g+1;b--;)f[b]===_b&&f.splice(b+1,0,f[b+1]-k,f[b+2],ac),(b&&f[b]===_b||b===g)&&f.splice(b,0,ac,f[b-2]+k,f[b-1]);for(b=0;b<o.length;b++)a=o[b],f.push(_b,a.plotX-k,a.plotY,ac,a.plotX+k,a.plotY);l?l.attr({d:f}):(c.tracker=j.path(f).attr({"stroke-linejoin":"round",visibility:c.visible?Yb:Wb,stroke:bc,fill:e?bc:$b,"stroke-width":d.lineWidth+(e?0:2*k),zIndex:2}).add(c.group),uc([c.tracker,c.markerGroup],function(a){a.addClass(Xb+"tracker").on("mouseover",p).on("mouseout",function(a){i.onTrackerMouseOut(a)}).css(n),Mb&&a.on("touchstart",p)}))}};var Tc=r(Sc);oc.line=Tc,Fc.area=b(Gc,{threshold:0});var Uc=r(Sc,{type:"area",getSegments:function(){var a,b,c,d,e,f=[],g=[],h=[],i=this.xAxis,j=this.yAxis,k=j.stacks[this.stackKey],l={},m=this.points,n=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(d=0;d<m.length;d++)l[m[d].x]=m[d];for(e in k)null!==k[e].total&&h.push(+e);h.sort(function(a,b){return a-b}),uc(h,function(d){(!n||l[d]&&null!==l[d].y)&&(l[d]?g.push(l[d]):(a=i.translate(d),c=k[d].percent?k[d].total?100*k[d].cum/k[d].total:0:k[d].cum,b=j.toPixels(c,!0),g.push({y:null,plotX:a,clientX:a,plotY:b,yBottom:b,onMouseOver:Pb})))}),g.length&&f.push(g)}else Sc.prototype.getSegments.call(this),f=this.segments;this.segments=f},getSegmentPath:function(a){var b,c,d=Sc.prototype.getSegmentPath.call(this,a),e=[].concat(d),f=this.options,g=d.length,h=this.yAxis.getThreshold(f.threshold);if(3===g&&e.push(ac,d[1],d[2]),f.stacking&&!this.closedStacks)for(b=a.length-1;b>=0;b--)c=o(a[b].yBottom,h),b<a.length-1&&f.step&&e.push(a[b+1].plotX,c),e.push(a[b].plotX,c);else this.closeSegment(e,a,h);return this.areaPath=this.areaPath.concat(e),d},closeSegment:function(a,b,c){a.push(ac,b[b.length-1].plotX,c,ac,b[0].plotX,c)},drawGraph:function(){this.areaPath=[],Sc.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,d=c.negativeColor,e=c.negativeFillColor,f=[["area",this.color,c.fillColor]];(d||e)&&f.push(["areaNeg",d,e]),uc(f,function(d){var e=d[0],f=a[e];f?f.animate({d:b}):a[e]=a.chart.renderer.path(b).attr({fill:o(d[2],Kc(d[1]).setOpacity(o(c.fillOpacity,.75)).get()),zIndex:0}).add(a.group)
})},drawLegendSymbol:function(a,b){b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,a.options.symbolWidth,12,2).attr({zIndex:3}).add(b.legendGroup)}});oc.area=Uc,Fc.spline=b(Gc);var Vc=r(Sc,{type:"spline",getPointSpline:function(a,b,c){var d,e,f,g,h,i=1.5,j=i+1,k=b.plotX,l=b.plotY,m=a[c-1],n=a[c+1];if(m&&n){var o,p=m.plotX,q=m.plotY,r=n.plotX,s=n.plotY;d=(i*k+p)/j,e=(i*l+q)/j,f=(i*k+r)/j,g=(i*l+s)/j,o=(g-e)*(f-k)/(f-d)+l-g,e+=o,g+=o,e>q&&e>l?(e=ub(q,l),g=2*l-e):q>e&&l>e&&(e=vb(q,l),g=2*l-e),g>s&&g>l?(g=ub(s,l),e=2*l-g):s>g&&l>g&&(g=vb(s,l),e=2*l-g),b.rightContX=f,b.rightContY=g}return c?(h=["C",m.rightContX||m.plotX,m.rightContY||m.plotY,d||k,e||l,k,l],m.rightContX=m.rightContY=null):h=[_b,k,l],h}});oc.spline=Vc,Fc.areaspline=b(Fc.area);var Wc=Uc.prototype,Xc=r(Vc,{type:"areaspline",closedStacks:!0,getSegmentPath:Wc.getSegmentPath,closeSegment:Wc.closeSegment,drawGraph:Wc.drawGraph,drawLegendSymbol:Wc.drawLegendSymbol});oc.areaspline=Xc,Fc.column=b(Gc,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});var Yc=r(Sc,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Sc.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&uc(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var a,b,c=this,d=c.options,e=c.xAxis,f=c.yAxis,g=e.reversed,h={},i=0;d.grouping===!1?i=1:uc(c.chart.series,function(d){var e=d.options,g=d.yAxis;d.type===c.type&&d.visible&&f.len===g.len&&f.pos===g.pos&&(e.stacking?(a=d.stackKey,h[a]===W&&(h[a]=i++),b=h[a]):e.grouping!==!1&&(b=i++),d.columnIndex=b)});var j=vb(wb(e.transA)*(e.ordinalSlope||d.pointRange||e.closestPointRange||1),e.len),k=j*d.groupPadding,m=j-2*k,n=m/i,p=d.pointWidth,q=l(p)?(n-p)/2:n*d.pointPadding,r=o(p,n-2*q),s=(g?i-(c.columnIndex||0):c.columnIndex)||0,t=q+(k+s*n-j/2)*(g?-1:1);return c.columnMetrics={width:r,offset:t}},translate:function(){var a=this,b=a.chart,c=a.options,d=c.borderWidth,e=a.yAxis,f=c.threshold,g=a.translatedThreshold=e.getThreshold(f),h=o(c.minPointLength,5),i=a.getColumnMetrics(),j=i.width,k=a.barW=tb(ub(j,1+2*d)),l=a.pointXOffset=i.offset,m=-(d%2?.5:0),n=d%2?.5:1;b.renderer.isVML&&b.inverted&&(n+=1),Sc.prototype.translate.apply(a),uc(a.points,function(a){var b,c,d,f,i=o(a.yBottom,g),p=vb(ub(-999-i,a.plotY),e.len+999+i),q=a.plotX+l,r=k,s=vb(p,i),t=ub(p,i)-s;wb(t)<h&&h&&(t=h,s=rb(wb(s-g)>h?i-h:g-(e.translate(a.y,0,1,0,1)<=g?h:0))),a.barX=q,a.pointWidth=j,f=wb(q)<.5,b=rb(q+r)+m,q=rb(q)+m,r=b-q,d=wb(s)<.5,c=rb(s+t)+n,s=rb(s)+n,t=c-s,f&&(q+=1,r-=1),d&&(s-=1,t+=1),a.shapeType="rect",a.shapeArgs={x:q,y:s,width:r,height:t}})},getSymbol:Pb,drawLegendSymbol:Uc.prototype.drawLegendSymbol,drawGraph:Pb,drawPoints:function(){var a,c=this,d=c.options,e=c.chart.renderer;uc(c.points,function(f){var g=f.plotY,h=f.graphic;g===W||isNaN(g)||null===f.y?h&&(f.graphic=h.destroy()):(a=f.shapeArgs,h?(Dc(h),h.animate(b(a))):f.graphic=h=e[f.shapeType](a).attr(f.pointAttr[f.selected?ec:cc]).add(c.group).shadow(d.shadow,null,d.stacking&&!d.borderRadius))})},drawTracker:function(){var a=this,b=a.chart,c=b.pointer,d=a.options.cursor,e=d&&{cursor:d},f=function(c){var d,e=c.target;for(b.hoverSeries!==a&&a.onMouseOver();e&&!d;)d=e.point,e=e.parentNode;d!==W&&d!==b.hoverPoint&&d.onMouseOver(c)};uc(a.points,function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.element.point=a)}),a._hasTracking||(uc(a.trackerGroups,function(b){a[b]&&(a[b].addClass(Xb+"tracker").on("mouseover",f).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(e),Mb&&a[b].on("touchstart",f))}),a._hasTracking=!0)},alignDataLabel:function(a,c,d,e,f){var g=this.chart,h=g.inverted,i=a.dlBox||a.shapeArgs,j=a.below||a.plotY>o(this.translatedThreshold,g.plotSizeY),k=o(d.inside,!!this.options.stacking);i&&(e=b(i),h&&(e={x:g.plotWidth-e.y-e.height,y:g.plotHeight-e.x-e.width,width:e.height,height:e.width}),k||(h?(e.x+=j?0:e.width,e.width=0):(e.y+=j?e.height:0,e.height=0))),d.align=o(d.align,!h||k?"center":j?"right":"left"),d.verticalAlign=o(d.verticalAlign,h||k?"middle":j?"top":"bottom"),Sc.prototype.alignDataLabel.call(this,a,c,d,e,f)},animate:function(a){var b,c=this,d=this.yAxis,e=c.options,f=this.chart.inverted,g={};Jb&&(a?(g.scaleY=.001,b=vb(d.pos+d.len,ub(d.pos,d.toPixels(e.threshold))),f?g.translateX=b-d.len:g.translateY=b,c.group.attr(g)):(g.scaleY=1,g[f?"translateX":"translateY"]=d.pos,c.group.animate(g,c.options.animation),c.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&uc(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),Sc.prototype.remove.apply(a,arguments)}});oc.column=Yc,Fc.bar=b(Fc.column);var Zc=r(Yc,{type:"bar",inverted:!0});oc.bar=Zc,Fc.scatter=b(Gc,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var $c=r(Sc,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:Yc.prototype.drawTracker,setTooltipPoints:Pb});oc.scatter=$c,Fc.pie=b(Gc,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var _c=r(Rc,{init:function(){Rc.prototype.init.apply(this,arguments);var b,c=this;return c.y<0&&(c.y=null),a(c,{visible:c.visible!==!1,name:o(c.name,"Slice")}),b=function(a){c.slice("select"===a.type)},yc(c,"select",b),yc(c,"unselect",b),c},setVisible:function(a){var b,c=this,d=c.series,e=d.chart;c.visible=c.options.visible=a=a===W?!c.visible:a,d.options.data[tc(c,d.data)]=c.options,b=a?"show":"hide",uc(["graphic","dataLabel","connector","shadowGroup"],function(a){c[a]&&c[a][b]()}),c.legendItem&&e.legend.colorizeItem(c,a),!d.isDirty&&d.options.ignoreHiddenPoint&&(d.isDirty=!0,e.redraw())},slice:function(a,b,c){var d,e=this,f=e.series,g=f.chart;J(c,g),b=o(b,!0),e.sliced=e.options.sliced=a=l(a)?a:!e.sliced,f.options.data[tc(e,f.data)]=e.options,d=a?e.slicedTranslation:{translateX:0,translateY:0},e.graphic.animate(d),e.shadowGroup&&e.shadowGroup.animate(d)}}),ad={type:"pie",isCartesian:!1,pointClass:_c,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Pb,animate:function(a){var b=this,c=b.points,d=b.startAngleRad;a||(uc(c,function(a){var c=a.graphic,e=a.shapeArgs;c&&(c.attr({r:b.center[3]/2,start:d,end:d}),c.animate({r:e.r,start:e.start,end:e.end},b.options.animation))}),b.animate=null)},setData:function(a,b){Sc.prototype.setData.call(this,a,!1),this.processData(),this.generatePoints(),o(b,!0)&&this.chart.redraw()},generatePoints:function(){var a,b,c,d,e=0,f=this.options.ignoreHiddenPoint;for(Sc.prototype.generatePoints.call(this),b=this.points,c=b.length,a=0;c>a;a++)d=b[a],e+=f&&!d.visible?0:d.y;for(this.total=e,a=0;c>a;a++)d=b[a],d.percentage=e>0?d.y/e*100:0,d.total=e},getCenter:function(){var a,b,c=this.options,e=this.chart,f=2*(c.slicedOffset||0),g=e.plotWidth-2*f,h=e.plotHeight-2*f,i=c.center,j=[o(i[0],"50%"),o(i[1],"50%"),c.size||"100%",c.innerSize||0],k=vb(g,h);return xc(j,function(c,e){return b=/%$/.test(c),a=2>e||2===e&&b,(b?[g,h,k,k][e]*d(c)/100:c)+(a?f:0)})},translate:function(a){this.generatePoints();var b,c,d,e,f,g,h,i=this,j=0,k=1e3,l=i.options,m=l.slicedOffset,n=m+l.borderWidth,o=l.startAngle||0,p=i.startAngleRad=zb/180*(o-90),q=i.endAngleRad=zb/180*((l.endAngle||o+360)-90),r=q-p,s=i.points,t=l.dataLabels.distance,u=l.ignoreHiddenPoint,v=s.length;for(a||(i.center=a=i.getCenter()),i.getX=function(b,c){return d=qb.asin((b-a[1])/(a[2]/2+t)),a[0]+(c?-1:1)*xb(d)*(a[2]/2+t)},g=0;v>g;g++)h=s[g],b=p+j*r,(!u||h.visible)&&(j+=h.percentage/100),c=p+j*r,h.shapeType="arc",h.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:rb(b*k)/k,end:rb(c*k)/k},d=(c+b)/2,d>.75*r&&(d-=2*zb),h.slicedTranslation={translateX:rb(xb(d)*m),translateY:rb(yb(d)*m)},e=xb(d)*a[2]/2,f=yb(d)*a[2]/2,h.tooltipPos=[a[0]+.7*e,a[1]+.7*f],h.half=-zb/2>d||d>zb/2?1:0,h.angle=d,n=vb(n,t/2),h.labelPos=[a[0]+e+xb(d)*t,a[1]+f+yb(d)*t,a[0]+e+xb(d)*n,a[1]+f+yb(d)*n,a[0]+e,a[1]+f,0>t?"center":h.half?"right":"left",d]},setTooltipPoints:Pb,drawGraph:null,drawPoints:function(){var b,c,d,e,f=this,g=f.chart,h=g.renderer,i=f.options.shadow;i&&!f.shadowGroup&&(f.shadowGroup=h.g("shadow").add(f.group)),uc(f.points,function(g){c=g.graphic,e=g.shapeArgs,d=g.shadowGroup,i&&!d&&(d=g.shadowGroup=h.g("shadow").add(f.shadowGroup)),b=g.sliced?g.slicedTranslation:{translateX:0,translateY:0},d&&d.attr(b),c?c.animate(a(e,b)):g.graphic=c=h.arc(e).setRadialReference(f.center).attr(g.pointAttr[g.selected?ec:cc]).attr({"stroke-linejoin":"round"}).attr(b).add(f.group).shadow(i,d),g.visible===!1&&g.setVisible(!1)})},sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawDataLabels:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=this,p=n.data,q=n.chart,r=n.options.dataLabels,s=o(r.connectorPadding,10),t=o(r.connectorWidth,1),u=q.plotWidth,v=q.plotHeight,w=o(r.softConnector,!0),x=r.distance,y=n.center,z=y[2]/2,A=y[1],B=x>0,C=[[],[]],D=[0,0,0,0],F=function(a,b){return b.y-a.y};if(n.visible&&(r.enabled||n._hasPointLabels)){for(Sc.prototype.drawDataLabels.apply(n),uc(p,function(a){a.dataLabel&&C[a.half].push(a)}),l=0;!g&&p[l];)g=p[l]&&p[l].dataLabel&&(p[l].dataLabel.getBBox().height||21),l++;for(l=2;l--;){var G,H,I,J=[],K=[],L=C[l],M=L.length;if(n.sortByAngle(L,l-.5),x>0){for(H=A-z-x;A+z+x>=H;H+=g)J.push(H);if(G=J.length,M>G){for(k=[].concat(L),k.sort(F),m=M;m--;)k[m].rank=m;for(m=M;m--;)L[m].rank>=G&&L.splice(m,1);M=L.length}for(m=0;M>m;m++){a=L[m],f=a.labelPos;var N,O,P=9999;for(O=0;G>O;O++)N=wb(J[O]-f[1]),P>N&&(P=N,I=O);if(m>I&&null!==J[m])I=m;else if(M-m+I>G&&null!==J[m])for(I=G-M+m;null===J[I];)I++;else for(;null===J[I];)I++;K.push({i:I,y:J[I]}),J[I]=null}K.sort(F)}for(m=0;M>m;m++){var Q,R;a=L[m],f=a.labelPos,d=a.dataLabel,j=a.visible===!1?Wb:Yb,R=f[1],x>0?(Q=K.pop(),I=Q.i,i=Q.y,(R>i&&null!==J[I+1]||i>R&&null!==J[I-1])&&(i=R)):i=R,h=r.justify?y[0]+(l?-1:1)*(z+x):n.getX(0===I||I===J.length-1?R:i,l),d._attr={visibility:j,align:f[6]},d._pos={x:h+r.x+({left:s,right:-s}[f[6]]||0),y:i+r.y-10},d.connX=h,d.connY=i,null===this.options.size&&(e=d.width,s>h-e?D[3]=ub(rb(e-h+s),D[3]):h+e>u-s&&(D[1]=ub(rb(h+e-u+s),D[1])),0>i-g/2?D[0]=ub(rb(-i+g/2),D[0]):i+g/2>v&&(D[2]=ub(rb(i+g/2-v),D[2])))}}(0===E(D)||this.verifyDataLabelOverflow(D))&&(this.placeDataLabels(),B&&t&&uc(this.points,function(a){b=a.connector,f=a.labelPos,d=a.dataLabel,d&&d._pos?(j=d._attr.visibility,h=d.connX,i=d.connY,c=w?[_b,h+("left"===f[6]?5:-5),i,"C",h,i,2*f[2]-f[4],2*f[3]-f[5],f[2],f[3],ac,f[4],f[5]]:[_b,h+("left"===f[6]?5:-5),i,ac,f[2],f[3],ac,f[4],f[5]],b?(b.animate({d:c}),b.attr("visibility",j)):a.connector=b=n.chart.renderer.path(c).attr({"stroke-width":t,stroke:r.connectorColor||a.color||"#606060",visibility:j}).add(n.group)):b&&(a.connector=b.destroy())}))}},verifyDataLabelOverflow:function(a){var b,c=this.center,d=this.options,e=d.center,f=d.minSize||80,g=f;return null!==e[0]?g=ub(c[2]-ub(a[1],a[3]),f):(g=ub(c[2]-a[1]-a[3],f),c[0]+=(a[3]-a[1])/2),null!==e[1]?g=ub(vb(g,c[2]-ub(a[0],a[2])),f):(g=ub(vb(g,c[2]-a[0]-a[2]),f),c[1]+=(a[0]-a[2])/2),g<c[2]?(c[2]=g,this.translate(c),uc(this.points,function(a){a.dataLabel&&(a.dataLabel._pos=null)}),this.drawDataLabels()):b=!0,b},placeDataLabels:function(){uc(this.points,function(a){var b,c=a.dataLabel;c&&(b=c._pos,b?(c.attr(c._attr),c[c.moved?"animate":"attr"](b),c.moved=!0):c&&c.attr({y:-999}))})},alignDataLabel:Pb,drawTracker:Yc.prototype.drawTracker,drawLegendSymbol:Uc.prototype.drawLegendSymbol,getSymbol:Pb};ad=r(Sc,ad),oc.pie=ad,a(Highcharts,{Axis:R,Chart:V,Color:Kc,Legend:U,Pointer:T,Point:Rc,Tick:O,Tooltip:S,Renderer:X,Series:Sc,SVGElement:N,SVGRenderer:Lc,arrayMin:D,arrayMax:E,charts:Qb,dateFormat:$,format:w,pathAnim:ab,getOptions:M,hasBidiBug:Kb,isTouchDevice:Hb,numberFormat:s,seriesTypes:oc,setOptions:L,addEvent:yc,removeEvent:zc,createElement:q,discardElement:G,css:p,each:uc,extend:a,map:xc,merge:b,pick:o,splat:n,extendClass:r,pInt:d,wrap:u,svg:Jb,canvas:Lb,vml:!Jb&&!Lb,product:Rb,version:Sb})}();var Swiper=function(a,b){function c(a,b){return document.querySelectorAll?(b||document).querySelectorAll(a):jQuery(a,b)}function d(){var a=C-F;return b.freeMode&&(a=C-F),b.slidesPerView>z.slides.length&&(a=0),0>a&&(a=0),a}function e(){function a(a){var c=new Image;c.onload=function(){z.imagesLoaded++,z.imagesLoaded==z.imagesToLoad.length&&(z.reInit(),b.onImagesReady&&b.onImagesReady(z))},c.src=a}var d=z.h.addEventListener;if(z.browser.ie10?(d(z.wrapper,z.touchEvents.touchStart,o),d(document,z.touchEvents.touchMove,p),d(document,z.touchEvents.touchEnd,q)):(z.support.touch&&(d(z.wrapper,"touchstart",o),d(z.wrapper,"touchmove",p),d(z.wrapper,"touchend",q)),b.simulateTouch&&(d(z.wrapper,"mousedown",o),d(document,"mousemove",p),d(document,"mouseup",q))),b.autoResize&&d(window,"resize",z.resizeFix),f(),z._wheelEvent=!1,b.mousewheelControl){void 0!==document.onmousewheel&&(z._wheelEvent="mousewheel");try{WheelEvent("wheel"),z._wheelEvent="wheel"}catch(e){}z._wheelEvent||(z._wheelEvent="DOMMouseScroll"),z._wheelEvent&&d(z.container,z._wheelEvent,i)}if(b.keyboardControl&&d(document,"keydown",h),b.updateOnImagesReady){z.imagesToLoad=c("img",z.container);for(var g=0;g<z.imagesToLoad.length;g++)a(z.imagesToLoad[g].getAttribute("src"))}}function f(){var a,d=z.h.addEventListener;if(b.preventLinks){var e=c("a",z.container);for(a=0;a<e.length;a++)d(e[a],"click",m)}if(b.releaseFormElements){var f=c("input, textarea, select",z.container);for(a=0;a<f.length;a++)d(f[a],z.touchEvents.touchStart,n,!0)}if(b.onSlideClick)for(a=0;a<z.slides.length;a++)d(z.slides[a],"click",j);if(b.onSlideTouch)for(a=0;a<z.slides.length;a++)d(z.slides[a],z.touchEvents.touchStart,k)}function g(){var a,d=z.h.removeEventListener;if(b.onSlideClick)for(a=0;a<z.slides.length;a++)d(z.slides[a],"click",j);if(b.onSlideTouch)for(a=0;a<z.slides.length;a++)d(z.slides[a],z.touchEvents.touchStart,k);if(b.releaseFormElements){var e=c("input, textarea, select",z.container);for(a=0;a<e.length;a++)d(e[a],z.touchEvents.touchStart,n,!0)}if(b.preventLinks){var f=c("a",z.container);for(a=0;a<f.length;a++)d(f[a],"click",m)}}function h(a){var b=a.keyCode||a.charCode;if(37==b||39==b||38==b||40==b){for(var c=!1,d=z.h.getOffset(z.container),e=z.h.windowScroll().left,f=z.h.windowScroll().top,g=z.h.windowWidth(),h=z.h.windowHeight(),i=[[d.left,d.top],[d.left+z.width,d.top],[d.left,d.top+z.height],[d.left+z.width,d.top+z.height]],j=0;j<i.length;j++){var k=i[j];k[0]>=e&&k[0]<=e+g&&k[1]>=f&&k[1]<=f+h&&(c=!0)}if(!c)return}J?((37==b||39==b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),39==b&&z.swipeNext(),37==b&&z.swipePrev()):((38==b||40==b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),40==b&&z.swipeNext(),38==b&&z.swipePrev())}function i(a){var c,e=z._wheelEvent;if(a.detail?c=-a.detail:"mousewheel"==e?c=a.wheelDelta:"DOMMouseScroll"==e?c=-a.detail:"wheel"==e&&(c=Math.abs(a.deltaX)>Math.abs(a.deltaY)?-a.deltaX:-a.deltaY),b.freeMode){var f=z.getWrapperTranslate()+c;f>0&&(f=0),f<-d()&&(f=-d()),z.setWrapperTransition(0),z.setWrapperTranslate(f),z.updateActiveSlide(f)}else 0>c?z.swipeNext():z.swipePrev();return b.autoplay&&z.stopAutoplay(),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function j(a){z.allowSlideClick&&(l(a),b.onSlideClick(z))}function k(a){l(a),b.onSlideTouch(z)}function l(a){if(a.currentTarget)z.clickedSlide=a.currentTarget;else{var c=a.srcElement;do if(c.className.indexOf(b.slideClass)>-1)break;while(c=c.parentNode);z.clickedSlide=c}z.clickedSlideIndex=z.slides.indexOf(z.clickedSlide),z.clickedSlideLoopIndex=z.clickedSlideIndex-(z.loopedSlides||0)}function m(a){return z.allowLinks?void 0:(a.preventDefault?a.preventDefault():a.returnValue=!1,!1)}function n(a){return a.stopPropagation?a.stopPropagation():a.returnValue=!1,!1}function o(a){if(b.preventLinks&&(z.allowLinks=!0),z.isTouched||b.onlyExternal)return!1;if(b.noSwiping&&(a.target||a.srcElement)&&r(a.target||a.srcElement))return!1;if(V=!1,z.isTouched=!0,U="touchstart"==a.type,!U||1==a.targetTouches.length){z.callPlugins("onTouchStartBegin"),U||(a.preventDefault?a.preventDefault():a.returnValue=!1);var c=U?a.targetTouches[0].pageX:a.pageX||a.clientX,d=U?a.targetTouches[0].pageY:a.pageY||a.clientY;z.touches.startX=z.touches.currentX=c,z.touches.startY=z.touches.currentY=d,z.touches.start=z.touches.current=J?c:d,z.setWrapperTransition(0),z.positions.start=z.positions.current=z.getWrapperTranslate(),z.setWrapperTranslate(z.positions.start),z.times.start=(new Date).getTime(),E=void 0,b.moveStartThreshold>0&&(R=!1),b.onTouchStart&&b.onTouchStart(z),z.callPlugins("onTouchStartEnd")}}function p(a){if(z.isTouched&&!b.onlyExternal&&(!U||"mousemove"!=a.type)){var c=U?a.targetTouches[0].pageX:a.pageX||a.clientX,e=U?a.targetTouches[0].pageY:a.pageY||a.clientY;if("undefined"==typeof E&&J&&(E=!!(E||Math.abs(e-z.touches.startY)>Math.abs(c-z.touches.startX))),"undefined"!=typeof E||J||(E=!!(E||Math.abs(e-z.touches.startY)<Math.abs(c-z.touches.startX))),E)return z.isTouched=!1,void 0;if(a.assignedToSwiper)return z.isTouched=!1,void 0;if(a.assignedToSwiper=!0,b.preventLinks&&(z.allowLinks=!1),b.onSlideClick&&(z.allowSlideClick=!1),b.autoplay&&z.stopAutoplay(),!U||1==a.touches.length){if(z.isMoved||(z.callPlugins("onTouchMoveStart"),b.loop&&(z.fixLoop(),z.positions.start=z.getWrapperTranslate()),b.onTouchMoveStart&&b.onTouchMoveStart(z)),z.isMoved=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,z.touches.current=J?c:e,z.positions.current=(z.touches.current-z.touches.start)*b.touchRatio+z.positions.start,z.positions.current>0&&b.onResistanceBefore&&b.onResistanceBefore(z,z.positions.current),z.positions.current<-d()&&b.onResistanceAfter&&b.onResistanceAfter(z,Math.abs(z.positions.current+d())),b.resistance&&"100%"!=b.resistance){if(z.positions.current>0){var f=1-z.positions.current/F/2;z.positions.current=.5>f?F/2:z.positions.current*f}if(z.positions.current<-d()){var g=(z.touches.current-z.touches.start)*b.touchRatio+(d()+z.positions.start),f=(F+g)/F,h=z.positions.current-g*(1-f)/2,i=-d()-F/2;z.positions.current=i>h||0>=f?i:h}}if(b.resistance&&"100%"==b.resistance&&(z.positions.current>0&&(!b.freeMode||b.freeModeFluid)&&(z.positions.current=0),z.positions.current<-d()&&(!b.freeMode||b.freeModeFluid)&&(z.positions.current=-d())),!b.followFinger)return;return b.moveStartThreshold?Math.abs(z.touches.current-z.touches.start)>b.moveStartThreshold||R?(R=!0,z.setWrapperTranslate(z.positions.current)):z.positions.current=z.positions.start:z.setWrapperTranslate(z.positions.current),(b.freeMode||b.watchActiveIndex)&&z.updateActiveSlide(z.positions.current),b.grabCursor&&(z.container.style.cursor="move",z.container.style.cursor="grabbing",z.container.style.cursor="-moz-grabbin",z.container.style.cursor="-webkit-grabbing"),S||(S=z.touches.current),T||(T=(new Date).getTime()),z.velocity=(z.touches.current-S)/((new Date).getTime()-T)/2,Math.abs(z.touches.current-S)<2&&(z.velocity=0),S=z.touches.current,T=(new Date).getTime(),z.callPlugins("onTouchMoveEnd"),b.onTouchMove&&b.onTouchMove(z),!1}}}function q(){if(E&&z.swipeReset(),!b.onlyExternal&&z.isTouched){z.isTouched=!1,b.grabCursor&&(z.container.style.cursor="move",z.container.style.cursor="grab",z.container.style.cursor="-moz-grab",z.container.style.cursor="-webkit-grab"),z.positions.current||0===z.positions.current||(z.positions.current=z.positions.start),b.followFinger&&z.setWrapperTranslate(z.positions.current),z.times.end=(new Date).getTime(),z.touches.diff=z.touches.current-z.touches.start,z.touches.abs=Math.abs(z.touches.diff),z.positions.diff=z.positions.current-z.positions.start,z.positions.abs=Math.abs(z.positions.diff);var a=z.positions.diff,c=z.positions.abs,e=z.times.end-z.times.start;5>c&&300>e&&0==z.allowLinks&&(b.freeMode||0==c||z.swipeReset(),b.preventLinks&&(z.allowLinks=!0),b.onSlideClick&&(z.allowSlideClick=!0)),setTimeout(function(){b.preventLinks&&(z.allowLinks=!0),b.onSlideClick&&(z.allowSlideClick=!0)},100);var f=d();if(!z.isMoved&&b.freeMode)return z.isMoved=!1,b.onTouchEnd&&b.onTouchEnd(z),z.callPlugins("onTouchEnd"),void 0;if(!z.isMoved||z.positions.current>0||z.positions.current<-f)return z.swipeReset(),b.onTouchEnd&&b.onTouchEnd(z),z.callPlugins("onTouchEnd"),void 0;if(z.isMoved=!1,b.freeMode){if(b.freeModeFluid){var g,h=1e3*b.momentumRatio,i=z.velocity*h,j=z.positions.current+i,k=!1,l=20*Math.abs(z.velocity)*b.momentumBounceRatio;-f>j&&(b.momentumBounce&&z.support.transitions?(-l>j+f&&(j=-f-l),g=-f,k=!0,V=!0):j=-f),j>0&&(b.momentumBounce&&z.support.transitions?(j>l&&(j=l),g=0,k=!0,V=!0):j=0),0!=z.velocity&&(h=Math.abs((j-z.positions.current)/z.velocity)),z.setWrapperTranslate(j),z.setWrapperTransition(h),b.momentumBounce&&k&&z.wrapperTransitionEnd(function(){V&&(b.onMomentumBounce&&b.onMomentumBounce(z),z.setWrapperTranslate(g),z.setWrapperTransition(300))}),z.updateActiveSlide(j)}return(!b.freeModeFluid||e>=300)&&z.updateActiveSlide(z.positions.current),b.onTouchEnd&&b.onTouchEnd(z),z.callPlugins("onTouchEnd"),void 0}D=0>a?"toNext":"toPrev","toNext"==D&&300>=e&&(30>c||!b.shortSwipes?z.swipeReset():z.swipeNext(!0)),"toPrev"==D&&300>=e&&(30>c||!b.shortSwipes?z.swipeReset():z.swipePrev(!0));var m=0;if("auto"==b.slidesPerView){for(var n,o=Math.abs(z.getWrapperTranslate()),p=0,q=0;q<z.slides.length;q++)if(n=J?z.slides[q].getWidth(!0):z.slides[q].getHeight(!0),p+=n,p>o){m=n;break}m>F&&(m=F)}else m=B*b.slidesPerView;"toNext"==D&&e>300&&(c>=.5*m?z.swipeNext(!0):z.swipeReset()),"toPrev"==D&&e>300&&(c>=.5*m?z.swipePrev(!0):z.swipeReset()),b.onTouchEnd&&b.onTouchEnd(z),z.callPlugins("onTouchEnd")}}function r(a){var c=!1;do a.className.indexOf(b.noSwipingClass)>-1&&(c=!0),a=a.parentElement;while(!c&&a.parentElement&&-1==a.className.indexOf(b.wrapperClass));return!c&&a.className.indexOf(b.wrapperClass)>-1&&a.className.indexOf(b.noSwipingClass)>-1&&(c=!0),c}function s(a,c,d){function e(){g+=h,j="toNext"==i?g>a:a>g,j?(z.setWrapperTranslate(Math.round(g)),z._DOMAnimating=!0,window.setTimeout(function(){e()},1e3/60)):(b.onSlideChangeEnd&&b.onSlideChangeEnd(z),z.setWrapperTranslate(a),z._DOMAnimating=!1)}var f="to"==c&&d.speed>=0?d.speed:b.speed;if(z.support.transitions||!b.DOMAnimation)z.setWrapperTranslate(a),z.setWrapperTransition(f);else{var g=z.getWrapperTranslate(),h=Math.ceil((a-g)/f*(1e3/60)),i=g>a?"toNext":"toPrev",j="toNext"==i?g>a:a>g;if(z._DOMAnimating)return;e()}z.updateActiveSlide(a),b.onSlideNext&&"next"==c&&b.onSlideNext(z,a),b.onSlidePrev&&"prev"==c&&b.onSlidePrev(z,a),b.onSlideReset&&"reset"==c&&b.onSlideReset(z,a),("next"==c||"prev"==c||"to"==c&&1==d.runCallbacks)&&t()}function t(){if(z.callPlugins("onSlideChangeStart"),b.onSlideChangeStart)if(b.queueStartCallbacks&&z.support.transitions){if(z._queueStartCallbacks)return;z._queueStartCallbacks=!0,b.onSlideChangeStart(z),z.wrapperTransitionEnd(function(){z._queueStartCallbacks=!1})}else b.onSlideChangeStart(z);if(b.onSlideChangeEnd)if(z.support.transitions)if(b.queueEndCallbacks){if(z._queueEndCallbacks)return;z._queueEndCallbacks=!0,z.wrapperTransitionEnd(b.onSlideChangeEnd)}else z.wrapperTransitionEnd(b.onSlideChangeEnd);else b.DOMAnimation||setTimeout(function(){b.onSlideChangeEnd(z)},10)}function u(){for(var a=z.paginationButtons,b=0;b<a.length;b++)z.h.removeEventListener(a[b],"click",w)}function v(){for(var a=z.paginationButtons,b=0;b<a.length;b++)z.h.addEventListener(a[b],"click",w)}function w(a){for(var b,c=a.target||a.srcElement,d=z.paginationButtons,e=0;e<d.length;e++)c===d[e]&&(b=e);z.swipeTo(b)}function x(){z.calcSlides(),b.loader.slides.length>0&&0==z.slides.length&&z.loadSlides(),b.loop&&z.createLoop(),z.init(),e(),b.pagination&&b.createPagination&&z.createPagination(!0),b.loop||b.initialSlide>0?z.swipeTo(b.initialSlide,0,!1):z.updateActiveSlide(0),b.autoplay&&z.startAutoplay()}if(document.body.__defineGetter__&&HTMLElement){var y=HTMLElement.prototype;y.__defineGetter__&&y.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"===b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1}),(document.querySelectorAll||window.jQuery)&&"undefined"!=typeof a&&(a.nodeType||0!==c(a).length)){var z=this;z.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0},z.positions={start:0,abs:0,diff:0,current:0},z.times={start:0,end:0},z.id=(new Date).getTime(),z.container=a.nodeType?a:c(a)[0],z.isTouched=!1,z.isMoved=!1,z.activeIndex=0,z.activeLoaderIndex=0,z.activeLoopIndex=0,z.previousIndex=null,z.velocity=0,z.snapGrid=[],z.slidesGrid=[],z.imagesToLoad=[],z.imagesLoaded=0,z.wrapperLeft=0,z.wrapperRight=0,z.wrapperTop=0,z.wrapperBottom=0;var A,B,C,D,E,F,G={mode:"horizontal",touchRatio:1,speed:300,freeMode:!1,freeModeFluid:!1,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,simulateTouch:!0,followFinger:!0,shortSwipes:!0,moveStartThreshold:!1,autoplay:!1,onlyExternal:!1,createPagination:!0,pagination:!1,paginationElement:"span",paginationClickable:!1,paginationAsRange:!0,resistance:!0,scrollContainer:!1,preventLinks:!0,noSwiping:!1,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:!1,mousewheelControl:!1,mousewheelDebounce:600,useCSS3Transforms:!0,loop:!1,loopAdditionalSlides:0,calculateHeight:!1,updateOnImagesReady:!0,releaseFormElements:!0,watchActiveIndex:!1,visibilityFullFit:!1,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:!1,queueStartCallbacks:!1,queueEndCallbacks:!1,autoResize:!0,resizeReInit:!1,DOMAnimation:!0,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:!1},slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",wrapperClass:"swiper-wrapper",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};b=b||{};for(var H in G)if(H in b&&"object"==typeof b[H])for(var I in G[H])I in b[H]||(b[H][I]=G[H][I]);else H in b||(b[H]=G[H]);z.params=b,b.scrollContainer&&(b.freeMode=!0,b.freeModeFluid=!0),b.loop&&(b.resistance="100%");var J="horizontal"===b.mode;z.touchEvents={touchStart:z.support.touch||!b.simulateTouch?"touchstart":z.browser.ie10?"MSPointerDown":"mousedown",touchMove:z.support.touch||!b.simulateTouch?"touchmove":z.browser.ie10?"MSPointerMove":"mousemove",touchEnd:z.support.touch||!b.simulateTouch?"touchend":z.browser.ie10?"MSPointerUp":"mouseup"};for(var K=z.container.childNodes.length-1;K>=0;K--)if(z.container.childNodes[K].className)for(var L=z.container.childNodes[K].className.split(" "),M=0;M<L.length;M++)L[M]===b.wrapperClass&&(A=z.container.childNodes[K]);z.wrapper=A,z._extendSwiperSlide=function(a){return a.append=function(){return b.loop?(a.insertAfter(z.slides.length-z.loopedSlides),z.removeLoopedSlides(),z.calcSlides(),z.createLoop()):z.wrapper.appendChild(a),z.reInit(),a},a.prepend=function(){return b.loop?(z.wrapper.insertBefore(a,z.slides[z.loopedSlides]),z.removeLoopedSlides(),z.calcSlides(),z.createLoop()):z.wrapper.insertBefore(a,z.wrapper.firstChild),z.reInit(),a},a.insertAfter=function(c){if("undefined"==typeof c)return!1;var d;return b.loop?(d=z.slides[c+1+z.loopedSlides],z.wrapper.insertBefore(a,d),z.removeLoopedSlides(),z.calcSlides(),z.createLoop()):(d=z.slides[c+1],z.wrapper.insertBefore(a,d)),z.reInit(),a},a.clone=function(){return z._extendSwiperSlide(a.cloneNode(!0))},a.remove=function(){z.wrapper.removeChild(a),z.reInit()},a.html=function(b){return"undefined"==typeof b?a.innerHTML:(a.innerHTML=b,a)},a.index=function(){for(var b,c=z.slides.length-1;c>=0;c--)a===z.slides[c]&&(b=c);return b},a.isActive=function(){return a.index()===z.activeIndex?!0:!1},a.swiperSlideDataStorage||(a.swiperSlideDataStorage={}),a.getData=function(b){return a.swiperSlideDataStorage[b]},a.setData=function(b,c){return a.swiperSlideDataStorage[b]=c,a},a.data=function(b,c){return c?(a.setAttribute("data-"+b,c),a):a.getAttribute("data-"+b)},a.getWidth=function(b){return z.h.getWidth(a,b)},a.getHeight=function(b){return z.h.getHeight(a,b)},a.getOffset=function(){return z.h.getOffset(a)},a},z.calcSlides=function(a){var c=z.slides?z.slides.length:!1;z.slides=[],z.displaySlides=[];for(var d=0;d<z.wrapper.childNodes.length;d++)if(z.wrapper.childNodes[d].className)for(var e=z.wrapper.childNodes[d].className,h=e.split(" "),i=0;i<h.length;i++)h[i]===b.slideClass&&z.slides.push(z.wrapper.childNodes[d]);for(d=z.slides.length-1;d>=0;d--)z._extendSwiperSlide(z.slides[d]);c&&(c!==z.slides.length||a)&&(g(),f(),z.updateActiveSlide(),b.createPagination&&z.params.pagination&&z.createPagination(),z.callPlugins("numberOfSlidesChanged"))},z.createSlide=function(a,c,d){var c=c||z.params.slideClass,d=d||b.slideElement,e=document.createElement(d);return e.innerHTML=a||"",e.className=c,z._extendSwiperSlide(e)},z.appendSlide=function(a,b,c){return a?a.nodeType?z._extendSwiperSlide(a).append():z.createSlide(a,b,c).append():void 0},z.prependSlide=function(a,b,c){return a?a.nodeType?z._extendSwiperSlide(a).prepend():z.createSlide(a,b,c).prepend():void 0},z.insertSlideAfter=function(a,b,c,d){return"undefined"==typeof a?!1:b.nodeType?z._extendSwiperSlide(b).insertAfter(a):z.createSlide(b,c,d).insertAfter(a)},z.removeSlide=function(a){if(z.slides[a]){if(b.loop){if(!z.slides[a+z.loopedSlides])return!1;z.slides[a+z.loopedSlides].remove(),z.removeLoopedSlides(),z.calcSlides(),z.createLoop()}else z.slides[a].remove();return!0}return!1},z.removeLastSlide=function(){return z.slides.length>0?(b.loop?(z.slides[z.slides.length-1-z.loopedSlides].remove(),z.removeLoopedSlides(),z.calcSlides(),z.createLoop()):z.slides[z.slides.length-1].remove(),!0):!1},z.removeAllSlides=function(){for(var a=z.slides.length-1;a>=0;a--)z.slides[a].remove()},z.getSlide=function(a){return z.slides[a]},z.getLastSlide=function(){return z.slides[z.slides.length-1]},z.getFirstSlide=function(){return z.slides[0]},z.activeSlide=function(){return z.slides[z.activeIndex]};var N=[];for(var O in z.plugins)if(b[O]){var P=z.plugins[O](z,b[O]);P&&N.push(P)}z.callPlugins=function(a,b){b||(b={});for(var c=0;c<N.length;c++)a in N[c]&&N[c][a](b)},z.browser.ie10&&!b.onlyExternal&&z.wrapper.classList.add("swiper-wp8-"+(J?"horizontal":"vertical")),b.freeMode&&(z.container.className+=" swiper-free-mode"),z.initialized=!1,z.init=function(a,c){var d=z.h.getWidth(z.container),e=z.h.getHeight(z.container);if(d!==z.width||e!==z.height||a){z.width=d,z.height=e,F=J?d:e;var f=z.wrapper;if(a&&z.calcSlides(c),"auto"===b.slidesPerView){var g=0,h=0;b.slidesOffset>0&&(f.style.paddingLeft="",f.style.paddingRight="",f.style.paddingTop="",f.style.paddingBottom=""),f.style.width="",f.style.height="",b.offsetPxBefore>0&&(J?z.wrapperLeft=b.offsetPxBefore:z.wrapperTop=b.offsetPxBefore),b.offsetPxAfter>0&&(J?z.wrapperRight=b.offsetPxAfter:z.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(J?(z.wrapperLeft=(F-this.slides[0].getWidth(!0))/2,z.wrapperRight=(F-z.slides[z.slides.length-1].getWidth(!0))/2):(z.wrapperTop=(F-z.slides[0].getHeight(!0))/2,z.wrapperBottom=(F-z.slides[z.slides.length-1].getHeight(!0))/2)),J?(z.wrapperLeft>=0&&(f.style.paddingLeft=z.wrapperLeft+"px"),z.wrapperRight>=0&&(f.style.paddingRight=z.wrapperRight+"px")):(z.wrapperTop>=0&&(f.style.paddingTop=z.wrapperTop+"px"),z.wrapperBottom>=0&&(f.style.paddingBottom=z.wrapperBottom+"px"));
var i=0,j=0;z.snapGrid=[],z.slidesGrid=[];for(var k=0,l=0;l<z.slides.length;l++){var m=z.slides[l].getWidth(!0),n=z.slides[l].getHeight(!0);b.calculateHeight&&(k=Math.max(k,n));var o=J?m:n;if(b.centeredSlides){var p=l===z.slides.length-1?0:z.slides[l+1].getWidth(!0),q=l===z.slides.length-1?0:z.slides[l+1].getHeight(!0),r=J?p:q;if(o>F){for(var s=0;s<=Math.floor(o/(F+z.wrapperLeft));s++)0===s?z.snapGrid.push(i+z.wrapperLeft):z.snapGrid.push(i+z.wrapperLeft+F*s);z.slidesGrid.push(i+z.wrapperLeft)}else z.snapGrid.push(j),z.slidesGrid.push(j);j+=o/2+r/2}else{if(o>F)for(var s=0;s<=Math.floor(o/F);s++)z.snapGrid.push(i+F*s);else z.snapGrid.push(i);z.slidesGrid.push(i)}i+=o,g+=m,h+=n}b.calculateHeight&&(z.height=k),J?(C=g+z.wrapperRight+z.wrapperLeft,f.style.width=g+"px",f.style.height=z.height+"px"):(C=h+z.wrapperTop+z.wrapperBottom,f.style.width=z.width+"px",f.style.height=h+"px")}else if(b.scrollContainer){f.style.width="",f.style.height="";var t=z.slides[0].getWidth(!0),u=z.slides[0].getHeight(!0);C=J?t:u,f.style.width=t+"px",f.style.height=u+"px",B=J?t:u}else{if(b.calculateHeight){var k=0,u=0;J||(z.container.style.height=""),f.style.height="";for(var l=0;l<z.slides.length;l++)z.slides[l].style.height="",k=Math.max(z.slides[l].getHeight(!0),k),J||(u+=z.slides[l].getHeight(!0));var n=k;z.height=n,J?u=n:(F=n,z.container.style.height=F+"px")}else var n=J?z.height:z.height/b.slidesPerView,u=J?z.height:z.slides.length*n;var m=J?z.width/b.slidesPerView:z.width,t=J?z.slides.length*m:z.width;B=J?m:n,b.offsetSlidesBefore>0&&(J?z.wrapperLeft=B*b.offsetSlidesBefore:z.wrapperTop=B*b.offsetSlidesBefore),b.offsetSlidesAfter>0&&(J?z.wrapperRight=B*b.offsetSlidesAfter:z.wrapperBottom=B*b.offsetSlidesAfter),b.offsetPxBefore>0&&(J?z.wrapperLeft=b.offsetPxBefore:z.wrapperTop=b.offsetPxBefore),b.offsetPxAfter>0&&(J?z.wrapperRight=b.offsetPxAfter:z.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(J?(z.wrapperLeft=(F-B)/2,z.wrapperRight=(F-B)/2):(z.wrapperTop=(F-B)/2,z.wrapperBottom=(F-B)/2)),J?(z.wrapperLeft>0&&(f.style.paddingLeft=z.wrapperLeft+"px"),z.wrapperRight>0&&(f.style.paddingRight=z.wrapperRight+"px")):(z.wrapperTop>0&&(f.style.paddingTop=z.wrapperTop+"px"),z.wrapperBottom>0&&(f.style.paddingBottom=z.wrapperBottom+"px")),C=J?t+z.wrapperRight+z.wrapperLeft:u+z.wrapperTop+z.wrapperBottom,f.style.width=t+"px",f.style.height=u+"px";var i=0;z.snapGrid=[],z.slidesGrid=[];for(var l=0;l<z.slides.length;l++)z.snapGrid.push(i),z.slidesGrid.push(i),i+=B,z.slides[l].style.width=m+"px",z.slides[l].style.height=n+"px"}z.initialized?(z.callPlugins("onInit"),b.onInit&&b.onInit(z)):(z.callPlugins("onFirstInit"),b.onFirstInit&&b.onFirstInit(z)),z.initialized=!0}},z.reInit=function(a){z.init(!0,a)},z.resizeFix=function(a){z.callPlugins("beforeResizeFix"),z.init(b.resizeReInit||a),b.freeMode?z.getWrapperTranslate()<-d()&&(z.setWrapperTransition(0),z.setWrapperTranslate(-d())):z.swipeTo(b.loop?z.activeLoopIndex:z.activeIndex,0,!1),z.callPlugins("afterResizeFix")},z.destroy=function(){var a=z.h.removeEventListener;z.browser.ie10?(a(z.wrapper,z.touchEvents.touchStart,o),a(document,z.touchEvents.touchMove,p),a(document,z.touchEvents.touchEnd,q)):(z.support.touch&&(a(z.wrapper,"touchstart",o),a(z.wrapper,"touchmove",p),a(z.wrapper,"touchend",q)),b.simulateTouch&&(a(z.wrapper,"mousedown",o),a(document,"mousemove",p),a(document,"mouseup",q))),b.autoResize&&a(window,"resize",z.resizeFix),g(),b.paginationClickable&&u(),b.mousewheelControl&&z._wheelEvent&&a(z.container,z._wheelEvent,i),b.keyboardControl&&a(document,"keydown",h),b.autoplay&&z.stopAutoplay(),z.callPlugins("onDestroy"),z=null};if(b.grabCursor){var Q=z.container.style;Q.cursor="move",Q.cursor="grab",Q.cursor="-moz-grab",Q.cursor="-webkit-grab"}z.allowSlideClick=!0,z.allowLinks=!0;var R,S,T,U=!1,V=!0;z.swipeNext=function(a){!a&&b.loop&&z.fixLoop(),z.callPlugins("onSwipeNext");var c=z.getWrapperTranslate(),e=c;if("auto"==b.slidesPerView){for(var f=0;f<z.snapGrid.length;f++)if(-c>=z.snapGrid[f]&&-c<z.snapGrid[f+1]){e=-z.snapGrid[f+1];break}}else{var g=B*b.slidesPerGroup;e=-(Math.floor(Math.abs(c)/Math.floor(g))*g+g)}return e<-d()&&(e=-d()),e==c?!1:(s(e,"next"),!0)},z.swipePrev=function(a){!a&&b.loop&&z.fixLoop(),!a&&b.autoplay&&z.stopAutoplay(),z.callPlugins("onSwipePrev");var c,d=Math.ceil(z.getWrapperTranslate());if("auto"==b.slidesPerView){c=0;for(var e=1;e<z.snapGrid.length;e++){if(-d==z.snapGrid[e]){c=-z.snapGrid[e-1];break}if(-d>z.snapGrid[e]&&-d<z.snapGrid[e+1]){c=-z.snapGrid[e];break}}}else{var f=B*b.slidesPerGroup;c=-(Math.ceil(-d/f)-1)*f}return c>0&&(c=0),c==d?!1:(s(c,"prev"),!0)},z.swipeReset=function(){z.callPlugins("onSwipeReset");{var a,c=z.getWrapperTranslate(),e=B*b.slidesPerGroup;-d()}if("auto"==b.slidesPerView){a=0;for(var f=0;f<z.snapGrid.length;f++){if(-c===z.snapGrid[f])return;if(-c>=z.snapGrid[f]&&-c<z.snapGrid[f+1]){a=z.positions.diff>0?-z.snapGrid[f+1]:-z.snapGrid[f];break}}-c>=z.snapGrid[z.snapGrid.length-1]&&(a=-z.snapGrid[z.snapGrid.length-1]),c<=-d()&&(a=-d())}else a=0>c?Math.round(c/e)*e:0;return b.scrollContainer&&(a=0>c?c:0),a<-d()&&(a=-d()),b.scrollContainer&&F>B&&(a=0),a==c?!1:(s(a,"reset"),!0)},z.swipeTo=function(a,c,e){a=parseInt(a,10),z.callPlugins("onSwipeTo",{index:a,speed:c}),b.loop&&(a+=z.loopedSlides);var f=z.getWrapperTranslate();if(!(a>z.slides.length-1||0>a)){var g;return g="auto"==b.slidesPerView?-z.slidesGrid[a]:-a*B,g<-d()&&(g=-d()),g==f?!1:(e=e===!1?!1:!0,s(g,"to",{index:a,speed:c,runCallbacks:e}),!0)}},z._queueStartCallbacks=!1,z._queueEndCallbacks=!1,z.updateActiveSlide=function(a){if(z.initialized&&0!=z.slides.length){if(z.previousIndex=z.activeIndex,"undefined"==typeof a&&(a=z.getWrapperTranslate()),a>0&&(a=0),"auto"==b.slidesPerView){if(z.activeIndex=z.slidesGrid.indexOf(-a),z.activeIndex<0){for(var c=0;c<z.slidesGrid.length-1&&!(-a>z.slidesGrid[c]&&-a<z.slidesGrid[c+1]);c++);var d=Math.abs(z.slidesGrid[c]+a),e=Math.abs(z.slidesGrid[c+1]+a);z.activeIndex=e>=d?c:c+1}}else z.activeIndex=Math[b.visibilityFullFit?"ceil":"round"](-a/B);if(z.activeIndex==z.slides.length&&(z.activeIndex=z.slides.length-1),z.activeIndex<0&&(z.activeIndex=0),z.slides[z.activeIndex]){z.calcVisibleSlides(a);for(var f=new RegExp("\\s*"+b.slideActiveClass),g=new RegExp("\\s*"+b.slideVisibleClass),c=0;c<z.slides.length;c++)z.slides[c].className=z.slides[c].className.replace(f,"").replace(g,""),z.visibleSlides.indexOf(z.slides[c])>=0&&(z.slides[c].className+=" "+b.slideVisibleClass);if(z.slides[z.activeIndex].className+=" "+b.slideActiveClass,b.loop){var h=z.loopedSlides;z.activeLoopIndex=z.activeIndex-h,z.activeLoopIndex>=z.slides.length-2*h&&(z.activeLoopIndex=z.slides.length-2*h-z.activeLoopIndex),z.activeLoopIndex<0&&(z.activeLoopIndex=z.slides.length-2*h+z.activeLoopIndex)}else z.activeLoopIndex=z.activeIndex;b.pagination&&z.updatePagination(a)}}},z.createPagination=function(a){b.paginationClickable&&z.paginationButtons&&u();var d="",e=z.slides.length,f=e;b.loop&&(f-=2*z.loopedSlides);for(var g=0;f>g;g++)d+="<"+b.paginationElement+' class="'+b.paginationElementClass+'"></'+b.paginationElement+">";z.paginationContainer=b.pagination.nodeType?b.pagination:c(b.pagination)[0],z.paginationContainer.innerHTML=d,z.paginationButtons=c("."+b.paginationElementClass,z.paginationContainer),a||z.updatePagination(),z.callPlugins("onCreatePagination"),b.paginationClickable&&v()},z.updatePagination=function(a){if(b.pagination&&!(z.slides.length<1)){var d=c("."+b.paginationActiveClass,z.paginationContainer);if(d){var e=z.paginationButtons;if(0!=e.length){for(var f=0;f<e.length;f++)e[f].className=b.paginationElementClass;var g=b.loop?z.loopedSlides:0;if(b.paginationAsRange){z.visibleSlides||z.calcVisibleSlides(a);for(var h=[],f=0;f<z.visibleSlides.length;f++){var i=z.slides.indexOf(z.visibleSlides[f])-g;b.loop&&0>i&&(i=z.slides.length-2*z.loopedSlides+i),b.loop&&i>=z.slides.length-2*z.loopedSlides&&(i=z.slides.length-2*z.loopedSlides-i,i=Math.abs(i)),h.push(i)}for(f=0;f<h.length;f++)e[h[f]]&&(e[h[f]].className+=" "+b.paginationVisibleClass);b.loop?e[z.activeLoopIndex].className+=" "+b.paginationActiveClass:e[z.activeIndex].className+=" "+b.paginationActiveClass}else b.loop?e[z.activeLoopIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass:e[z.activeIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass}}}},z.calcVisibleSlides=function(a){var c=[],d=0,e=0,f=0;J&&z.wrapperLeft>0&&(a+=z.wrapperLeft),!J&&z.wrapperTop>0&&(a+=z.wrapperTop);for(var g=0;g<z.slides.length;g++){d+=e,e="auto"==b.slidesPerView?J?z.h.getWidth(z.slides[g],!0):z.h.getHeight(z.slides[g],!0):B,f=d+e;var h=!1;b.visibilityFullFit?(d>=-a&&-a+F>=f&&(h=!0),-a>=d&&f>=-a+F&&(h=!0)):(f>-a&&-a+F>=f&&(h=!0),d>=-a&&-a+F>d&&(h=!0),-a>d&&f>-a+F&&(h=!0)),h&&c.push(z.slides[g])}0==c.length&&(c=[z.slides[z.activeIndex]]),z.visibleSlides=c},z.autoPlayIntervalId=void 0,z.startAutoplay=function(){return"undefined"!=typeof z.autoPlayIntervalId?!1:(b.autoplay&&!b.loop&&(z.autoPlayIntervalId=setInterval(function(){z.swipeNext(!0)||z.swipeTo(0)},b.autoplay)),b.autoplay&&b.loop&&(z.autoPlayIntervalId=setInterval(function(){z.swipeNext()},b.autoplay)),z.callPlugins("onAutoplayStart"),void 0)},z.stopAutoplay=function(){z.autoPlayIntervalId&&clearInterval(z.autoPlayIntervalId),z.autoPlayIntervalId=void 0,z.callPlugins("onAutoplayStop")},z.loopCreated=!1,z.removeLoopedSlides=function(){if(z.loopCreated)for(var a=0;a<z.slides.length;a++)z.slides[a].getData("looped")===!0&&z.wrapper.removeChild(z.slides[a])},z.createLoop=function(){if(0!=z.slides.length){z.loopedSlides=b.slidesPerView+b.loopAdditionalSlides,z.loopedSlides>z.slides.length&&(z.loopedSlides=z.slides.length);var a,c="",d="";for(a=0;a<z.loopedSlides;a++)c+=z.slides[a].outerHTML;for(a=z.slides.length-z.loopedSlides;a<z.slides.length;a++)d+=z.slides[a].outerHTML;for(A.innerHTML=d+A.innerHTML+c,z.loopCreated=!0,z.calcSlides(),a=0;a<z.slides.length;a++)(a<z.loopedSlides||a>=z.slides.length-z.loopedSlides)&&z.slides[a].setData("looped",!0);z.callPlugins("onCreateLoop")}},z.fixLoop=function(){var a;z.activeIndex<z.loopedSlides?(a=z.slides.length-3*z.loopedSlides+z.activeIndex,z.swipeTo(a,0,!1)):z.activeIndex>z.slides.length-2*b.slidesPerView&&(a=-z.slides.length+z.activeIndex+z.loopedSlides,z.swipeTo(a,0,!1))},z.loadSlides=function(){var a="";z.activeLoaderIndex=0;for(var c=b.loader.slides,d=b.loader.loadAllSlides?c.length:b.slidesPerView*(1+b.loader.surroundGroups),e=0;d>e;e++)a+="outer"==b.loader.slidesHTMLType?c[e]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+e+'">'+c[e]+"</"+b.slideElement+">";z.wrapper.innerHTML=a,z.calcSlides(!0),b.loader.loadAllSlides||z.wrapperTransitionEnd(z.reloadSlides,!0)},z.reloadSlides=function(){var a=b.loader.slides,c=parseInt(z.activeSlide().data("swiperindex"),10);if(!(0>c||c>a.length-1)){z.activeLoaderIndex=c;var d=Math.max(0,c-b.slidesPerView*b.loader.surroundGroups),e=Math.min(c+b.slidesPerView*(1+b.loader.surroundGroups)-1,a.length-1);if(c>0){var f=-B*(c-d);z.setWrapperTranslate(f),z.setWrapperTransition(0)}if("reload"===b.loader.logic){z.wrapper.innerHTML="";for(var g="",h=d;e>=h;h++)g+="outer"==b.loader.slidesHTMLType?a[h]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+h+'">'+a[h]+"</"+b.slideElement+">";z.wrapper.innerHTML=g}else{for(var i=1e3,j=0,h=0;h<z.slides.length;h++){var k=z.slides[h].data("swiperindex");d>k||k>e?z.wrapper.removeChild(z.slides[h]):(i=Math.min(k,i),j=Math.max(k,j))}for(var h=d;e>=h;h++){if(i>h){var l=document.createElement(b.slideElement);l.className=b.slideClass,l.setAttribute("data-swiperindex",h),l.innerHTML=a[h],z.wrapper.insertBefore(l,z.wrapper.firstChild)}if(h>j){var l=document.createElement(b.slideElement);l.className=b.slideClass,l.setAttribute("data-swiperindex",h),l.innerHTML=a[h],z.wrapper.appendChild(l)}}}z.reInit(!0)}},x()}};Swiper.prototype={plugins:{},wrapperTransitionEnd:function(a,b){function c(){if(a(e),e.params.queueEndCallbacks&&(e._queueEndCallbacks=!1),!b)for(d=0;d<g.length;d++)e.h.removeEventListener(f,g[d],c)}var d,e=this,f=e.wrapper,g=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(a)for(d=0;d<g.length;d++)e.h.addEventListener(f,g[d],c)},getWrapperTranslate:function(a){var b,c,d,e,f=this.wrapper;return"undefined"==typeof a&&(a="horizontal"==this.params.mode?"x":"y"),d=window.getComputedStyle(f,null),window.WebKitCSSMatrix?e=new WebKitCSSMatrix(d.webkitTransform):(e=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),b=e.toString().split(",")),this.support.transforms&&this.params.useCSS3Transforms?("x"==a&&(c=window.WebKitCSSMatrix?e.m41:16==b.length?parseFloat(b[12]):parseFloat(b[4])),"y"==a&&(c=window.WebKitCSSMatrix?e.m42:16==b.length?parseFloat(b[13]):parseFloat(b[5]))):("x"==a&&(c=parseFloat(f.style.left,10)||0),"y"==a&&(c=parseFloat(f.style.top,10)||0)),c||0},setWrapperTranslate:function(a,b,c){var d,e=this.wrapper.style,f={x:0,y:0,z:0};3==arguments.length?(f.x=a,f.y=b,f.z=c):("undefined"==typeof b&&(b="horizontal"==this.params.mode?"x":"y"),f[b]=a),this.support.transforms&&this.params.useCSS3Transforms?(d=this.support.transforms3d?"translate3d("+f.x+"px, "+f.y+"px, "+f.z+"px)":"translate("+f.x+"px, "+f.y+"px)",e.webkitTransform=e.MsTransform=e.msTransform=e.MozTransform=e.OTransform=e.transform=d):(e.left=f.x+"px",e.top=f.y+"px"),this.callPlugins("onSetWrapperTransform",f)},setWrapperTransition:function(a){var b=this.wrapper.style;b.webkitTransitionDuration=b.MsTransitionDuration=b.msTransitionDuration=b.MozTransitionDuration=b.OTransitionDuration=b.transitionDuration=a/1e3+"s",this.callPlugins("onSetWrapperTransition",{duration:a})},h:{getWidth:function(a,b){var c=window.getComputedStyle(a,null).getPropertyValue("width"),d=parseFloat(c);return(isNaN(d)||c.indexOf("%")>0)&&(d=a.offsetWidth-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),b&&(d+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),d},getHeight:function(a,b){if(b)return a.offsetHeight;var c=window.getComputedStyle(a,null).getPropertyValue("height"),d=parseFloat(c);return(isNaN(d)||c.indexOf("%")>0)&&(d=a.offsetHeight-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),b&&(d+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),d},getOffset:function(a){var b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return document.documentElement&&!window.pageYOffset&&(f=document.documentElement.scrollTop,g=document.documentElement.scrollLeft),{top:b.top+f-d,left:b.left+g-e}},windowWidth:function(){return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:void 0},windowHeight:function(){return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:void 0},windowScroll:function(){return"undefined"!=typeof pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},addEventListener:function(a,b,c,d){"undefined"==typeof d&&(d=!1),a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},removeEventListener:function(a,b,c,d){"undefined"==typeof d&&(d=!1),a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)}},setTransform:function(a,b){var c=a.style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=b},setTranslate:function(a,b){var c=a.style,d={x:b.x||0,y:b.y||0,z:b.z||0},e=this.support.transforms3d?"translate3d("+d.x+"px,"+d.y+"px,"+d.z+"px)":"translate("+d.x+"px,"+d.y+"px)";c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=e,this.support.transforms||(c.left=d.x+"px",c.top=d.y+"px")},setTransition:function(a,b){var c=a.style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms"},support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var a=document.createElement("div").style;return"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a}(),transforms:window.Modernizr&&Modernizr.csstransforms===!0||function(){var a=document.createElement("div").style;return"transform"in a||"WebkitTransform"in a||"MozTransform"in a||"msTransform"in a||"MsTransform"in a||"OTransform"in a}(),transitions:window.Modernizr&&Modernizr.csstransitions===!0||function(){var a=document.createElement("div").style;return"transition"in a||"WebkitTransition"in a||"MozTransition"in a||"msTransition"in a||"MsTransition"in a||"OTransition"in a}()},browser:{ie8:function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return-1!=a&&9>a}(),ie10:window.navigator.msPointerEnabled}},(window.jQuery||window.Zepto)&&!function(a){a.fn.swiper=function(b){var c=new Swiper(a(this)[0],b);return a(this).data("swiper",c),c}}(window.jQuery||window.Zepto),"undefined"!=typeof module&&(module.exports=Swiper),function(a,b){"object"==typeof exports?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a)}(this,function(a){function b(a){this._targetElement=a,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0}}function c(a){var b=[],c=this;if(this._options.steps)for(var d=[],h=0,j=this._options.steps.length;j>h;h++){var k=this._options.steps[h];k.step=h+1,"string"==typeof k.element&&(k.element=document.querySelector(k.element)),b.push(k)}else{var d=a.querySelectorAll("*[data-intro]");if(d.length<1)return!1;for(var h=0,l=d.length;l>h;h++){var m=d[h],o=parseInt(m.getAttribute("data-step"),10);o>0&&(b[o-1]={element:m,intro:m.getAttribute("data-intro"),step:parseInt(m.getAttribute("data-step"),10),tooltipClass:m.getAttribute("data-tooltipClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition})}for(var p=0,h=0,l=d.length;l>h;h++){var m=d[h];if(null==m.getAttribute("data-step")){for(;;){if("undefined"==typeof b[p])break;p++}b[p]={element:m,intro:m.getAttribute("data-intro"),step:p+1,tooltipClass:m.getAttribute("data-tooltipClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition}}}}for(var q=[],r=0;r<b.length;r++)b[r]&&q.push(b[r]);if(b=q,b.sort(function(a,b){return a.step-b.step}),c._introItems=b,n.call(c,a)){e.call(c);{a.querySelector(".introjs-skipbutton"),a.querySelector(".introjs-nextbutton")}c._onKeyDown=function(b){27===b.keyCode&&1==c._options.exitOnEsc?(g.call(c,a),void 0!=c._introExitCallback&&c._introExitCallback.call(c)):37===b.keyCode?f.call(c):(39===b.keyCode||13===b.keyCode)&&(e.call(c),b.preventDefault?b.preventDefault():b.returnValue=!1)},c._onResize=function(){i.call(c,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",c._onKeyDown,!0),window.addEventListener("resize",c._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",c._onKeyDown),document.attachEvent("onresize",c._onResize))}return!1}function d(a){this._currentStep=a-2,"undefined"!=typeof this._introItems&&e.call(this)}function e(){if("undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)return"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),g.call(this,this._targetElement),void 0;var a=this._introItems[this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,a.element),j.call(this,a)}function f(){if(0===this._currentStep)return!1;var a=this._introItems[--this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,a.element),j.call(this,a)}function g(a){var b=a.querySelector(".introjs-overlay");b.style.opacity=0,setTimeout(function(){b.parentNode&&b.parentNode.removeChild(b)},500);var c=a.querySelector(".introjs-helperLayer");c&&c.parentNode.removeChild(c);var d=document.querySelector(".introjs-showElement");d&&(d.className=d.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var e=document.querySelectorAll(".introjs-fixParent");if(e&&e.length>0)for(var f=e.length-1;f>=0;f--)e[f].className=e[f].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}function h(a,b,c){if(b.style.top=null,b.style.right=null,b.style.bottom=null,b.style.left=null,this._introItems[this._currentStep]){var d="",e=this._introItems[this._currentStep];d="string"==typeof e.tooltipClass?e.tooltipClass:this._options.tooltipClass,b.className=("introjs-tooltip "+d).replace(/^\s+|\s+$/g,"");var d=this._options.tooltipClass,f=this._introItems[this._currentStep].position;switch(f){case"top":b.style.left="15px",b.style.top="-"+(o(b).height+10)+"px",c.className="introjs-arrow bottom";break;case"right":b.style.left=o(a).width+20+"px",c.className="introjs-arrow left";break;case"left":b.style.top="15px",b.style.right=o(a).width+20+"px",c.className="introjs-arrow right";break;case"bottom":default:b.style.bottom="-"+(o(b).height+10)+"px",c.className="introjs-arrow top"}}}function i(a){if(a){if(!this._introItems[this._currentStep])return;var b=o(this._introItems[this._currentStep].element);a.setAttribute("style","width: "+(b.width+10)+"px; height:"+(b.height+10)+"px; top:"+(b.top-5)+"px;left: "+(b.left-5)+"px;")}}function j(a){"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,a.element);{var b=this,c=document.querySelector(".introjs-helperLayer");o(a.element)}if(null!=c){var d=c.querySelector(".introjs-helperNumberLayer"),j=c.querySelector(".introjs-tooltiptext"),n=c.querySelector(".introjs-arrow"),p=c.querySelector(".introjs-tooltip"),q=c.querySelector(".introjs-skipbutton"),r=c.querySelector(".introjs-prevbutton"),s=c.querySelector(".introjs-nextbutton");p.style.opacity=0,i.call(b,c);var t=document.querySelectorAll(".introjs-fixParent");if(t&&t.length>0)for(var u=t.length-1;u>=0;u--)t[u].className=t[u].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");var v=document.querySelector(".introjs-showElement");v.className=v.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),b._lastShowElementTimer&&clearTimeout(b._lastShowElementTimer),b._lastShowElementTimer=setTimeout(function(){null!=d&&(d.innerHTML=a.step),j.innerHTML=a.intro,h.call(b,a.element,p,n),c.querySelector(".introjs-bullets li > a.active").className="",c.querySelector('.introjs-bullets li > a[data-stepnumber="'+a.step+'"]').className="active",p.style.opacity=1},350)}else{var w=document.createElement("div"),x=document.createElement("div"),y=document.createElement("div"),z=document.createElement("div"),A=document.createElement("div"),B=document.createElement("div");w.className="introjs-helperLayer",i.call(b,w),this._targetElement.appendChild(w),x.className="introjs-arrow",z.className="introjs-tooltiptext",z.innerHTML=a.intro,A.className="introjs-bullets",this._options.showBullets===!1&&(A.style.display="none");for(var C=document.createElement("ul"),u=0,D=this._introItems.length;D>u;u++){var E=document.createElement("li"),F=document.createElement("a");F.onclick=function(){b.goToStep(this.getAttribute("data-stepnumber"))},0===u&&(F.className="active"),F.href="javascript:void(0);",F.innerHTML="&nbsp;",F.setAttribute("data-stepnumber",this._introItems[u].step),E.appendChild(F),C.appendChild(E)}if(A.appendChild(C),B.className="introjs-tooltipbuttons",this._options.showButtons===!1&&(B.style.display="none"),y.className="introjs-tooltip",y.appendChild(z),y.appendChild(A),1==this._options.showStepNumbers){var G=document.createElement("span");G.className="introjs-helperNumberLayer",G.innerHTML=a.step,w.appendChild(G)}y.appendChild(x),w.appendChild(y);var s=document.createElement("a");s.onclick=function(){b._introItems.length-1!=b._currentStep&&e.call(b)},s.href="javascript:void(0);",s.innerHTML=this._options.nextLabel;var r=document.createElement("a");r.onclick=function(){0!=b._currentStep&&f.call(b)},r.href="javascript:void(0);",r.innerHTML=this._options.prevLabel;var q=document.createElement("a");q.className="introjs-button introjs-skipbutton",q.href="javascript:void(0);",q.innerHTML=this._options.skipLabel,q.onclick=function(){b._introItems.length-1==b._currentStep&&"function"==typeof b._introCompleteCallback&&b._introCompleteCallback.call(b),b._introItems.length-1!=b._currentStep&&"function"==typeof b._introExitCallback&&b._introExitCallback.call(b),g.call(b,b._targetElement)},B.appendChild(q),this._introItems.length>1&&(B.appendChild(r),B.appendChild(s)),y.appendChild(B),h.call(b,a.element,y,x)}0==this._currentStep?(r.className="introjs-button introjs-prevbutton introjs-disabled",s.className="introjs-button introjs-nextbutton",q.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep?(q.innerHTML=this._options.doneLabel,r.className="introjs-button introjs-prevbutton",s.className="introjs-button introjs-nextbutton introjs-disabled"):(r.className="introjs-button introjs-prevbutton",s.className="introjs-button introjs-nextbutton",q.innerHTML=this._options.skipLabel),s.focus(),a.element.className+=" introjs-showElement";var H=k(a.element,"position");"absolute"!==H&&"relative"!==H&&(a.element.className+=" introjs-relativePosition");for(var I=a.element.parentNode;null!=I&&"body"!==I.tagName.toLowerCase();){var J=k(I,"z-index");/[0-9]+/.test(J)&&(I.className+=" introjs-fixParent"),I=I.parentNode}if(!m(a.element)){var K=a.element.getBoundingClientRect(),L=l().height,M=K.bottom-(K.bottom-K.top),N=K.bottom-L;0>M||a.element.clientHeight>L?window.scrollBy(0,M-30):window.scrollBy(0,N+100)}}function k(a,b){var c="";return a.currentStyle?c=a.currentStyle[b]:document.defaultView&&document.defaultView.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b)),c&&c.toLowerCase?c.toLowerCase():c}function l(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var a=document.documentElement;return{width:a.clientWidth,height:a.clientHeight}}function m(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom+80<=window.innerHeight&&b.right<=window.innerWidth}function n(a){var b=document.createElement("div"),c="",d=this;if(b.className="introjs-overlay","body"===a.tagName.toLowerCase())c+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",b.setAttribute("style",c);else{var e=o(a);e&&(c+="width: "+e.width+"px; height:"+e.height+"px; top:"+e.top+"px;left: "+e.left+"px;",b.setAttribute("style",c))}return a.appendChild(b),b.onclick=function(){1==d._options.exitOnOverlayClick&&(g.call(d,a),void 0!=d._introExitCallback&&d._introExitCallback.call(d))},setTimeout(function(){c+="opacity: .8;",b.setAttribute("style",c)},10),!0}function o(a){var b={};b.width=a.offsetWidth,b.height=a.offsetHeight;for(var c=0,d=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;return b.top=d,b.left=c,b}function p(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}var q="0.6.0",r=function(a){if("object"==typeof a)return new b(a);if("string"==typeof a){var c=document.querySelector(a);if(c)return new b(c);throw new Error("There is no element with given selector.")}return new b(document.body)};return r.version=q,r.fn=b.prototype={clone:function(){return new b(this)},setOption:function(a,b){return this._options[a]=b,this},setOptions:function(a){return this._options=p(this._options,a),this},start:function(){return c.call(this,this._targetElement),this},goToStep:function(a){return d.call(this,a),this},exit:function(){g.call(this,this._targetElement)},refresh:function(){return i.call(this,document.querySelector(".introjs-helperLayer")),this},onbeforechange:function(a){if("function"!=typeof a)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=a,this},onchange:function(a){if("function"!=typeof a)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=a,this},oncomplete:function(a){if("function"!=typeof a)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=a,this},onexit:function(a){if("function"!=typeof a)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=a,this}},a.introJs=r,r}),function(a){a.widget("mobile.datebox",a.mobile.widget,{options:{version:"2-1.1.0-2012091200",theme:!1,themeDefault:"c",themeHeader:"a",mode:!1,centerHoriz:!1,centerVert:!1,transition:"pop",useAnimation:!0,hideInput:!1,hideFixedToolbars:!1,lockInput:!0,enhanceInput:!0,zindex:"500",clickEvent:"vclick",clickEventAlt:"click",resizeListener:!0,defaultValue:!1,dialogEnable:!1,dialogForce:!1,useModal:!1,useInline:!1,useInlineBlind:!1,useHeader:!0,useImmediate:!1,useNewStyle:!1,useAltIcon:!1,overrideStyleClass:!1,useButton:!0,useFocus:!1,useClearButton:!1,useCollapsedBut:!1,usePlaceholder:!1,openCallback:!1,openCallbackArgs:[],closeCallback:!1,closeCallbackArgs:[],afterToday:!1,beforeToday:!1,notToday:!1,maxDays:!1,minDays:!1,maxYear:!1,minYear:!1,blackDates:!1,blackDays:!1,minHour:!1,maxHour:!1,minuteStep:1,minuteStepRound:0,rolloverMode:{m:!0,d:!0,h:!0,i:!0,s:!0},useLang:"default",lang:{"default":{setDateButtonLabel:"Set Date",setTimeButtonLabel:"Set Time",setDurationButtonLabel:"Set Duration",calTodayButtonLabel:"Jump to Today",titleDateDialogLabel:"Set Date",titleTimeDialogLabel:"Set Time",daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysOfWeekShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsOfYearShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],durationLabel:["Days","Hours","Minutes","Seconds"],durationDays:["Day","Days"],timeFormat:24,headerFormat:"%A, %B %-d, %Y",tooltip:"Open Date Picker",nextMonth:"Next Month",prevMonth:"Previous Month",dateFieldOrder:["m","d","y"],timeFieldOrder:["h","i","a"],slideFieldOrder:["y","m","d"],dateFormat:"%Y-%m-%d",useArabicIndic:!1,isRTL:!1,calStartDay:0,clearButton:"Clear",durationOrder:["d","h","i","s"],meridiem:["AM","PM"],timeOutput:"%k:%M",durationFormat:"%Dd %DA, %Dl:%DM:%DS"}}},_enhanceDate:function(){a.extend(this._date.prototype,{copy:function(a,b){for("undefined"==typeof a&&(a=[0,0,0,0,0,0,0]),"undefined"==typeof b&&(b=[0,0,0,0,0,0,0]);a.length<7;)a.push(0);for(;b.length<7;)b.push(0);return new Date(b[0]>0?b[0]:this.getFullYear()+a[0],b[1]>0?b[1]:this.getMonth()+a[1],b[2]>0?b[2]:this.getDate()+a[2],b[3]>0?b[3]:this.getHours()+a[3],b[4]>0?b[4]:this.getMinutes()+a[4],b[5]>0?b[5]:this.getSeconds()+a[5],b[6]>0?b[5]:this.getMilliseconds()+a[6])
},adj:function(a,b){if("number"!=typeof b)throw new Error("Adjustment value not specified");if("number"!=typeof a)throw new Error("Adjustment type not specified");switch(a){case 0:this.setFullYear(this.getFullYear()+b);break;case 1:this.setMonth(this.getMonth()+b);break;case 2:this.setDate(this.getDate()+b);break;case 3:this.setHours(this.getHours()+b);break;case 4:this.setMinutes(this.getMinutes()+b);break;case 5:this.setSeconds(this.getSeconds()+b);break;case 6:this.setMilliseconds(this.getMilliseconds()+b)}return this},set:function(a,b){switch(a){case 0:this.setFullYear(b);break;case 1:this.setMonth(b);break;case 2:this.setDate(b);break;case 3:this.setHours(b);break;case 4:this.setMinutes(b);break;case 5:this.setSeconds(b);break;case 6:this.setMilliseconds(b)}return this},get:function(a){switch(a){case 0:return this.getFullYear();case 1:return this.getMonth();case 2:return this.getDate();case 3:return this.getHours();case 4:return this.getMinutes();case 5:return this.getSeconds()}return!1},iso:function(){return String(this.getFullYear())+"-"+(this.getMonth()<9?"0":"")+String(this.getMonth()+1)+"-"+(this.getDate()<10?"0":"")+String(this.getDate())},comp:function(){return parseInt(this.iso().replace(/-/g,""),10)},getEpoch:function(){return(this.getTime()-this.getMilliseconds())/1e3},getArray:function(){return[this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds()]},setFirstDay:function(a){return this.set(2,1).adj(2,a-this.getDay()),this.get(2)>10&&this.adj(2,7),this},setWeek:function(a,b){return 4===a?this.set(1,0).set(2,1).setFirstDay(4).adj(2,-3).adj(2,7*(b-1)):this.set(1,0).set(2,1).setFirstDay(a).adj(2,7*(b-1))},getWeek:function(a){var b,c;switch(a){case 0:return b=this.copy([0,-1*this.getMonth()]).setFirstDay(0),Math.floor((this.getTime()-(b.getTime()+6e4*(this.getTimezoneOffset()-b.getTimezoneOffset())))/6048e5)+1;case 1:return b=this.copy([0,-1*this.getMonth()]).setFirstDay(1),Math.floor((this.getTime()-(b.getTime()+6e4*(this.getTimezoneOffset()-b.getTimezoneOffset())))/6048e5)+1;case 4:return 11===this.getMonth()&&this.getDate()>28?1:(b=this.copy([0,-1*this.getMonth()],!0).setFirstDay(4).adj(2,-3),c=Math.floor((this.getTime()-(b.getTime()+6e4*(this.getTimezoneOffset()-b.getTimezoneOffset())))/6048e5)+1,1>c?(b=this.copy([-1,-1*this.getMonth()]).setFirstDay(4).adj(2,-3),Math.floor((this.getTime()-b.getTime())/6048e5)+1):c);default:return 0}}})},_event:function(b,c){var d=a(this).data("datebox");if(!b.isPropagationStopped())switch(c.method){case"close":break;case"open":break;case"set":a(this).val(c.value),a(this).trigger("change");break;case"doset":a(this).trigger("datebox",{method:"set",value:d._formatter(d.__fmt(),d.theDate),date:d.theDate});break;case"dooffset":c.type&&d._offset(c.type,c.amount,!0);break;case"dorefresh":d.refresh();break;case"doreset":d.hardreset();break;case"doclear":a(this).val("").trigger("change");break;case"clear":a(this).trigger("change")}},_hoover:function(b){a(b).toggleClass("ui-btn-up-"+a(b).jqmData("theme")+" ui-btn-down-"+a(b).jqmData("theme"))},_ord:{"default":function(a){var b=a%10;return a>9&&21>a?"th":b>3?"th":["th","st","nd","rd"][b]}},__:function(a){var b=this.options,c="override"+a.charAt(0).toUpperCase()+a.slice(1);return"undefined"!=typeof b[c]?b[c]:"undefined"!=typeof b.lang[b.useLang][a]?b.lang[b.useLang][a]:"undefined"!=typeof b[b.mode+"lang"][a]?b[b.mode+"lang"][a]:b.lang["default"][a]},__fmt:function(){var a=this,b=this.options;switch(b.mode){case"timebox":case"timeflipbox":return a.__("timeOutput");case"durationbox":return a.__("durationFormat");default:return a.__("dateFormat")}},_zPad:function(a){return 10>a?"0"+String(a):String(a)},_dRep:function(a,b){var c=48,d=57,e=1584,f=null,g=null,h="";for(-1===b&&(c+=e,d+=e,e=-1584),f=0;f<a.length;f++)g=a.charCodeAt(f),h+=g>=c&&d>=g?String.fromCharCode(g+e):String.fromCharCode(g);return h},_doIndic:function(){var b=this;b.d.intHTML.find("*").each(function(){a(this).children().length<1?a(this).text(b._dRep(a(this).text())):a(this).hasClass("ui-datebox-slideday")&&a(this).html(b._dRep(a(this).html()))}),b.d.intHTML.find("input").each(function(){a(this).val(b._dRep(a(this).val()))})},_parser:{"default":function(){return!1}},_n:function(a,b){return 0>a?b:a},_pa:function(a,b){return"boolean"==typeof b?new this._date(a[0],a[1],a[2],0,0,0,0):new this._date(b.getFullYear(),b.getMonth(),b.getDate(),a[0],a[1],a[2],0)},_makeDate:function(b){b=a.trim(this.__("useArabicIndic")===!0?this._dRep(b,-1):b);var c,d=this,e=this.options,f=d.__fmt(),g=null,h=[],i=null,j=null,k=new d._date,l={year:-1,mont:-1,date:-1,hour:-1,mins:-1,secs:-1,week:!1,wtyp:4,wday:!1,yday:!1,meri:0};if("undefined"==typeof e.mode)return k;if("undefined"!=typeof d._parser[e.mode])return d._parser[e.mode].apply(d,[b]);if("durationbox"===e.mode){if(f=f.replace(/%D([a-z])/gi,function(a,b){switch(b){case"d":case"l":case"M":case"S":return"("+a+"|[0-9]+)";default:return".+?"}}),f=new RegExp("^"+f+"$"),g=f.exec(b),i=f.exec(d.__fmt()),null===g||g.length!==i.length)return"number"==typeof e.defaultValue&&e.defaultValue>0?new d._date(1e3*(d.initDate.getEpoch()+parseInt(e.defaultValue,10))):new d._date(d.initDate.getTime());for(j=d.initDate.getEpoch(),c=0;c<g.length;c++)i[c].match(/^%Dd$/i)&&(j+=60*parseInt(g[c],10)*60*24),i[c].match(/^%Dl$/i)&&(j+=60*parseInt(g[c],10)*60),i[c].match(/^%DM$/i)&&(j+=60*parseInt(g[c],10)),i[c].match(/^%DS$/i)&&(j+=parseInt(g[c],10));return new d._date(1e3*j)}if(f=f.replace(/%(0|-)*([a-z])/gi,function(a,b,c){switch(h.push(c),c){case"p":case"P":case"b":case"B":return"("+a+"|.+?)";case"H":case"k":case"I":case"l":case"m":case"M":case"S":case"V":case"U":case"u":case"W":case"d":return"("+a+"|"+("-"===b?"[0-9]{1,2}":"[0-9]{2}")+")";case"j":return"("+a+"|[0-9]{3})";case"s":return"("+a+"|[0-9]+)";case"g":case"y":return"("+a+"|[0-9]{2})";case"E":case"G":case"Y":return"("+a+"|[0-9]{1,4})";default:return h.pop(),".+?"}}),f=new RegExp("^"+f+"$"),g=f.exec(b),i=f.exec(d.__fmt()),null===g||g.length!==i.length){if(e.defaultValue!==!1)switch(typeof e.defaultValue){case"object":3===e.defaultValue.length&&(k=d._pa(e.defaultValue,"timebox"===e.mode||"timeflipbox"===e.mode?k:!1));break;case"number":k=new d._date(1e3*e.defaultValue);break;case"string":"timebox"===e.mode||"timeflipbox"===e.mode?(j=e.defaultValue.split(":"),3===j.length&&(k=d._pa([j[0],j[1],j[2]],k))):(j=e.defaultValue.split("-"),3===j.length&&(k=d._pa([j[0],j[1]-1,j[2]],!1)))}isNaN(k.getDate())&&(k=new d._date)}else{for(c=1;c<g.length;c++)switch(h[c-1]){case"s":return new d._date(1e3*parseInt(g[c],10));case"Y":case"G":l.year=parseInt(g[c],10);break;case"E":l.year=parseInt(g[c],10)-543;break;case"y":case"g":l.year=e.afterToday===!0||parseInt(g[c],10)<38?parseInt("20"+g[c],10):parseInt("19"+g[c],10);break;case"m":l.mont=parseInt(g[c],10)-1;break;case"d":l.date=parseInt(g[c],10);break;case"H":case"k":case"I":case"l":l.hour=parseInt(g[c],10);break;case"M":l.mins=parseInt(g[c],10);break;case"S":l.secs=parseInt(g[c],10);break;case"u":l.wday=parseInt(g[c],10)-1;break;case"w":l.wday=parseInt(g[c],10);break;case"j":l.yday=parseInt(g[c],10);break;case"V":l.week=parseInt(g[c],10),l.wtyp=4;break;case"U":l.week=parseInt(g[c],10),l.wtyp=0;break;case"W":l.week=parseInt(g[c],10),l.wtyp=1;break;case"p":case"P":l.meri=g[c].toLowerCase()===d.__("meridiem")[0].toLowerCase()?-1:1;break;case"b":j=a.inArray(g[c],d.__("monthsOfYearShort")),j>-1&&(l.mont=j);break;case"B":j=a.inArray(g[c],d.__("monthsOfYear")),j>-1&&(l.mont=j)}if(0!==l.meri&&(-1===l.meri&&12===l.hour&&(l.hour=0),1===l.meri&&12!==l.hour&&(l.hour=l.hour+12)),k=new d._date(d._n(l.year,1),d._n(l.mont,1),d._n(l.date,1),d._n(l.hour,0),d._n(l.mins,0),d._n(l.secs,0),0),l.year<100&&-1!==l.year&&k.setFullYear(l.year),l.mont>-1&&l.date>-1||l.hour>-1&&l.mins>-1&&l.secs>-1)return k;l.week!==!1&&(k.setWeek(l.wtyp,l.week),l.date>-1&&k.setDate(l.date)),l.yday!==!1&&k.set(1,0).set(2,1).adj(2,l.yday-1),l.wday!==!1&&k.adj(2,l.wday-k.getDay())}return k},_customformat:{"default":function(){return!1}},_formatter:function(a,b){var c,d=this,e=this.options,f={part:[0,0,0,0],tp:0};return"durationbox"===e.mode&&(f.tp=this.theDate.getEpoch()-this.initDate.getEpoch(),f.part[0]=parseInt(f.tp/86400,10),f.tp-=60*f.part[0]*60*24,f.part[1]=parseInt(f.tp/3600,10),f.tp-=60*f.part[1]*60,f.part[2]=parseInt(f.tp/60,10),f.tp-=60*f.part[2],f.part[3]=f.tp,a.match(/%Dd/)||(f.part[1]+=24*f.part[0]),a.match(/%Dl/)||(f.part[2]+=60*f.part[1]),a.match(/%DM/)||(f.part[3]+=60*f.part[2])),a=a.replace(/%(D|X|0|-)*([1-9a-zA-Z])/g,function(a,g,h){if("X"===g)return"undefined"!=typeof d._customformat[e.mode]?d._customformat[e.mode](h,b):a;if("D"===g)switch(h){case"d":return f.part[0];case"l":return d._zPad(f.part[1]);case"M":return d._zPad(f.part[2]);case"S":return d._zPad(f.part[3]);case"A":return f.part[0]>1?d.__("durationDays")[1]:d.__("durationDays")[0];default:return a}switch(h){case"%":return"%";case"a":return d.__("daysOfWeekShort")[b.getDay()];case"A":return d.__("daysOfWeek")[b.getDay()];case"b":return d.__("monthsOfYearShort")[b.getMonth()];case"B":return d.__("monthsOfYear")[b.getMonth()];case"C":return b.getFullYear().toString().substr(0,2);case"d":return"-"===g?b.getDate():d._zPad(b.getDate());case"H":case"k":return"-"===g?b.getHours():d._zPad(b.getHours());case"I":case"l":return"-"===g?0===b.getHours()||12===b.getHours()?12:b.getHours()<12?b.getHours():b.getHours()-12:d._zPad(0===b.getHours()||12===b.getHours()?12:b.getHours()<12?b.getHours():b.getHours()-12);case"m":return"-"===g?b.getMonth()+1:d._zPad(b.getMonth()+1);case"M":return"-"===g?b.getMinutes():d._zPad(b.getMinutes());case"p":return b.getHours()<12?d.__("meridiem")[0].toUpperCase():d.__("meridiem")[1].toUpperCase();case"P":return b.getHours()<12?d.__("meridiem")[0].toLowerCase():d.__("meridiem")[1].toLowerCase();case"s":return b.getEpoch();case"S":return"-"===g?b.getSeconds():d._zPad(b.getSeconds());case"u":return"-"===g?b.getDay()+1:d._zPad(b.getDay()+1);case"w":return b.getDay();case"y":return b.getFullYear().toString().substr(2,2);case"Y":return b.getFullYear();case"E":return b.getFullYear()+543;case"V":return"-"===g?b.getWeek(4):d._zPad(b.getWeek(4));case"U":return"-"===g?b.getWeek(0):d._zPad(b.getWeek(0));case"W":return"-"===g?b.getWeek(1):d._zPad(b.getWeek(1));case"o":return"undefined"!=typeof d._ord[e.useLang]?d._ord[e.useLang](b.getDate()):d._ord["default"](b.getDate());case"j":return c=new Date(b.getFullYear(),0,1),c=Math.ceil((b-c)/864e5)+1,(100>c?10>c?"00":"0":"")+String(c);case"G":return 1===b.getWeek(4)&&b.getMonth()>0?b.getFullYear()+1:b.getWeek(4)>51&&b.getMonth()<11?b.getFullYear()-1:b.getFullYear();case"g":return 1===b.getWeek(4)&&b.getMonth()>0?parseInt(b.getFullYear().toString().substr(2,2),10)+1:b.getWeek(4)>51&&b.getMonth()<11?parseInt(b.getFullYear().toString().substr(2,2),10)-1:b.getFullYear().toString().substr(2,2);default:return a}}),d.__("useArabicIndic")===!0&&(a=d._dRep(a)),a},_btwn:function(a,b,c){return a>b&&c>a},_minStepFix:function(){var a=this.theDate.get(4),b=this,c=this.options;c.minuteStep>1&&a%c.minuteStep>0&&(c.minuteStepRound<0?a-=a%c.minuteStep:c.minStepRound>0?a+=c.minuteStep-a%c.minuteStep:a%c.minuteStep<c.minuteStep/2?a-=a%c.minuteStep:a+=c.minuteStep-a%c.minuteStep,b.theDate.setMinutes(a))},_offset:function(b,c,d){var e=this,f=this.options,g=!1;if(b=(b||"").toLowerCase(),"undefined"==typeof d&&(d=!0),e.d.input.trigger("datebox",{method:"offset",type:b,amount:c}),"a"===b||"undefined"!=typeof f.rolloverMode[b]&&f.rolloverMode[b]!==!0)switch(b){case"y":g=0;break;case"m":e._btwn(e.theDate.getMonth()+c,-1,12)&&(g=1);break;case"d":e._btwn(e.theDate.getDate()+c,0,32-e.theDate.copy([0],[0,0,32,13]).getDate()+1)&&(g=2);break;case"h":e._btwn(e.theDate.getHours()+c,-1,24)&&(g=3);break;case"i":e._btwn(e.theDate.getMinutes()+c,-1,60)&&(g=4);break;case"s":e._btwn(e.theDate.getSeconds()+c,-1,60)&&(g=5);break;case"a":e._offset("h",12*(c>0?1:-1),!1)}else g=a.inArray(b,["y","m","d","h","i","s"]);g!==!1&&e.theDate.adj(g,c),d===!0&&e.refresh(),f.useImmediate&&e.d.input.trigger("datebox",{method:"doset"})},_create:function(){a(document).trigger("dateboxcreate");var b=this,c=a.extend(this.options,"undefined"!=typeof this.element.jqmData("options")?this.element.jqmData("options"):this._getLongOptions(this.element)),d=c.theme===!1&&"undefined"==typeof a(this).jqmData("theme")?"undefined"==typeof this.element.parentsUntil(":jqmData(theme)").parent().jqmData("theme")?c.themeDefault:this.element.parentsUntil(":jqmData(theme)").parent().jqmData("theme"):c.theme,e=c.useAnimation?c.transition:"none",f=c.useNewStyle===!1?{input:this.element,wrap:this.element.wrap('<div class="ui-input-datebox ui-shadow-inset ui-corner-all '+(this.element.jqmData("mini")===!0?"ui-mini ":"")+"ui-body-"+d+'"></div>').parent(),mainWrap:a("<div>",{"class":"ui-datebox-container ui-overlay-shadow ui-corner-all ui-datebox-hidden "+e+" ui-body-"+d}).css("zIndex",c.zindex),intHTML:!1}:{input:this.element,wrap:this.element,mainWrap:a("<div>",{"class":"ui-datebox-container ui-overlay-shadow ui-corner-all ui-datebox-hidden "+e+" ui-body-"+d}).css("zIndex",c.zindex),intHTML:!1},g="undefined"!=typeof window.ontouchstart,h={eStart:(g?"touchstart":"mousedown")+".datebox",eMove:(g?"touchmove":"mousemove")+".datebox",eEnd:(g?"touchend":"mouseup")+".datebox",eEndA:g?"mouseup.datebox touchend.datebox touchcancel.datebox touchmove.datebox":"mouseup.datebox",move:!1,start:!1,end:!1,pos:!1,target:!1,delta:!1,tmp:!1},i="undefined"!=typeof a.mobile.ns?a.mobile.ns:"";a.extend(b,{d:f,ns:i,drag:h,touch:g}),c.usePlaceholder!==!1&&(c.usePlaceholder===!0&&b._grabLabel()!==!1&&b.d.input.attr("placeholder",b._grabLabel()),"string"==typeof c.usePlaceholder&&b.d.input.attr("placeholder",c.usePlaceholder)),c.theme=d,b.clearFunc=!1,b.disabled=!1,b.runButton=!1,b._date=window.Date,b._enhanceDate(),b.initDate=new b._date,b.theDate=c.defaultValue?b._makeDate(c.defaultValue):new b._date,b.initDone=!1,c.useButton===!0&&c.useInline===!1&&c.useNewStyle===!1&&(b.d.open=a('<a href="#" class="ui-input-clear" title="'+this.__("tooltip")+'">'+this.__("tooltip")+"</a>").on(c.clickEvent,function(c){c.preventDefault(),b.disabled||(b.d.input.trigger("datebox",{method:"open"}),b.d.wrap.addClass("ui-focus")),setTimeout(function(){a(c.target).closest("a").removeClass(a.mobile.activeBtnClass)},300)}).appendTo(b.d.wrap).buttonMarkup({icon:"grid",iconpos:"notext",corners:!0,shadow:!0}).css({"vertical-align":"middle",display:"inline-block"})),b.d.screen=a("<div>",{"class":"ui-datebox-screen ui-datebox-hidden"+(c.useModal?" ui-datebox-screen-modal":"")}).css({"z-index":c.zindex-1}).on(c.clickEventAlt,function(a){a.preventDefault(),b.d.input.trigger("datebox",{method:"close"})}),b.inputType=c.enhanceInput===!0&&navigator.userAgent.match(/Android/i)?"number":"text",c.hideInput&&b.d.wrap.hide(),a("label[for='"+b.d.input.attr("id")+"']").addClass("ui-input-text").css("verticalAlign","middle"),b.d.wrap.on(c.clickEvent,function(){b.disabled||!c.noButtonFocusMode&&!c.focusMode||(b.d.input.trigger("datebox",{method:"open"}),b.d.wrap.addClass("ui-focus"),b.d.input.removeClass("ui-focus"))}),b.d.input.removeClass("ui-corner-all ui-shadow-inset").bind(b.touch?"touchend":"click",function(a){b.disabled===!1&&c.useNewStyle===!0&&c.useFocus===!1&&(b.touch?a.originalEvent.changedTouches[0].pageX:a.pageX)-a.target.offsetLeft>a.target.offsetWidth-20&&(b.d.input.trigger("datebox",{method:"open"}),b.d.wrap.addClass("ui-focus"))}).focus(function(){b.disabled===!1&&c.useFocus===!0&&(b.d.input.trigger("datebox",{method:"open"}),b.d.wrap.addClass("ui-focus")),c.useNewStyle===!1&&b.d.input.removeClass("ui-focus")}).blur(function(){b.d.wrap.removeClass("ui-focus"),b.d.input.removeClass("ui-focus")}).change(function(){b.theDate=b._makeDate(b.d.input.val()),b.refresh()}).attr("readonly",c.lockInput).on("datebox",b._event),c.useNewStyle===!0&&(b.d.input.addClass("ui-shadow-inset ui-corner-all "+(c.useAltIcon===!0?"ui-icon-datebox-alt":"ui-icon-datebox")),c.overrideStyleClass!==!1&&b.d.input.addClass(c.overrideStyleClass)),"undefined"!=typeof a.event.special.mousewheel&&(b.wheelExists=!0),b.d.input.is(":disabled")&&b.disable(),(c.useInline===!0||c.useInlineBlind)&&b.open(),a(document).trigger("dateboxaftercreate")},_build:{"default":function(){this.d.headerText="Error",this.d.intHTML=a("<div class='ui-body-e'><h2 style='text-align:center'>There is no mode by that name loaded / mode not given</h2></div>")}},_applyCoords:function(b){var c=b.widget,d=b.widget.options,e={h:a.mobile.activePage.find(".ui-header").jqmData("position"),f:a.mobile.activePage.find(".ui-footer").jqmData("position"),fh:a.mobile.activePage.find(".ui-footer").outerHeight(),hh:a.mobile.activePage.find(".ui-header").outerHeight()},f={x:c.d.wrap.offset().left+c.d.wrap.outerWidth()/2,y:c.d.wrap.offset().top+c.d.wrap.outerHeight()/2},g={w:c.d.mainWrap.outerWidth(),h:c.d.mainWrap.outerHeight()},h={t:a(window).scrollTop(),h:a(window).height(),w:a.mobile.activePage.width(),ah:a(document).height()},i={y:d.centerVert?h.t+(h.h/2-g.h/2):f.y-g.h/2,x:h.w<400||d.centerHoriz?h.w/2-g.w/2:f.x-g.w/2};d.centerVert===!1&&(d.hideFixedToolbars!==!0||"undefined"==typeof e.f&&"undefined"==typeof e.h||(a.mobile.activePage.find(":jqmData(position='fixed')").fixedtoolbar("hide"),e.f=void 0,e.h=void 0),"undefined"!=typeof e.f?i.y+g.h>h.h-e.fh-2&&(i.y=h.h-e.fh-2-g.h):(i.y+g.h>h.ah-e.fh-2&&(i.y=h.ah-e.fh-2-g.h),h.h+h.t<g.h+i.y+2&&(i.y=h.h+h.t-g.h-2)),"undefined"!=typeof e.h?h.t+e.hh+2>i.y&&(i.y=h.t+e.hh+2):(e.hh+2>i.y&&(i.y=e.hh+2),i.y<h.t+2&&(i.y=h.t+2))),c.d.mainWrap.css({position:"absolute",top:i.y,left:i.x})},_drag:{"default":function(){return!1}},open:function(){var b=this,c=this.options,d="data-"+this.ns,e=c.useAnimation?c.transition:"none";return c.useFocus===!0&&b.fastReopen===!0?(b.d.input.blur(),!1):(b.clearFunc!==!1&&(clearTimeout(b.clearFunc),b.clearFunc=!1),c.openCallback!==!1&&(a.isFunction(c.openCallback)||(c.openCallback="undefined"!=typeof window[c.openCallback]?window[c.openCallback]:new Function(c.openCallback)),c.openCallback.apply(b,a.merge([b.theDate],c.openCallbackArgs))===!1)?!1:(b.theDate=b._makeDate(b.d.input.val()),b.d.input.blur(),"undefined"==typeof b._build[c.mode]?b._build["default"].apply(b,[]):b._build[c.mode].apply(b,[]),"undefined"!=typeof b._drag[c.mode]&&b._drag[c.mode].apply(b,[]),b.d.input.trigger("datebox",{method:"refresh"}),b.__("useArabicIndic")===!0&&b._doIndic(),c.useInline!==!0&&c.useInlineBlind!==!0||b.initDone!==!1||(b.d.mainWrap.append(b.d.intHTML),b.d.input.parent().parent().append(b.d.mainWrap),b.d.mainWrap.removeClass("ui-datebox-hidden"),c.useInline===!0?b.d.mainWrap.addClass("ui-datebox-inline"):(b.d.mainWrap.addClass("ui-datebox-inlineblind"),b.d.mainWrap.hide()),b.initDone=!1,b.d.input.trigger("datebox",{method:"postrefresh"})),c.useImmediate&&b.d.input.trigger("datebox",{method:"doset"}),c.useInline?!0:c.useInlineBlind?(b.initDone?b.d.mainWrap.slideDown():b.initDone=!0,!0):b.d.intHTML.is(":visible")?!1:(c.dialogForce||c.dialogEnable&&window.width()<400?(b.d.dialogPage=a("<div "+d+"role='dialog' "+d+"theme='"+c.theme+"' ><div "+d+"role='header' "+d+"theme='"+c.themeHeader+"'><h1>"+b.d.headerText+"</h1></div><div "+d+"role='content'></div>").appendTo(a.mobile.pageContainer).page().css("minHeight","0px").addClass(e),b.d.dialogPage.find(".ui-header").find("a").off("click vclick").on(c.clickEventAlt,function(a){a.preventDefault(),b.d.input.trigger("datebox",{method:"close"})}),b.d.mainWrap.append(b.d.intHTML).css({marginLeft:"auto",marginRight:"auto"}).removeClass("ui-datebox-hidden"),b.d.dialogPage.find(".ui-content").append(b.d.mainWrap),b.d.input.trigger("datebox",{method:"postrefresh"}),a.mobile.activePage.off("pagehide.remove"),a.mobile.changePage(b.d.dialogPage,{transition:e})):(b.d.dialogPage=!1,b.d.mainWrap.empty(),c.useHeader===!0&&(b.d.headHTML=a('<div class="ui-header ui-bar-'+c.themeHeader+'"></div>'),a("<a class='ui-btn-left' href='#'>Close</a>").appendTo(b.d.headHTML).buttonMarkup({theme:c.themeHeader,icon:"delete",iconpos:"notext",corners:!0,shadow:!0}).on(c.clickEventAlt,function(a){a.preventDefault(),b.d.input.trigger("datebox",{method:"close"})}),a('<h1 class="ui-title">'+b.d.headerText+"</h1>").appendTo(b.d.headHTML),b.d.mainWrap.append(b.d.headHTML)),b.d.mainWrap.append(b.d.intHTML).css("zIndex",c.zindex),b.d.mainWrap.appendTo(a.mobile.activePage),b.d.screen.appendTo(a.mobile.activePage),b.d.input.trigger("datebox",{method:"postrefresh"}),b._applyCoords({widget:b}),c.useModal===!0?c.useAnimation?b.d.screen.fadeIn("slow"):b.d.screen.show():setTimeout(function(){b.d.screen.removeClass("ui-datebox-hidden")},500),b.d.mainWrap.addClass("ui-overlay-shadow in").removeClass("ui-datebox-hidden"),a(document).on("orientationchange.datebox",{widget:b},function(a){b._applyCoords(a.data)}),c.resizeListener===!0&&a(window).on("resize.datebox",{widget:b},function(a){b._applyCoords(a.data)})),void 0)))},close:function(){var b=this,c=this.options;return c.useInlineBlind===!0?(b.d.mainWrap.slideUp(),!0):c.useInline===!0?!0:(b.d.dialogPage!==!1?(a(b.d.dialogPage).dialog("close"),a.mobile.activePage.jqmData("page").options.domCache||a.mobile.activePage.on("pagehide.remove",function(){a(this).remove()}),b.d.intHTML.detach().empty(),b.d.mainWrap.detach().empty(),b.d.wrap.removeClass("ui-focus"),b.clearFunc=setTimeout(function(){b.d.dialogPage.empty().remove(),b.clearFunc=!1},1500)):(c.useModal?c.useAnimation?b.d.screen.fadeOut("slow"):b.d.screen.hide():b.d.screen.addClass("ui-datebox-hidden"),b.d.screen.detach(),b.d.mainWrap.addClass("ui-datebox-hidden").removeAttr("style").removeClass("in ui-overlay-shadow").empty().detach(),b.d.intHTML.detach(),b.d.wrap.removeClass("ui-focus"),a(document).off("orientationchange.datebox"),c.resizeListener===!0&&a(window).off("resize.datebox")),a(document).off(b.drag.eMove),a(document).off(b.drag.eEnd),a(document).off(b.drag.eEndA),c.useFocus&&(b.fastReopen=!0,setTimeout(function(a){return function(){a.fastReopen=!1}}(b),300)),c.closeCallback!==!1&&(a.isFunction(c.closeCallback)||(c.closeCallback="undefined"!=typeof window[c.closeCallback]?window[c.closeCallback]:new Function(c.closeCallback)),c.closeCallback.apply(b,a.merge([b.theDate],c.closeCallbackArgs))),void 0)},refresh:function(){"undefined"==typeof this._build[this.options.mode]?this._build["default"].apply(this,[]):this._build[this.options.mode].apply(this,[]),this.__("useArabicIndic")===!0&&this._doIndic(),this.d.mainWrap.append(this.d.intHTML),this.d.input.trigger("datebox",{method:"postrefresh"})},_check:function(){var b=this,c=null,d=this.options;b.dateOK=!0,d.afterToday!==!1&&(c=new b._date,b.theDate<c&&(b.theDate=c)),d.beforeToday!==!1&&(c=new b._date,b.theDate>c&&(b.theDate=c)),d.maxDays!==!1&&(c=new b._date,c.adj(2,d.maxDays),b.theDate>c&&(b.theDate=c)),d.minDays!==!1&&(c=new b._date,c.adj(2,-1*d.minDays),b.theDate<c&&(b.theDate=c)),d.minHour!==!1&&b.theDate.getHours()<d.minHour&&b.theDate.setHours(d.minHour),d.maxHour!==!1&&b.theDate.getHours()>d.maxHour&&b.theDate.setHours(d.maxHour),d.maxYear!==!1&&(c=new b._date(d.maxYear,0,1),c.adj(2,-1),b.theDate>c&&(b.theDate=c)),d.minYear!==!1&&(c=new b._date(d.minYear,0,1),b.theDate<c&&(b.theDate=c)),a.inArray(d.mode,["timebox","durationbox","timeflipbox"])>-1?"timeflipbox"===d.mode&&d.validHours!==!1&&a.inArray(b.theDate.getHours(),d.validHours)<0&&(b.dateOK=!1):(d.blackDates!==!1&&a.inArray(b.theDate.iso(),d.blackDates)>-1&&(b.dateOK=!1),d.blackDays!==!1&&a.inArray(b.theDate.getDay(),d.blackDays)>-1&&(b.dateOK=!1))},_grabLabel:function(){var a=this,b=this.options;return"undefined"==typeof b.overrideDialogLabel?"undefined"!=typeof a.d.input.attr("title")?a.d.input.attr("title"):""!==a.d.wrap.parent().find("label[for="+a.d.input.attr("id")+"]").text()?a.d.wrap.parent().find("label[for="+a.d.input.attr("id")+"]").text():!1:b.overrideDialogLabel},_makeEl:function(a,b){var c=!1,d=!1;if(d=a.clone(),"undefined"!=typeof b.attr)for(c in b.attr)b.attr.hasOwnProperty(c)&&d.jqmData(c,b.attr[c]);return d},_getLongOptions:function(b){var c,d,e,f={};d=""===a.mobile.ns?"datebox":a.mobile.ns.substr(0,a.mobile.ns.length-1)+"Datebox";for(c in b.data())c.substr(0,d.length)===d&&c.length>d.length&&(e=c.substr(d.length),e=e.charAt(0).toLowerCase()+e.slice(1),f[e]=b.data(c));return f},disable:function(){this.d.input.attr("disabled",!0),this.d.wrap.addClass("ui-disabled").blur(),this.disabled=!0,this.d.input.trigger("datebox",{method:"disable"})},enable:function(){this.d.input.attr("disabled",!1),this.d.wrap.removeClass("ui-disabled"),this.disabled=!1,this.d.input.trigger("datebox",{method:"enable"})},_setOption:function(){a.Widget.prototype._setOption.apply(this,arguments),this.refresh()}}),a(document).on("pagebeforecreate",function(b){a(":jqmData(role='datebox')",b.target).each(function(){a(this).prop("type","text")})}),a(document).on("pagecreate create",function(b){a(document).trigger("dateboxbeforecreate"),a(":jqmData(role='datebox')",b.target).each(function(){"undefined"==typeof a(this).data("datebox")&&a(this).datebox()})})}(jQuery),function(a){a.extend(a.mobile.datebox.prototype.options,{themeDateToday:"a",themeDayHigh:"e",themeDatePick:"a",themeDateHigh:"e",themeDateHighAlt:"e",themeDate:"d",calHighToday:!0,calHighPick:!0,calShowDays:!0,calOnlyMonth:!1,calWeekMode:!1,calWeekModeDay:1,calWeekHigh:!1,calControlGroup:!1,calShowWeek:!1,calUsePickers:!1,calNoHeader:!1,useTodayButton:!1,useCollapsedBut:!1,highDays:!1,highDates:!1,highDatesAlt:!1,enableDates:!1}),a.extend(a.mobile.datebox.prototype,{_cal_gen:function(a,b,c,d,e){var f=0,g=0,h=1,i=1,j=[],k=[],l=!1;for(f=0;5>=f;f++)if(l===!1){for(k=[],g=0;6>=g;g++)0===f&&a>g?d===!0?k.push([b+(g-a)+1,e-1]):k.push(!1):f>3&&h>c?(d===!0?(k.push([i,e+1]),i++):k.push(!1),l=!0):(k.push([h,e]),h++,h>c&&(l=!0));j.push(k)}return j},_cal_check:function(b,c,d,e){var f=this,g=this.options,h={},i=new this._date(c,d,e,0,0,0,0).getDay();return h.ok=!0,h.iso=c+"-"+f._zPad(d+1)+"-"+f._zPad(e),h.comp=parseInt(h.iso.replace(/-/g,""),10),h.theme=g.themeDate,a.isArray(g.enableDates)&&a.inArray(h.iso,g.enableDates)<0?h.ok=!1:b.checkDates&&(g.afterToday===!0&&b.thisDate.comp()>h.comp||g.beforeToday===!0&&b.thisDate.comp()<h.comp||g.notToday===!0&&b.thisDate.comp()===h.comp||g.maxDays!==!1&&b.maxDate.comp()<h.comp||g.minDays!==!1&&b.minDate.comp()>h.comp||a.isArray(g.blackDays)&&a.inArray(i,g.blackDays)>-1||a.isArray(g.blackDates)&&a.inArray(h.iso,g.blackDates)>-1)&&(h.ok=!1),h.ok&&(g.calHighPick&&e===b.presetDay?h.theme=g.themeDatePick:g.calHighToday&&h.comp===b.thisDate.comp()?h.theme=g.themeDateToday:a.isArray(g.highDatesAlt)&&a.inArray(h.iso,g.highDatesAlt)>-1?h.theme=g.themeDateHighAlt:a.isArray(g.highDates)&&a.inArray(h.iso,g.highDates)>-1?h.theme=g.themeDateHigh:a.isArray(g.highDays)&&a.inArray(i,g.highDays)>-1&&(h.theme=g.themeDayHigh)),h}}),a.extend(a.mobile.datebox.prototype._build,{calbox:function(){var b,c=this,d=this.options,e=!1,f="ui-datebox-",g=!1,h=!1,i=!1,j=!1,k=!1;if("boolean"!=typeof c.d.intHTML&&c.d.intHTML.remove(),c.d.headerText=c._grabLabel()!==!1?c._grabLabel():c.__("titleDateDialogLabel"),c.d.intHTML=a("<span>"),a('<div class="'+f+'gridheader"><div class="'+f+'gridlabel"><h4>'+c.__("monthsOfYear")[c.theDate.getMonth()]+" "+c.theDate.getFullYear()+"</h4></div></div>").appendTo(c.d.intHTML),a("<div class='"+f+"gridplus"+(c.__("isRTL")?"-rtl":"")+"'><a href='#'>"+c.__("nextMonth")+"</a></div>").prependTo(c.d.intHTML.find("."+f+"gridheader")).buttonMarkup({theme:d.themeDate,icon:"arrow-r",inline:!0,iconpos:"notext",corners:!0,shadow:!0}).on(d.clickEventAlt,function(a){a.preventDefault(),c.calNext&&(c.theDate.getDate()>28&&c.theDate.setDate(1),c._offset("m",1))}),a("<div class='"+f+"gridminus"+(c.__("isRTL")?"-rtl":"")+"'><a href='#'>"+c.__("prevMonth")+"</a></div>").prependTo(c.d.intHTML.find("."+f+"gridheader")).buttonMarkup({theme:d.themeDate,icon:"arrow-l",inline:!0,iconpos:"notext",corners:!0,shadow:!0}).on(d.clickEventAlt,function(a){a.preventDefault(),c.calPrev&&(c.theDate.getDate()>28&&c.theDate.setDate(1),c._offset("m",-1))}),d.calNoHeader===!0&&c.d.intHTML.find("."+f+"gridheader").remove(),e={today:-1,highlightDay:-1,presetDay:-1,startDay:c.__("calStartDay"),thisDate:new c._date,maxDate:c.initDate.copy(),minDate:c.initDate.copy(),currentMonth:!1,weekMode:0,weekDays:null},e.start=(c.theDate.copy([0],[0,0,1]).getDay()-c.__("calStartDay")+7)%7,e.thisMonth=c.theDate.getMonth(),e.thisYear=c.theDate.getFullYear(),e.wk=c.theDate.copy([0],[0,0,1]).adj(2,-1*e.start+(0===c.__("calStartDay")?1:0)).getWeek(4),e.end=32-c.theDate.copy([0],[0,0,32,13]).getDate(),e.lastend=32-c.theDate.copy([0,-1],[0,0,32,13]).getDate(),e.presetDate=c._makeDate(c.d.input.val()),e.thisDateArr=e.thisDate.getArray(),e.theDateArr=c.theDate.getArray(),e.checkDates=a.inArray(!1,[d.afterToday,d.beforeToday,d.notToday,d.maxDays,d.minDays,d.blackDates,d.blackDays])>-1,c.calNext=!0,c.calPrev=!0,e.thisDateArr[0]===e.theDateArr[0]&&e.thisDateArr[1]===e.theDateArr[1]&&(e.currentMonth=!0),e.presetDate.comp()===c.theDate.comp()&&(e.presetDay=e.presetDate.getDate()),d.afterToday===!0&&(e.currentMonth===!0||e.thisDateArr[1]>=e.theDateArr[1]&&e.theDateArr[0]===e.thisDateArr[0])&&(c.calPrev=!1),d.beforeToday===!0&&(e.currentMonth===!0||e.thisDateArr[1]<=e.theDateArr[1]&&e.theDateArr[0]===e.thisDateArr[0])&&(c.calNext=!1),d.minDays!==!1&&(e.minDate.adj(2,-1*d.minDays),e.theDateArr[0]===e.minDate.getFullYear()&&e.theDateArr[1]<=e.minDate.getMonth()&&(c.calPrev=!1)),d.maxDays!==!1&&(e.maxDate.adj(2,d.maxDays),e.theDateArr[0]===e.maxDate.getFullYear()&&e.theDateArr[1]>=e.maxDate.getMonth()&&(c.calNext=!1)),d.calUsePickers===!0){for(e.picker=a("<div>",{"class":"ui-grid-a ui-datebox-grid",style:"padding-top: 5px; padding-bottom: 5px;"}),e.picker1=a('<div class="ui-block-a"><select name="pickmon"></select></div>').appendTo(e.picker).find("select"),e.picker2=a('<div class="ui-block-b"><select name="pickyar"></select></div>').appendTo(e.picker).find("select"),b=0;11>=b;b++)e.picker1.append(a('<option value="'+b+'"'+(e.thisMonth===b?' selected="selected"':"")+">"+c.__("monthsOfYear")[b]+"</option>"));for(b=e.thisYear-6;b<=e.thisYear+6;b++)e.picker2.append(a('<option value="'+b+'"'+(e.thisYear===b?' selected="selected"':"")+">"+b+"</option>"));e.picker1.on("change",function(){c.theDate.setMonth(a(this).val()),c.refresh()}),e.picker2.on("change",function(){c.theDate.setFullYear(a(this).val()),c.refresh()}),e.picker.find("select").selectmenu({mini:!0,nativeMenu:!0}),e.picker.appendTo(c.d.intHTML)}if(g=a('<div class="'+f+'grid">').appendTo(c.d.intHTML),d.calShowDays)for(c._cal_days=c.__("daysOfWeekShort").concat(c.__("daysOfWeekShort")),e.weekDays=a("<div>",{"class":f+"gridrow"}).appendTo(g),c.__("isRTL")===!0&&e.weekDays.css("direction","rtl"),d.calShowWeek&&a("<div>").addClass(f+"griddate "+f+"griddate-empty "+f+"griddate-label").appendTo(e.weekDays),b=0;6>=b;b++)a("<div>"+c._cal_days[(b+e.startDay)%7]+"</div>").addClass(f+"griddate "+f+"griddate-empty "+f+"griddate-label").appendTo(e.weekDays);e.gen=c._cal_gen(e.start,e.lastend,e.end,!d.calOnlyMonth,c.theDate.getMonth());for(var h=0,l=e.gen.length;l>h;h++){j=a("<div>",{"class":f+"gridrow"}),c.__("isRTL")&&j.css("direction","rtl"),d.calShowWeek&&(a("<div>",{"class":f+"griddate "+f+"griddate-empty"}).text("W"+e.wk).appendTo(j),e.wk++,e.wk>52&&"undefined"!=typeof e.gen[parseInt(h,10)+1]&&(e.wk=new Date(e.theDateArr[0],e.theDateArr[1],0===c.__("calStartDay")?e.gen[parseInt(h,10)+1][1][0]:e.gen[parseInt(h,10)+1][0][0]).getWeek(4)));for(var i=0,m=e.gen[h].length;m>i;i++)d.calWeekMode&&(e.weekMode=e.gen[h][d.calWeekModeDay][0]),"boolean"==typeof e.gen[h][i]?a("<div>",{"class":f+"griddate "+f+"griddate-empty"}).appendTo(j):(k=c._cal_check(e,e.theDateArr[0],e.gen[h][i][1],e.gen[h][i][0]),e.gen[h][i][0]&&a("<div>"+String(e.gen[h][i][0])+"</div>").addClass(e.thisMonth===e.gen[h][i][1]?f+"griddate ui-corner-all ui-btn-up-"+k.theme+(k.ok?"":" "+f+"griddate-disable"):f+"griddate "+f+"griddate-empty").jqmData("date",d.calWeekMode?e.weekMode:e.gen[h][i][0]).jqmData("theme",e.thisMonth===e.gen[h][i][1]?k.theme:"-").jqmData("enabled",k.ok).jqmData("month",e.gen[h][i][1]).appendTo(j));
d.calControlGroup===!0&&j.find(".ui-corner-all").removeClass("ui-corner-all").eq(0).addClass("ui-corner-left").end().last().addClass("ui-corner-right").addClass("ui-controlgroup-last"),j.appendTo(g)}d.calShowWeek&&g.find("."+f+"griddate").addClass(f+"griddate-week"),(d.useTodayButton||d.useClearButton)&&(j=a("<div>",{"class":f+"controls"}),d.useTodayButton&&a('<a href="#">'+c.__("calTodayButtonLabel")+"</a>").appendTo(j).buttonMarkup({theme:d.theme,icon:"check",iconpos:"left",corners:!0,shadow:!0}).on(d.clickEvent,function(a){a.preventDefault(),c.theDate=new c._date,c.theDate=new c._date(c.theDate.getFullYear(),c.theDate.getMonth(),c.theDate.getDate(),0,0,0,0),c.d.input.trigger("datebox",{method:"doset"})}),d.useClearButton&&a('<a href="#">'+c.__("clearButton")+"</a>").appendTo(j).buttonMarkup({theme:d.theme,icon:"delete",iconpos:"left",corners:!0,shadow:!0}).on(d.clickEventAlt,function(a){a.preventDefault(),c.d.input.val(""),c.d.input.trigger("datebox",{method:"clear"}),c.d.input.trigger("datebox",{method:"close"})}),d.useCollapsedBut&&j.addClass("ui-datebox-collapse"),j.appendTo(g)),c.d.intHTML.on(d.clickEventAlt+" vmouseover vmouseout","div."+f+"griddate",function(b){b.type===d.clickEventAlt?(b.preventDefault(),a(this).jqmData("enabled")&&(c.theDate.set(2,1).set(1,a(this).jqmData("month")).set(2,a(this).jqmData("date")),c.d.input.trigger("datebox",{method:"set",value:c._formatter(c.__fmt(),c.theDate),date:c.theDate}),c.d.input.trigger("datebox",{method:"close"}))):a(this).jqmData("enabled")&&"undefined"!=typeof a(this).jqmData("theme")&&(d.calWeekMode!==!1&&d.calWeekHigh===!0?a(this).parent().find("div").each(function(){c._hoover(this)}):c._hoover(this))}),c.d.intHTML.on("swipeleft",function(){c.calNext&&c._offset("m",1)}).on("swiperight",function(){c.calPrev&&c._offset("m",-1)}),c.wheelExists&&c.d.intHTML.on("mousewheel",function(a,b){a.preventDefault(),b>0&&c.calNext&&(c.theDate.set(2,1),c._offset("m",1)),0>b&&c.calPrev&&(c.theDate.set(2,1),c._offset("m",-1))})}})}(jQuery),function(a,b){function c(a){return K.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function d(a){if(!tc[a]){var b=H.body,c=K("<"+a+">").appendTo(b),d=c.css("display");c.remove(),("none"===d||""===d)&&(pc||(pc=H.createElement("iframe"),pc.frameBorder=pc.width=pc.height=0),b.appendChild(pc),qc&&pc.createElement||(qc=(pc.contentWindow||pc.contentDocument).document,qc.write(("CSS1Compat"===H.compatMode?"<!doctype html>":"")+"<html><body>"),qc.close()),c=qc.createElement(a),qc.body.appendChild(c),d=K.css(c,"display"),b.removeChild(pc)),tc[a]=d}return tc[a]}function e(a,b){var c={};return K.each(wc.concat.apply([],wc.slice(0,b)),function(){c[this]=a}),c}function f(){sc=b}function g(){return setTimeout(f,0),sc=K.now()}function h(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function i(){try{return new a.XMLHttpRequest}catch(b){}}function j(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d,e,f,g,h,i,j,k,l=a.dataTypes,m={},n=l.length,o=l[0];for(d=1;n>d;d++){if(1===d)for(e in a.converters)"string"==typeof e&&(m[e.toLowerCase()]=a.converters[e]);if(g=o,o=l[d],"*"===o)o=g;else if("*"!==g&&g!==o){if(h=g+" "+o,i=m[h]||m["* "+o],!i){k=b;for(j in m)if(f=j.split(" "),(f[0]===g||"*"===f[0])&&(k=m[f[1]+" "+o])){j=m[j],j===!0?i=k:k===!0&&(i=j);break}}!i&&!k&&K.error("No conversion from "+h.replace(" "," to ")),i!==!0&&(c=i?i(c):k(j(c)))}}return c}function k(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function l(a,b,c,d){if(K.isArray(b))K.each(b,function(b,e){c||Tb.test(a)?d(a,e):l(a+"["+("object"==typeof e||K.isArray(e)?b:"")+"]",e,c,d)});else if(c||null==b||"object"!=typeof b)d(a,b);else for(var e in b)l(a+"["+e+"]",b[e],c,d)}function m(a,c){var d,e,f=K.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&K.extend(!0,a,e)}function n(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===gc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=n(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=n(a,c,d,e,"*",g)),h}function o(a){return function(b,c){if("string"!=typeof b&&(c=b,b="*"),K.isFunction(c))for(var d,e,f,g=b.toLowerCase().split(cc),h=0,i=g.length;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function p(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e="width"===b?Ob:Pb,f=0,g=e.length;if(d>0){if("border"!==c)for(;g>f;f++)c||(d-=parseFloat(K.css(a,"padding"+e[f]))||0),"margin"===c?d+=parseFloat(K.css(a,c+e[f]))||0:d-=parseFloat(K.css(a,"border"+e[f]+"Width"))||0;return d+"px"}if(d=Eb(a,b,b),(0>d||null==d)&&(d=a.style[b]||0),d=parseFloat(d)||0,c)for(;g>f;f++)d+=parseFloat(K.css(a,"padding"+e[f]))||0,"padding"!==c&&(d+=parseFloat(K.css(a,"border"+e[f]+"Width"))||0),"margin"===c&&(d+=parseFloat(K.css(a,c+e[f]))||0);return d+"px"}function q(a,b){b.src?K.ajax({url:b.src,async:!1,dataType:"script"}):K.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Bb,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function r(a){var b=H.createElement("div");return Db.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function s(a){var b=(a.nodeName||"").toLowerCase();"input"===b?t(a):"script"!==b&&"undefined"!=typeof a.getElementsByTagName&&K.grep(a.getElementsByTagName("input"),t)}function t(a){("checkbox"===a.type||"radio"===a.type)&&(a.defaultChecked=a.checked)}function u(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function v(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?b.outerHTML=a.outerHTML:"input"!==c||"checkbox"!==a.type&&"radio"!==a.type?"option"===c?b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(K.expando))}function w(a,b){if(1===b.nodeType&&K.hasData(a)){var c,d,e,f=K._data(a),g=K._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)K.event.add(b,c+(h[c][d].namespace?".":"")+h[c][d].namespace,h[c][d],h[c][d].data)}g.data&&(g.data=K.extend({},g.data))}}function x(a){return K.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function y(a){var b=pb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function z(a,b,c){if(b=b||0,K.isFunction(b))return K.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return K.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=K.grep(a,function(a){return 1===a.nodeType});if(lb.test(b))return K.filter(b,d,!c);b=K.filter(b,d)}return K.grep(a,function(a){return K.inArray(a,b)>=0===c})}function A(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function B(){return!0}function C(){return!1}function D(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=K._data(a,d);!(!g||"queue"!==c&&K._data(a,e)||"mark"!==c&&K._data(a,f)||!setTimeout(function(){!K._data(a,e)&&!K._data(a,f)&&(K.removeData(a,d,!0),g.fire())},0))}function E(a){for(var b in a)if(("data"!==b||!K.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function F(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(O,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:K.isNumeric(d)?parseFloat(d):N.test(d)?K.parseJSON(d):d}catch(f){}K.data(a,c,d)}else d=b}return d}function G(a){var b,c,d=L[a]={};for(a=a.split(/\s+/),b=0,c=a.length;c>b;b++)d[a[b]]=!0;return d}var H=a.document,I=a.navigator,J=a.location,K=function(){function c(){if(!h.isReady){try{H.documentElement.doScroll("left")}catch(a){return setTimeout(c,1),void 0}h.ready()}}var d,e,f,g,h=function(a,b){return new h.fn.init(a,b,d)},i=a.jQuery,j=a.$,k=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/\S/,m=/^\s+/,n=/\s+$/,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,p=/^[\],:{}\s]*$/,q=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,t=/(webkit)[ \/]([\w.]+)/,u=/(opera)(?:.*version)?[ \/]([\w.]+)/,v=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,x=/-([a-z]|[0-9])/gi,y=/^-ms-/,z=function(a,b){return(b+"").toUpperCase()},A=I.userAgent,B=Object.prototype.toString,C=Object.prototype.hasOwnProperty,D=Array.prototype.push,E=Array.prototype.slice,F=String.prototype.trim,G=Array.prototype.indexOf,J={};return h.fn=h.prototype={constructor:h,init:function(a,c,d){var e,f,g,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!c&&H.body)return this.context=H,this[0]=H.body,this.selector=a,this.length=1,this;if("string"==typeof a){if(e="<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||a.length<3?k.exec(a):[null,a,null],e&&(e[1]||!c)){if(e[1])return c=c instanceof h?c[0]:c,i=c?c.ownerDocument||c:H,g=o.exec(a),g?h.isPlainObject(c)?(a=[H.createElement(g[1])],h.fn.attr.call(a,c,!0)):a=[i.createElement(g[1])]:(g=h.buildFragment([e[1]],[i]),a=(g.cacheable?h.clone(g.fragment):g.fragment).childNodes),h.merge(this,a);if(f=H.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=H,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return h.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),h.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return h.isArray(a)?D.apply(d,a):h.merge(d,a),d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return h.each(this,a,b)},ready:function(a){return h.bindReady(),f.add(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(h.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},h.fn.init.prototype=h.fn,h.extend=h.fn.extend=function(){var a,c,d,e,f,g,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"!=typeof i&&!h.isFunction(i)&&(i={}),k===j&&(i=this,--j);k>j;j++)if(null!=(a=arguments[j]))for(c in a)d=i[c],e=a[c],i!==e&&(l&&e&&(h.isPlainObject(e)||(f=h.isArray(e)))?(f?(f=!1,g=d&&h.isArray(d)?d:[]):g=d&&h.isPlainObject(d)?d:{},i[c]=h.extend(l,g,e)):e!==b&&(i[c]=e));return i},h.extend({noConflict:function(b){return a.$===h&&(a.$=j),b&&a.jQuery===h&&(a.jQuery=i),h},isReady:!1,readyWait:1,holdReady:function(a){a?h.readyWait++:h.ready(!0)},ready:function(a){if(a===!0&&!--h.readyWait||a!==!0&&!h.isReady){if(!H.body)return setTimeout(h.ready,1);if(h.isReady=!0,a!==!0&&--h.readyWait>0)return;f.fireWith(H,[h]),h.fn.trigger&&h(H).trigger("ready").off("ready")}},bindReady:function(){if(!f){if(f=h.Callbacks("once memory"),"complete"===H.readyState)return setTimeout(h.ready,1);if(H.addEventListener)H.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",h.ready,!1);else if(H.attachEvent){H.attachEvent("onreadystatechange",g),a.attachEvent("onload",h.ready);var b=!1;try{b=null==a.frameElement}catch(d){}H.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return"function"===h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):J[B.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==h.type(a)||a.nodeType||h.isWindow(a))return!1;try{if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||C.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){return"string"==typeof b&&b?(b=h.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):p.test(b.replace(q,"@").replace(r,"]").replace(s,""))?new Function("return "+b)():(h.error("Invalid JSON: "+b),void 0)):null},parseXML:function(c){var d,e;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&h.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&l.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(y,"ms-").replace(x,z)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,g=a.length,i=g===b||h.isFunction(a);if(d)if(i){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(i){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:F?function(a){return null==a?"":F.call(a)}:function(a){return null==a?"":(a+"").replace(m,"").replace(n,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var d=h.type(a);null==a.length||"string"===d||"function"===d||"regexp"===d||h.isWindow(a)?D.call(c,a):h.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(G)return G.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if("number"==typeof c.length)for(var f=c.length;f>e;e++)a[d++]=c[e];else for(;c[e]!==b;)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d,e=[];c=!!c;for(var f=0,g=a.length;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],i=0,j=a.length,k=a instanceof h||j!==b&&"number"==typeof j&&(j>0&&a[0]&&a[j-1]||0===j||h.isArray(a));if(k)for(;j>i;i++)e=c(a[i],i,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){if("string"==typeof c){var d=a[c];c=a,a=d}if(!h.isFunction(a))return b;var e=E.call(arguments,2),f=function(){return a.apply(c,e.concat(E.call(arguments)))};return f.guid=a.guid=a.guid||f.guid||h.guid++,f},access:function(a,c,d,e,f,g){var i=a.length;if("object"==typeof c){for(var j in c)h.access(a,j,c[j],e,f,d);return a}if(d!==b){e=!g&&e&&h.isFunction(d);for(var k=0;i>k;k++)f(a[k],c,e?d.call(a[k],k,f(a[k],c)):d,g);return a}return i?f(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=t.exec(a)||u.exec(a)||v.exec(a)||a.indexOf("compatible")<0&&w.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}h.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof h&&!(d instanceof a)&&(d=a(d)),h.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(H);return a},browser:{}}),h.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),e=h.uaMatch(A),e.browser&&(h.browser[e.browser]=!0,h.browser.version=e.version),h.browser.webkit&&(h.browser.safari=!0),l.test("")&&(m=/^[\s\xA0]+/,n=/[\s\xA0]+$/),d=h(H),H.addEventListener?g=function(){H.removeEventListener("DOMContentLoaded",g,!1),h.ready()}:H.attachEvent&&(g=function(){"complete"===H.readyState&&(H.detachEvent("onreadystatechange",g),h.ready())}),h}(),L={};K.Callbacks=function(a){a=a?L[a]||G(a):{};var c,d,e,f,g,h=[],i=[],j=function(b){var c,d,e,f;for(c=0,d=b.length;d>c;c++)e=b[c],f=K.type(e),"array"===f?j(e):"function"===f&&(!a.unique||!l.has(e))&&h.push(e)},k=function(b,j){for(j=j||[],c=!a.memory||[b,j],d=!0,g=e||0,e=0,f=h.length;h&&f>g;g++)if(h[g].apply(b,j)===!1&&a.stopOnFalse){c=!0;break}d=!1,h&&(a.once?c===!0?l.disable():h=[]:i&&i.length&&(c=i.shift(),l.fireWith(c[0],c[1])))},l={add:function(){if(h){var a=h.length;j(arguments),d?f=h.length:c&&c!==!0&&(e=a,k(c[0],c[1]))}return this},remove:function(){if(h)for(var b=arguments,c=0,e=b.length;e>c;c++)for(var i=0;i<h.length&&(b[c]!==h[i]||(d&&f>=i&&(f--,g>=i&&g--),h.splice(i--,1),!a.unique));i++);return this},has:function(a){if(h)for(var b=0,c=h.length;c>b;b++)if(a===h[b])return!0;return!1},empty:function(){return h=[],this},disable:function(){return h=i=c=b,this},disabled:function(){return!h},lock:function(){return i=b,(!c||c===!0)&&l.disable(),this},locked:function(){return!i},fireWith:function(b,e){return i&&(d?a.once||i.push([b,e]):(!a.once||!c)&&k(b,e)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l};var M=[].slice;K.extend({Deferred:function(a){var b,c=K.Callbacks("once memory"),d=K.Callbacks("once memory"),e=K.Callbacks("memory"),f="pending",g={resolve:c,reject:d,notify:e},h={done:c.add,fail:d.add,progress:e.add,state:function(){return f},isResolved:c.fired,isRejected:d.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return K.Deferred(function(d){K.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c,e=b[0],f=b[1];K.isFunction(e)?i[a](function(){c=e.apply(this,arguments),c&&K.isFunction(c.promise)?c.promise().then(d.resolve,d.reject,d.notify):d[f+"With"](this===i?d:this,[c])}):i[a](d[f])})}).promise()},promise:function(a){if(null==a)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({});for(b in g)i[b]=g[b].fire,i[b+"With"]=g[b].fireWith;return i.done(function(){f="resolved"},d.disable,e.lock).fail(function(){f="rejected"},c.disable,e.lock),a&&a.call(i,i),i},when:function(a){function b(a){return function(b){g[a]=arguments.length>1?M.call(arguments,0):b,i.notifyWith(j,g)}}function c(a){return function(b){d[a]=arguments.length>1?M.call(arguments,0):b,--h||i.resolveWith(i,d)}}var d=M.call(arguments,0),e=0,f=d.length,g=Array(f),h=f,i=1>=f&&a&&K.isFunction(a.promise)?a:K.Deferred(),j=i.promise();if(f>1){for(;f>e;e++)d[e]&&d[e].promise&&K.isFunction(d[e].promise)?d[e].promise().then(c(e),i.reject,b(e)):--h;h||i.resolveWith(i,d)}else i!==a&&i.resolveWith(i,f?[a]:[]);return j}}),K.support=function(){{var b,c,d,e,f,g,h,i,j,k,l,m,n=H.createElement("div");H.documentElement}if(n.setAttribute("className","t"),n.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],!c||!c.length||!d)return{};e=H.createElement("select"),f=e.appendChild(H.createElement("option")),g=n.getElementsByTagName("input")[0],b={leadingWhitespace:3===n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==n.className,enctype:!!H.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==H.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}if(!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick")),g=H.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),n.appendChild(g),i=H.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,i.removeChild(g),i.appendChild(n),n.innerHTML="",a.getComputedStyle&&(h=H.createElement("div"),h.style.width="0",h.style.marginRight="0",n.style.width="2px",n.appendChild(h),b.reliableMarginRight=0===(parseInt((a.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0)),n.attachEvent)for(l in{submit:1,change:1,focusin:1})k="on"+l,m=k in n,m||(n.setAttribute(k,"return;"),m="function"==typeof n[k]),b[l+"Bubbles"]=m;return i.removeChild(n),i=e=f=h=n=g=null,K(function(){var a,c,d,e,f,g,h,i,k,l,o=H.getElementsByTagName("body")[0];!o||(g=1,h="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",i="visibility:hidden;border:0;",k="style='"+h+"border:5px solid #000;padding:0;'",l="<div "+k+"><div></div></div><table "+k+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",a=H.createElement("div"),a.style.cssText=i+"width:0;height:0;position:static;top:0;margin-top:"+g+"px",o.insertBefore(a,o.firstChild),n=H.createElement("div"),a.appendChild(n),n.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",j=n.getElementsByTagName("td"),m=0===j[0].offsetHeight,j[0].style.display="",j[1].style.display="none",b.reliableHiddenOffsets=m&&0===j[0].offsetHeight,n.innerHTML="",n.style.width=n.style.paddingLeft="1px",K.boxModel=b.boxModel=2===n.offsetWidth,"undefined"!=typeof n.style.zoom&&(n.style.display="inline",n.style.zoom=1,b.inlineBlockNeedsLayout=2===n.offsetWidth,n.style.display="",n.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=2!==n.offsetWidth),n.style.cssText=h+i,n.innerHTML=l,c=n.firstChild,d=c.firstChild,e=c.nextSibling.firstChild.firstChild,f={doesNotAddBorder:5!==d.offsetTop,doesAddBorderForTableAndCells:5===e.offsetTop},d.style.position="fixed",d.style.top="20px",f.fixedPosition=20===d.offsetTop||15===d.offsetTop,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",f.subtractsBorderForOverflowNotVisible=-5===d.offsetTop,f.doesNotIncludeMarginInBodyOffset=o.offsetTop!==g,o.removeChild(a),n=a=null,K.extend(b,f))}),b}();var N=/^(?:\{.*\}|\[.*\])$/,O=/([A-Z])/g;K.extend({cache:{},uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?K.cache[a[K.expando]]:a[K.expando],!!a&&!E(a)},data:function(a,c,d,e){if(K.acceptData(a)){var f,g,h,i=K.expando,j="string"==typeof c,k=a.nodeType,l=k?K.cache:a,m=k?a[i]:a[i]&&i,n="events"===c;if(!(m&&l[m]&&(n||e||l[m].data)||!j||d!==b))return;return m||(k?a[i]=m=++K.uuid:m=i),l[m]||(l[m]={},k||(l[m].toJSON=K.noop)),("object"==typeof c||"function"==typeof c)&&(e?l[m]=K.extend(l[m],c):l[m].data=K.extend(l[m].data,c)),f=g=l[m],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[K.camelCase(c)]=d),n&&!g[c]?f.events:(j?(h=g[c],null==h&&(h=g[K.camelCase(c)])):h=g,h)}},removeData:function(a,b,c){if(K.acceptData(a)){var d,e,f,g=K.expando,h=a.nodeType,i=h?K.cache:a,j=h?a[g]:g;if(!i[j])return;if(b&&(d=c?i[j]:i[j].data)){K.isArray(b)||(b in d?b=[b]:(b=K.camelCase(b),b=b in d?[b]:b.split(" ")));for(e=0,f=b.length;f>e;e++)delete d[b[e]];if(!(c?E:K.isEmptyObject)(d))return}if(!c&&(delete i[j].data,!E(i[j])))return;K.support.deleteExpando||!i.setInterval?delete i[j]:i[j]=null,h&&(K.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}},_data:function(a,b,c){return K.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=K.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),K.fn.extend({data:function(a,c){var d,e,f,g=null;if("undefined"==typeof a){if(this.length&&(g=K.data(this[0]),1===this[0].nodeType&&!K._data(this[0],"parsedAttrs"))){e=this[0].attributes;for(var h=0,i=e.length;i>h;h++)f=e[h].name,0===f.indexOf("data-")&&(f=K.camelCase(f.substring(5)),F(this[0],f,g[f]));K._data(this[0],"parsedAttrs",!0)}return g}return"object"==typeof a?this.each(function(){K.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(g=this.triggerHandler("getData"+d[1]+"!",[d[0]]),g===b&&this.length&&(g=K.data(this[0],a),g=F(this[0],a,g)),g===b&&d[1]?this.data(d[0]):g):this.each(function(){var b=K(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),K.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){K.removeData(this,a)})}}),K.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",K._data(a,b,(K._data(a,b)||0)+1))},_unmark:function(a,b,c){if(a!==!0&&(c=b,b=a,a=!1),b){c=c||"fx";var d=c+"mark",e=a?0:(K._data(b,d)||1)-1;e?K._data(b,d,e):(K.removeData(b,d,!0),D(b,c,"mark"))}},queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=K._data(a,b),c&&(!d||K.isArray(c)?d=K._data(a,b,K.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=K.queue(a,b),d=c.shift(),e={};"inprogress"===d&&(d=c.shift()),d&&("fx"===b&&c.unshift("inprogress"),K._data(a,b+".run",e),d.call(a,function(){K.dequeue(a,b)},e)),c.length||(K.removeData(a,b+"queue "+b+".run",!0),D(a,b,"queue"))}}),K.fn.extend({queue:function(a,c){return"string"!=typeof a&&(c=a,a="fx"),c===b?K.queue(this[0],a):this.each(function(){var b=K.queue(this,a,c);"fx"===a&&"inprogress"!==b[0]&&K.dequeue(this,a)})},dequeue:function(a){return this.each(function(){K.dequeue(this,a)})},delay:function(a,b){return a=K.fx?K.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--i||f.resolveWith(g,[g])}"string"!=typeof a&&(c=a,a=b),a=a||"fx";for(var e,f=K.Deferred(),g=this,h=g.length,i=1,j=a+"defer",k=a+"queue",l=a+"mark";h--;)(e=K.data(g[h],j,b,!0)||(K.data(g[h],k,b,!0)||K.data(g[h],l,b,!0))&&K.data(g[h],j,K.Callbacks("once memory"),!0))&&(i++,e.add(d));return d(),f.promise()}});var P,Q,R,S=/[\n\t\r]/g,T=/\s+/,U=/\r/g,V=/^(?:button|input)$/i,W=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,Y=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Z=K.support.getSetAttribute;K.fn.extend({attr:function(a,b){return K.access(this,a,b,!0,K.attr)},removeAttr:function(a){return this.each(function(){K.removeAttr(this,a)})},prop:function(a,b){return K.access(this,a,b,!0,K.prop)},removeProp:function(a){return a=K.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(K.isFunction(a))return this.each(function(b){K(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(T),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=K.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(K.isFunction(a))return this.each(function(b){K(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(T),d=0,e=this.length;e>d;d++)if(f=this[d],1===f.nodeType&&f.className)if(a){for(g=(" "+f.className+" ").replace(S," "),h=0,i=c.length;i>h;h++)g=g.replace(" "+c[h]+" "," ");f.className=K.trim(g)}else f.className="";return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return K.isFunction(a)?this.each(function(c){K(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=K(this),h=b,i=a.split(T);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&K._data(this,"__className__",this.className),this.className=this.className||a===!1?"":K._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(S," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=K.isFunction(a),this.each(function(d){var f,g=K(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":K.isArray(f)&&(f=K.map(f,function(a){return null==a?"":a+""})),c=K.valHooks[this.nodeName.toLowerCase()]||K.valHooks[this.type],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))})):f?(c=K.valHooks[f.nodeName.toLowerCase()]||K.valHooks[f.type],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(U,""):null==d?"":d)):void 0}}),K.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i="select-one"===a.type;if(0>f)return null;for(c=i?f:0,d=i?f+1:h.length;d>c;c++)if(e=h[c],!(!e.selected||(K.support.optDisabled?e.disabled:null!==e.getAttribute("disabled"))||e.parentNode.disabled&&K.nodeName(e.parentNode,"optgroup"))){if(b=K(e).val(),i)return b;g.push(b)}return i&&!g.length&&h.length?K(h[f]).val():g},set:function(a,b){var c=K.makeArray(b);return K(a).find("option").each(function(){this.selected=K.inArray(K(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;return a&&3!==i&&8!==i&&2!==i?e&&c in K.attrFn?K(a)[c](d):"undefined"==typeof a.getAttribute?K.prop(a,c,d):(h=1!==i||!K.isXMLDoc(a),h&&(c=c.toLowerCase(),g=K.attrHooks[c]||(Y.test(c)?Q:P)),d!==b?null===d?(K.removeAttr(a,c),void 0):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f)):void 0},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.toLowerCase().split(T),f=d.length;f>g;g++)e=d[g],e&&(c=K.propFix[e]||e,K.attr(a,e,""),a.removeAttribute(Z?e:c),Y.test(e)&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(V.test(a.nodeName)&&a.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&"radio"===b&&K.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return P&&K.nodeName(a,"button")?P.get(a,b):b in a?a.value:null},set:function(a,b,c){return P&&K.nodeName(a,"button")?P.set(a,b,c):(a.value=b,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?(g=1!==h||!K.isXMLDoc(a),g&&(c=K.propFix[c]||c,f=K.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]):void 0},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):W.test(a.nodeName)||X.test(a.nodeName)&&a.href?0:b}}}}),K.attrHooks.tabindex=K.propHooks.tabIndex,Q={get:function(a,c){var d,e=K.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?K.removeAttr(a,c):(d=K.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c
}},Z||(R={name:!0,id:!0},P=K.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(R[c]?""!==d.nodeValue:d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=H.createAttribute(c),a.setAttributeNode(d)),d.nodeValue=b+""}},K.attrHooks.tabindex.set=P.set,K.each(["width","height"],function(a,b){K.attrHooks[b]=K.extend(K.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),K.attrHooks.contenteditable={get:P.get,set:function(a,b,c){""===b&&(b="false"),P.set(a,b,c)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(a,c){K.attrHooks[c]=K.extend(K.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),K.support.style||(K.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(a,b){return K.isArray(b)?a.checked=K.inArray(K(a).val(),b)>=0:void 0}})});var $=/^(?:textarea|input|select)$/i,_=/^([^\.]*)?(?:\.(.+))?$/,ab=/\bhover(\.\S+)?\b/,bb=/^key/,cb=/^(?:mouse|contextmenu)|click/,db=/^(?:focusinfocus|focusoutblur)$/,eb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,fb=function(a){var b=eb.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},gb=function(a,b){var c=a.attributes||{};return!(b[1]&&a.nodeName.toLowerCase()!==b[1]||b[2]&&(c.id||{}).value!==b[2]||b[3]&&!b[3].test((c["class"]||{}).value))},hb=function(a){return K.event.special.hover?a:a.replace(ab,"mouseenter$1 mouseleave$1")};K.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=K._data(a))){for(d.handler&&(o=d,d=o.handler),d.guid||(d.guid=K.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof K||a&&K.event.triggered===a.type?b:K.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=K.trim(hb(c)).split(" "),j=0;j<c.length;j++)k=_.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=K.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=K.event.special[l]||{},n=K.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,quick:fb(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),K.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r=K.hasData(a)&&K._data(a);if(r&&(m=r.events)){for(b=K.trim(hb(b||"")).split(" "),f=0;f<b.length;f++)if(g=_.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=K.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,p=m[h]||[],k=p.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,l=0;l<p.length;l++)q=p[l],!(!e&&i!==q.origType||c&&c.guid!==q.guid||j&&!j.test(q.namespace)||d&&d!==q.selector&&("**"!==d||!q.selector)||(p.splice(l--,1),q.selector&&p.delegateCount--,!n.remove||!n.remove.call(a,q)));0===p.length&&k!==p.length&&((!n.teardown||n.teardown.call(a,j)===!1)&&K.removeEvent(a,h,r.handle),delete m[h])}else for(h in m)K.event.remove(a,h+b[f],c,d,!0);K.isEmptyObject(m)&&(o=r.handle,o&&(o.elem=null),K.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(db.test(q+K.event.triggered))return;if(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),(!e||K.event.customEvent[q])&&!K.event.global[q])return;if(c="object"==typeof c?c[K.expando]?c:new K.Event(q,c):new K.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",!e){g=K.cache;for(i in g)g[i].events&&g[i].events[q]&&K.event.trigger(c,d,g[i].handle.elem,!0);return}if(c.result=b,c.target||(c.target=e),d=null!=d?K.makeArray(d):[],d.unshift(c),m=K.event.special[q]||{},m.trigger&&m.trigger.apply(e,d)===!1)return;if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!K.isWindow(e)){for(p=m.delegateType||q,j=db.test(p+q)?e:e.parentNode,k=null;j;j=j.parentNode)o.push([j,p]),k=j;k&&k===e.ownerDocument&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=(K._data(j,"events")||{})[c.type]&&K._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&K.acceptData(j)&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,!(f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&K.nodeName(e,"a")||!K.acceptData(e)||!l||!e[q]||("focus"===q||"blur"===q)&&0===c.target.offsetWidth||K.isWindow(e)||(k=e[l],k&&(e[l]=null),K.event.triggered=q,e[q](),K.event.triggered=b,!k||!(e[l]=k))),c.result}},dispatch:function(c){c=K.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m,n=(K._data(this,"events")||{})[c.type]||[],o=n.delegateCount,p=[].slice.call(arguments,0),q=!c.exclusive&&!c.namespace,r=[];if(p[0]=c,c.delegateTarget=this,o&&!c.target.disabled&&(!c.button||"click"!==c.type))for(g=K(this),g.context=this.ownerDocument||this,f=c.target;f!=this;f=f.parentNode||this){for(i={},k=[],g[0]=f,d=0;o>d;d++)l=n[d],m=l.selector,i[m]===b&&(i[m]=l.quick?gb(f,l.quick):g.is(m)),i[m]&&k.push(l);k.length&&r.push({elem:f,matches:k})}for(n.length>o&&r.push({elem:this,matches:n.slice(o)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(j=r[d],c.currentTarget=j.elem,e=0;e<j.matches.length&&!c.isImmediatePropagationStopped();e++)l=j.matches[e],(q||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))&&(c.data=l.data,c.handleObj=l,h=((K.event.special[l.origType]||{}).handle||l.handler).apply(j.elem,p),h!==b&&(c.result=h,h===!1&&(c.preventDefault(),c.stopPropagation())));return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||H,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[K.expando])return a;var c,d,e=a,f=K.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;for(a=K.Event(e),c=g.length;c;)d=g[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||H),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),f.filter?f.filter(a,e):a},special:{ready:{setup:K.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){K.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=K.extend(new K.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?K.event.trigger(e,null,b):K.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=H.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},K.Event=function(a,b){return this instanceof K.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?B:C):this.type=a,b&&K.extend(this,b),this.timeStamp=a&&a.timeStamp||K.now(),this[K.expando]=!0,void 0):new K.Event(a,b)},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=B;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){K.event.special[a]={delegateType:b,bindType:b,handle:function(a){{var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector}return(!e||e!==d&&!K.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){return K.nodeName(this,"form")?!1:(K.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=K.nodeName(c,"input")||K.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(K.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&K.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)}),void 0)},teardown:function(){return K.nodeName(this,"form")?!1:(K.event.remove(this,"._submit"),void 0)}}),K.support.changeBubbles||(K.event.special.change={setup:function(){return $.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(K.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,K.event.simulate("change",this,a,!0))})),!1):(K.event.add(this,"beforeactivate._change",function(a){var b=a.target;$.test(b.nodeName)&&!b._change_attached&&(K.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&K.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)}),void 0)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return K.event.remove(this,"._change"),$.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){K.event.simulate(b,a.target,K.event.fix(a),!0)};K.event.special[b]={setup:function(){0===c++&&H.addEventListener(a,d,!0)},teardown:function(){0===--c&&H.removeEventListener(a,d,!0)}}}),K.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=C;else if(!e)return this;return 1===f&&(g=e,e=function(a){return K().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=K.guid++)),this.each(function(){K.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return K(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if("object"==typeof a){for(var f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=C),this.each(function(){K.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return K(this.context).on(a,this.selector,b,c),this},die:function(a,b){return K(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){K.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?K.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||K.guid++,d=0,e=function(c){var e=(K._data(this,"lastToggle"+a.guid)||0)%d;return K._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){K.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},K.attrFn&&(K.attrFn[b]=!0),bb.test(b)&&(K.event.fixHooks[b]=K.event.keyHooks),cb.test(b)&&(K.event.fixHooks[b]=K.event.mouseHooks)}),function(){function a(a,b,c,d,f,g){for(var h=0,i=d.length;i>h;h++){var j=d[h];if(j){var k=!1;for(j=j[a];j;){if(j[e]===c){k=d[j.sizset];break}if(1===j.nodeType)if(g||(j[e]=c,j.sizset=h),"string"!=typeof b){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}j=j[a]}d[h]=k}}}function c(a,b,c,d,f,g){for(var h=0,i=d.length;i>h;h++){var j=d[h];if(j){var k=!1;for(j=j[a];j;){if(j[e]===c){k=d[j.sizset];break}if(1===j.nodeType&&!g&&(j[e]=c,j.sizset=h),j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}d[h]=k}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(a,b,c,e){c=c||[],b=b||H;var f=b;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return c;var h,i,j,k,l,n,q,r,t=!0,u=m.isXML(b),v=[],x=a;do if(d.exec(""),h=d.exec(x),h&&(x=h[3],v.push(h[1]),h[2])){k=h[3];break}while(h);if(v.length>1&&p.exec(a))if(2===v.length&&o.relative[v[0]])i=w(v[0]+v[1],b,e);else for(i=o.relative[v[0]]?[b]:m(v.shift(),b);v.length;)a=v.shift(),o.relative[a]&&(a+=v.shift()),i=w(a,i,e);else if(!e&&v.length>1&&9===b.nodeType&&!u&&o.match.ID.test(v[0])&&!o.match.ID.test(v[v.length-1])&&(l=m.find(v.shift(),b,u),b=l.expr?m.filter(l.expr,l.set)[0]:l.set[0]),b)for(l=e?{expr:v.pop(),set:s(e)}:m.find(v.pop(),1!==v.length||"~"!==v[0]&&"+"!==v[0]||!b.parentNode?b:b.parentNode,u),i=l.expr?m.filter(l.expr,l.set):l.set,v.length>0?j=s(i):t=!1;v.length;)n=v.pop(),q=n,o.relative[n]?q=v.pop():n="",null==q&&(q=b),o.relative[n](j,q,u);else j=v=[];if(j||(j=i),j||m.error(n||a),"[object Array]"===g.call(j))if(t)if(b&&1===b.nodeType)for(r=0;null!=j[r];r++)j[r]&&(j[r]===!0||1===j[r].nodeType&&m.contains(b,j[r]))&&c.push(i[r]);else for(r=0;null!=j[r];r++)j[r]&&1===j[r].nodeType&&c.push(i[r]);else c.push.apply(c,j);else s(j,c);return k&&(m(k,f,c,e),m.uniqueSort(c)),c};m.uniqueSort=function(a){if(u&&(h=i,a.sort(u),h))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;f>e;e++)if(h=o.order[e],(g=o.leftMatch[h].exec(a))&&(i=g[1],g.splice(1,1),"\\"!==i.substr(i.length-1)&&(g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c),null!=d))){a=a.replace(o.match[h],"");break}return d||(d="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){for(var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);a&&c.length;){for(h in o.filter)if(null!=(f=o.leftMatch[h].exec(a))&&f[2]){if(k=o.filter[h],l=f[1],g=!1,f.splice(1,1),"\\"===l.substr(l.length-1))continue;if(s===r&&(r=[]),o.preFilter[h])if(f=o.preFilter[h](f,s,d,r,e,t)){if(f===!0)continue}else g=i=!0;if(f)for(n=0;null!=(j=s[n]);n++)j&&(i=k(j,f,n,s),p=e^i,d&&null!=i?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){if(d||(s=r),a=a.replace(o.match[h],""),!g)return[];break}}if(a===q){if(null!=g)break;m.error(a)}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(1===d||9===d){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(3===d||4===d)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"==typeof b,d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f,g=0,h=a.length;h>g;g++)if(f=a[g]){for(;(f=f.previousSibling)&&1!==f.nodeType;);a[g]=e||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d="string"==typeof b,e=0,f=a.length;if(d&&!l.test(b)){for(b=b.toLowerCase();f>e;e++)if(c=a[e]){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}else{for(;f>e;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(b,d,e){var g,h=f++,i=a;"string"==typeof d&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("parentNode",d,h,b,g,e)},"~":function(b,d,e){var g,h=f++,i=a;"string"==typeof d&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("previousSibling",d,h,b,g,e)}},find:{ID:function(a,b,c){if("undefined"!=typeof b.getElementById&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;f>e;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a[1]):void 0}},preFilter:{CLASS:function(a,b,c,d,e,f){if(a=" "+a[1].replace(j,"")+" ",f)return a;for(var g,h=0;null!=(g=b[h]);h++)g&&(e^(g.className&&(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(g):c&&(b[h]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),"~="===a[2]&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if("not"===a[1]){if(!((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))){var g=m.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}a[3]=m(a[3],null,null,b)}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&"hidden"!==a.type},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if("not"===e){for(var g=b[3],h=0,i=g.length;i>h;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,d,f,g,h,i,j=b[1],k=a;switch(j){case"only":case"first":for(;k=k.previousSibling;)if(1===k.nodeType)return!1;if("first"===j)return!0;k=a;case"last":for(;k=k.nextSibling;)if(1===k.nodeType)return!1;return!0;case"nth":if(c=b[2],d=b[3],1===c&&0===d)return!0;if(f=b[0],g=a.parentNode,g&&(g[e]!==f||!a.nodeIndex)){for(h=0,k=g.firstChild;k;k=k.nextSibling)1===k.nodeType&&(k.nodeIndex=++h);g[e]=f}return i=a.nodeIndex-d,0===c?0===i:i%c===0&&i/c>=0}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return null==d?"!="===f:!f&&m.attr?null!=d:"="===f?e===g:"*="===f?e.indexOf(g)>=0:"~="===f?(" "+e+" ").indexOf(g)>=0:g?"!="===f?e!==g:"^="===f?0===e.indexOf(g):"$="===f?e.substr(e.length-g.length)===g:"|="===f?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];return f?f(a,c,b,d):void 0}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(H.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if("[object Array]"===g.call(a))Array.prototype.push.apply(d,a);else if("number"==typeof a.length)for(var e=a.length;e>c;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;H.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:1:a.compareDocumentPosition?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=H.createElement("div"),c="script"+(new Date).getTime(),d=H.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),H.getElementById(c)&&(o.find.ID=function(a,c,d){if("undefined"!=typeof c.getElementById&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||"undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=H.createElement("div");a.appendChild(H.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),H.querySelectorAll&&function(){var a=m,b=H.createElement("div"),c="__sizzle__";if(b.innerHTML="<p class='TEST'></p>",!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){m=function(b,d,e,f){if(d=d||H,!f&&!m.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(1===d.nodeType||9===d.nodeType)){if(g[1])return s(d.getElementsByTagName(b),e);if(g[2]&&o.find.CLASS&&d.getElementsByClassName)return s(d.getElementsByClassName(g[2]),e)}if(9===d.nodeType){if("body"===b&&d.body)return s([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return s([],e);if(h.id===g[3])return s([h],e)}try{return s(d.querySelectorAll(b),e)}catch(i){}}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var j=d,k=d.getAttribute("id"),l=k||c,n=d.parentNode,p=/^\s*[+~]/.test(b);k?l=l.replace(/'/g,"\\$&"):d.setAttribute("id",l),p&&n&&(d=d.parentNode);try{if(!p||n)return s(d.querySelectorAll("[id='"+l+"'] "+b),e)}catch(q){}finally{k||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)m[d]=a[d];b=null}}(),function(){var a=H.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(H.createElement("div"),"div"),d=!1;try{b.call(H.documentElement,"[test!='']:sizzle")}catch(e){d=!0}m.matchesSelector=function(a,e){if(e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!m.isXML(a))try{if(d||!o.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(g){}return m(e,null,null,[a]).length>0}}}(),function(){var a=H.createElement("div");if(a.innerHTML="<div class='test e'></div><div class='test'></div>",a.getElementsByClassName&&0!==a.getElementsByClassName("e").length){if(a.lastChild.className="e",1===a.getElementsByClassName("e").length)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){return"undefined"==typeof b.getElementsByClassName||c?void 0:b.getElementsByClassName(a[1])},a=null}}(),m.contains=H.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:H.documentElement.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?"HTML"!==b.nodeName:!1};var w=function(a,b,c){for(var d,e=[],f="",g=b.nodeType?[b]:b;d=o.match.PSEUDO.exec(a);)f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;i>h;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=K.attr,m.selectors.attrMap={},K.find=m,K.expr=m.selectors,K.expr[":"]=K.expr.filters,K.unique=m.uniqueSort,K.text=m.getText,K.isXMLDoc=m.isXML,K.contains=m.contains}();var ib=/Until$/,jb=/^(?:parents|prevUntil|prevAll)/,kb=/,/,lb=/^.[^:#\[\.,]*$/,mb=Array.prototype.slice,nb=K.expr.match.POS,ob={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(a){var b,c,d=this;if("string"!=typeof a)return K(a).filter(function(){for(b=0,c=d.length;c>b;b++)if(K.contains(d[b],this))return!0});var e,f,g,h=this.pushStack("","find",a);for(b=0,c=this.length;c>b;b++)if(e=h.length,K.find(a,this[b],h),b>0)for(f=e;f<h.length;f++)for(g=0;e>g;g++)if(h[g]===h[f]){h.splice(f--,1);break}return h},has:function(a){var b=K(a);return this.filter(function(){for(var a=0,c=b.length;c>a;a++)if(K.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(z(this,a,!1),"not",a)},filter:function(a){return this.pushStack(z(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?nb.test(a)?K(a,this.context).index(this[0])>=0:K.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d,e=[],f=this[0];if(K.isArray(a)){for(var g=1;f&&f.ownerDocument&&f!==b;){for(c=0;c<a.length;c++)K(f).is(a[c])&&e.push({selector:a[c],elem:f,level:g});f=f.parentNode,g++}return e}var h=nb.test(a)||"string"!=typeof a?K(a,b||this.context):0;for(c=0,d=this.length;d>c;c++)for(f=this[c];f;){if(h?h.index(f)>-1:K.find.matchesSelector(f,a)){e.push(f);break}if(f=f.parentNode,!f||!f.ownerDocument||f===b||11===f.nodeType)break}return e=e.length>1?K.unique(e):e,this.pushStack(e,"closest",a)},index:function(a){return a?"string"==typeof a?K.inArray(this[0],K(a)):K.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?K(a,b):K.makeArray(a&&a.nodeType?[a]:a),d=K.merge(this.get(),c);return this.pushStack(A(c[0])||A(d[0])?d:K.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),K.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return K.dir(a,"parentNode")},parentsUntil:function(a,b,c){return K.dir(a,"parentNode",c)},next:function(a){return K.nth(a,2,"nextSibling")},prev:function(a){return K.nth(a,2,"previousSibling")},nextAll:function(a){return K.dir(a,"nextSibling")},prevAll:function(a){return K.dir(a,"previousSibling")},nextUntil:function(a,b,c){return K.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return K.dir(a,"previousSibling",c)},siblings:function(a){return K.sibling(a.parentNode.firstChild,a)},children:function(a){return K.sibling(a.firstChild)},contents:function(a){return K.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:K.makeArray(a.childNodes)}},function(a,b){K.fn[a]=function(c,d){var e=K.map(this,b,c);return ib.test(a)||(d=c),d&&"string"==typeof d&&(e=K.filter(d,e)),e=this.length>1&&!ob[a]?K.unique(e):e,(this.length>1||kb.test(d))&&jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,mb.call(arguments).join(","))}}),K.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?K.find.matchesSelector(b[0],a)?[b[0]]:[]:K.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!K(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},nth:function(a,b,c){b=b||1;for(var d=0;a&&(1!==a.nodeType||++d!==b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var pb="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qb=/ jQuery\d+="(?:\d+|null)"/g,rb=/^\s+/,sb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,tb=/<([\w:]+)/,ub=/<tbody/i,vb=/<|&#?\w+;/,wb=/<(?:script|style)/i,xb=/<(?:script|object|embed|option|style)/i,yb=new RegExp("<(?:"+pb+")","i"),zb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ab=/\/(java|ecma)script/i,Bb=/^\s*<!(?:\[CDATA\[|\-\-)/,Cb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Db=y(H);
Cb.optgroup=Cb.option,Cb.tbody=Cb.tfoot=Cb.colgroup=Cb.caption=Cb.thead,Cb.th=Cb.td,K.support.htmlSerialize||(Cb._default=[1,"div<div>","</div>"]),K.fn.extend({text:function(a){return K.isFunction(a)?this.each(function(b){var c=K(this);c.text(a.call(this,b,c.text()))}):"object"!=typeof a&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(a)):K.text(this)},wrapAll:function(a){if(K.isFunction(a))return this.each(function(b){K(this).wrapAll(a.call(this,b))});if(this[0]){var b=K(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return K.isFunction(a)?this.each(function(b){K(this).wrapInner(a.call(this,b))}):this.each(function(){var b=K(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=K.isFunction(a);return this.each(function(c){K(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=K.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,K.clean(arguments)),a}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||K.filter(a,[c]).length)&&(!b&&1===c.nodeType&&(K.cleanData(c.getElementsByTagName("*")),K.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&K.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return K.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(qb,""):null;if("string"!=typeof a||wb.test(a)||!K.support.leadingWhitespace&&rb.test(a)||Cb[(tb.exec(a)||["",""])[1].toLowerCase()])K.isFunction(a)?this.each(function(b){var c=K(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);else{a=a.replace(sb,"<$1></$2>");try{for(var c=0,d=this.length;d>c;c++)1===this[c].nodeType&&(K.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}return this},replaceWith:function(a){return this[0]&&this[0].parentNode?K.isFunction(a)?this.each(function(b){var c=K(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=K(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;K(this).remove(),b?K(b).before(a):K(c).append(a)})):this.length?this.pushStack(K(K.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!K.support.checkClone&&3===arguments.length&&"string"==typeof i&&zb.test(i))return this.each(function(){K(this).domManip(a,c,d,!0)});if(K.isFunction(i))return this.each(function(e){var f=K(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(h=i&&i.parentNode,e=K.support.parentNode&&h&&11===h.nodeType&&h.childNodes.length===this.length?{fragment:h}:K.buildFragment(a,this,j),g=e.fragment,f=1===g.childNodes.length?g=g.firstChild:g.firstChild,f){c=c&&K.nodeName(f,"tr");for(var k=0,l=this.length,m=l-1;l>k;k++)d.call(c?x(this[k],f):this[k],e.cacheable||l>1&&m>k?K.clone(g,!0,!0):g)}j.length&&K.each(j,q)}return this}}),K.buildFragment=function(a,b,c){var d,e,f,g,h=a[0];return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=H),1===a.length&&"string"==typeof h&&h.length<512&&g===H&&"<"===h.charAt(0)&&!xb.test(h)&&(K.support.checkClone||!zb.test(h))&&(K.support.html5Clone||!yb.test(h))&&(e=!0,f=K.fragments[h],f&&1!==f&&(d=f)),d||(d=g.createDocumentFragment(),K.clean(a,g,d,c)),e&&(K.fragments[h]=f?d:1),{fragment:d,cacheable:e}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){K.fn[a]=function(c){var d=[],e=K(c),f=1===this.length&&this[0].parentNode;if(f&&11===f.nodeType&&1===f.childNodes.length&&1===e.length)return e[b](this[0]),this;for(var g=0,h=e.length;h>g;g++){var i=(g>0?this.clone(!0):this).get();K(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),K.extend({clone:function(a,b,c){var d,e,f,g=K.support.html5Clone||!yb.test("<"+a.nodeName)?a.cloneNode(!0):r(a);if(!(K.support.noCloneEvent&&K.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||K.isXMLDoc(a)))for(v(a,g),d=u(a),e=u(g),f=0;d[f];++f)e[f]&&v(d[f],e[f]);if(b&&(w(a,g),c))for(d=u(a),e=u(g),f=0;d[f];++f)w(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e;b=b||H,"undefined"==typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||H);for(var f,g,h=[],i=0;null!=(g=a[i]);i++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(vb.test(g)){g=g.replace(sb,"<$1></$2>");var j=(tb.exec(g)||["",""])[1].toLowerCase(),k=Cb[j]||Cb._default,l=k[0],m=b.createElement("div");for(b===H?Db.appendChild(m):y(b).appendChild(m),m.innerHTML=k[1]+g+k[2];l--;)m=m.lastChild;if(!K.support.tbody){var n=ub.test(g),o="table"!==j||n?"<table>"!==k[1]||n?[]:m.childNodes:m.firstChild&&m.firstChild.childNodes;for(f=o.length-1;f>=0;--f)K.nodeName(o[f],"tbody")&&!o[f].childNodes.length&&o[f].parentNode.removeChild(o[f])}!K.support.leadingWhitespace&&rb.test(g)&&m.insertBefore(b.createTextNode(rb.exec(g)[0]),m.firstChild),g=m.childNodes}else g=b.createTextNode(g);var p;if(!K.support.appendChecked)if(g[0]&&"number"==typeof(p=g.length))for(f=0;p>f;f++)s(g[f]);else s(g);g.nodeType?h.push(g):h=K.merge(h,g)}if(c)for(e=function(a){return!a.type||Ab.test(a.type)},i=0;h[i];i++)if(!d||!K.nodeName(h[i],"script")||h[i].type&&"text/javascript"!==h[i].type.toLowerCase()){if(1===h[i].nodeType){var q=K.grep(h[i].getElementsByTagName("script"),e);h.splice.apply(h,[i+1,0].concat(q))}c.appendChild(h[i])}else d.push(h[i].parentNode?h[i].parentNode.removeChild(h[i]):h[i]);return h},cleanData:function(a){for(var b,c,d,e=K.cache,f=K.event.special,g=K.support.deleteExpando,h=0;null!=(d=a[h]);h++)if((!d.nodeName||!K.noData[d.nodeName.toLowerCase()])&&(c=d[K.expando])){if(b=e[c],b&&b.events){for(var i in b.events)f[i]?K.event.remove(d,i):K.removeEvent(d,i,b.handle);b.handle&&(b.handle.elem=null)}g?delete d[K.expando]:d.removeAttribute&&d.removeAttribute(K.expando),delete e[c]}}});var Eb,Fb,Gb,Hb=/alpha\([^)]*\)/i,Ib=/opacity=([^)]*)/,Jb=/([A-Z]|^ms)/g,Kb=/^-?\d+(?:px)?$/i,Lb=/^-?\d/,Mb=/^([\-+])=([\-+.\de]+)/,Nb={position:"absolute",visibility:"hidden",display:"block"},Ob=["Left","Right"],Pb=["Top","Bottom"];K.fn.css=function(a,c){return 2===arguments.length&&c===b?this:K.access(this,a,c,!0,function(a,c,d){return d!==b?K.style(a,c,d):K.css(a,c)})},K.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Eb(a,"opacity","opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h=K.camelCase(c),i=a.style,j=K.cssHooks[h];if(c=K.cssProps[h]||h,d===b)return j&&"get"in j&&(f=j.get(a,!1,e))!==b?f:i[c];if(g=typeof d,"string"===g&&(f=Mb.exec(d))&&(d=+(f[1]+1)*+f[2]+parseFloat(K.css(a,c)),g="number"),null==d||"number"===g&&isNaN(d))return;if("number"===g&&!K.cssNumber[h]&&(d+="px"),!(j&&"set"in j&&(d=j.set(a,d))===b))try{i[c]=d}catch(k){}}},css:function(a,c,d){var e,f;return c=K.camelCase(c),f=K.cssHooks[c],c=K.cssProps[c]||c,"cssFloat"===c&&(c="float"),f&&"get"in f&&(e=f.get(a,!0,d))!==b?e:Eb?Eb(a,c):void 0},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),K.curCSS=K.css,K.each(["height","width"],function(a,b){K.cssHooks[b]={get:function(a,c,d){var e;return c?0!==a.offsetWidth?p(a,b,d):(K.swap(a,Nb,function(){e=p(a,b,d)}),e):void 0},set:function(a,b){return Kb.test(b)?(b=parseFloat(b),b>=0?b+"px":void 0):b}}}),K.support.opacity||(K.cssHooks.opacity={get:function(a,b){return Ib.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=K.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===K.trim(f.replace(Hb,""))&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=Hb.test(f)?f.replace(Hb,e):f+" "+e)}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(a,b){var c;return K.swap(a,{display:"inline-block"},function(){c=b?Eb(a,"margin-right","marginRight"):a.style.marginRight}),c}})}),H.defaultView&&H.defaultView.getComputedStyle&&(Fb=function(a,b){var c,d,e;return b=b.replace(Jb,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),""===c&&!K.contains(a.ownerDocument.documentElement,a)&&(c=K.style(a,b))),c}),H.documentElement.currentStyle&&(Gb=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return null===f&&g&&(e=g[b])&&(f=e),!Kb.test(f)&&Lb.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left="fontSize"===b?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),""===f?"auto":f}),Eb=Fb||Gb,K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return 0===b&&0===c||!K.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||K.css(a,"display"))},K.expr.filters.visible=function(a){return!K.expr.filters.hidden(a)});var Qb,Rb,Sb=/%20/g,Tb=/\[\]$/,Ub=/\r?\n/g,Vb=/#.*$/,Wb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Yb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Zb=/^(?:GET|HEAD)$/,$b=/^\/\//,_b=/\?/,ac=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bc=/^(?:select|textarea)/i,cc=/\s+/,dc=/([?&])_=[^&]*/,ec=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,fc=K.fn.load,gc={},hc={},ic=["*/"]+["*"];try{Qb=J.href}catch(jc){Qb=H.createElement("a"),Qb.href="",Qb=Qb.href}Rb=ec.exec(Qb.toLowerCase())||[],K.fn.extend({load:function(a,c,d){if("string"!=typeof a&&fc)return fc.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(K.isFunction(c)?(d=c,c=b):"object"==typeof c&&(c=K.param(c,K.ajaxSettings.traditional),g="POST"));var h=this;return K.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?K("<div>").append(c.replace(ac,"")).find(f):c)),d&&h.each(d,[c,b,a])}}),this},serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bc.test(this.nodeName)||Xb.test(this.type))}).map(function(a,b){var c=K(this).val();return null==c?null:K.isArray(c)?K.map(c,function(a){return{name:b.name,value:a.replace(Ub,"\r\n")}}):{name:b.name,value:c.replace(Ub,"\r\n")}}).get()}}),K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){K.fn[b]=function(a){return this.on(b,a)}}),K.each(["get","post"],function(a,c){K[c]=function(a,d,e,f){return K.isFunction(d)&&(f=f||e,e=d,d=b),K.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),K.extend({getScript:function(a,c){return K.get(a,b,c,"script")},getJSON:function(a,b,c){return K.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?m(a,K.ajaxSettings):(b=a,a=K.ajaxSettings),m(a,b),a},ajaxSettings:{url:Qb,isLocal:Yb.test(Rb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ic},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:o(gc),ajaxTransport:o(hc),ajax:function(a,c){function d(a,c,d,g){if(2!==x){x=2,i&&clearTimeout(i),h=b,f=g||"",y.readyState=a>0?4:0;var l,n,o,v,w,z=c,A=d?k(p,y,d):b;if(a>=200&&300>a||304===a)if(p.ifModified&&((v=y.getResponseHeader("Last-Modified"))&&(K.lastModified[e]=v),(w=y.getResponseHeader("Etag"))&&(K.etag[e]=w)),304===a)z="notmodified",l=!0;else try{n=j(p,A),z="success",l=!0}catch(B){z="parsererror",o=B}else o=z,(!z||a)&&(z="error",0>a&&(a=0));y.status=a,y.statusText=""+(c||z),l?s.resolveWith(q,[n,z,y]):s.rejectWith(q,[y,z,o]),y.statusCode(u),u=b,m&&r.trigger("ajax"+(l?"Success":"Error"),[y,p,l?n:o]),t.fireWith(q,[y,z]),m&&(r.trigger("ajaxComplete",[y,p]),--K.active||K.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,l,m,o,p=K.ajaxSetup({},c),q=p.context||p,r=q!==p&&(q.nodeType||q instanceof K)?K(q):K.event,s=K.Deferred(),t=K.Callbacks("once memory"),u=p.statusCode||{},v={},w={},x=0,y={readyState:0,setRequestHeader:function(a,b){if(!x){var c=a.toLowerCase();a=w[c]=w[c]||a,v[a]=b}return this},getAllResponseHeaders:function(){return 2===x?f:null},getResponseHeader:function(a){var c;if(2===x){if(!g)for(g={};c=Wb.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return x||(p.mimeType=a),this},abort:function(a){return a=a||"abort",h&&h.abort(a),d(0,a),this}};if(s.promise(y),y.success=y.done,y.error=y.fail,y.complete=t.add,y.statusCode=function(a){if(a){var b;if(2>x)for(b in a)u[b]=[u[b],a[b]];else b=a[y.status],y.then(b,b)}return this},p.url=((a||p.url)+"").replace(Vb,"").replace($b,Rb[1]+"//"),p.dataTypes=K.trim(p.dataType||"*").toLowerCase().split(cc),null==p.crossDomain&&(l=ec.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]==Rb[1]&&l[2]==Rb[2]&&(l[3]||("http:"===l[1]?80:443))==(Rb[3]||("http:"===Rb[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=K.param(p.data,p.traditional)),n(gc,p,c,y),2===x)return!1;if(m=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Zb.test(p.type),m&&0===K.active++&&K.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(_b.test(p.url)?"&":"?")+p.data,delete p.data),e=p.url,p.cache===!1)){var z=K.now(),A=p.url.replace(dc,"$1_="+z);p.url=A+(A===p.url?(_b.test(p.url)?"&":"?")+"_="+z:"")}(p.data&&p.hasContent&&p.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(e=e||p.url,K.lastModified[e]&&y.setRequestHeader("If-Modified-Since",K.lastModified[e]),K.etag[e]&&y.setRequestHeader("If-None-Match",K.etag[e])),y.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+ic+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)y.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(q,y,p)===!1||2===x))return y.abort(),!1;for(o in{success:1,error:1,complete:1})y[o](p[o]);if(h=n(hc,p,c,y)){y.readyState=1,m&&r.trigger("ajaxSend",[y,p]),p.async&&p.timeout>0&&(i=setTimeout(function(){y.abort("timeout")},p.timeout));try{x=1,h.send(v,d)}catch(B){if(!(2>x))throw B;d(-1,B)}}else d(-1,"No Transport");return y},param:function(a,c){var d=[],e=function(a,b){b=K.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=K.ajaxSettings.traditional),K.isArray(a)||a.jquery&&!K.isPlainObject(a))K.each(a,function(){e(this.name,this.value)});else for(var f in a)l(f,a[f],c,e);return d.join("&").replace(Sb,"+")}}),K.extend({active:0,lastModified:{},etag:{}});var kc=K.now(),lc=/(\=)\?(&|$)|\?\?/i;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return K.expando+"_"+kc++}}),K.ajaxPrefilter("json jsonp",function(b,c,d){var e="application/x-www-form-urlencoded"===b.contentType&&"string"==typeof b.data;if("jsonp"===b.dataTypes[0]||b.jsonp!==!1&&(lc.test(b.url)||e&&lc.test(b.data))){var f,g=b.jsonpCallback=K.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2";return b.jsonp!==!1&&(i=i.replace(lc,k),b.url===i&&(e&&(j=j.replace(lc,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.always(function(){a[g]=h,f&&K.isFunction(h)&&a[g](f[0])}),b.converters["script json"]=function(){return f||K.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return K.globalEval(a),a}}}),K.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),K.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(e,f){c=H.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var mc,nc=a.ActiveXObject?function(){for(var a in mc)mc[a](0,1)}:!1,oc=0;K.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&i()||h()}:i,function(a){K.extend(K.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(c){if(!c.crossDomain||K.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=K.noop,nc&&delete mc[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m),l.text=i.responseText;try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async&&4!==i.readyState?(g=++oc,nc&&(mc||(mc={},K(a).unload(nc)),mc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var pc,qc,rc,sc,tc={},uc=/^(?:toggle|show|hide)$/,vc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];K.fn.extend({show:function(a,b,c){var f,g;if(a||0===a)return this.animate(e("show",3),a,b,c);for(var h=0,i=this.length;i>h;h++)f=this[h],f.style&&(g=f.style.display,!K._data(f,"olddisplay")&&"none"===g&&(g=f.style.display=""),""===g&&"none"===K.css(f,"display")&&K._data(f,"olddisplay",d(f.nodeName)));for(h=0;i>h;h++)f=this[h],f.style&&(g=f.style.display,(""===g||"none"===g)&&(f.style.display=K._data(f,"olddisplay")||""));return this},hide:function(a,b,c){if(a||0===a)return this.animate(e("hide",3),a,b,c);for(var d,f,g=0,h=this.length;h>g;g++)d=this[g],d.style&&(f=K.css(d,"display"),"none"!==f&&!K._data(d,"olddisplay")&&K._data(d,"olddisplay",f));for(g=0;h>g;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:K.fn.toggle,toggle:function(a,b,c){var d="boolean"==typeof a;return K.isFunction(a)&&K.isFunction(b)?this._toggle.apply(this,arguments):null==a||d?this.each(function(){var b=d?a:K(this).is(":hidden");K(this)[b?"show":"hide"]()}):this.animate(e("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){function f(){g.queue===!1&&K._mark(this);var b,c,e,f,h,i,j,k,l,m=K.extend({},g),n=1===this.nodeType,o=n&&K(this).is(":hidden");m.animatedProperties={};for(e in a){if(b=K.camelCase(e),e!==b&&(a[b]=a[e],delete a[e]),c=a[b],K.isArray(c)?(m.animatedProperties[b]=c[1],c=a[b]=c[0]):m.animatedProperties[b]=m.specialEasing&&m.specialEasing[b]||m.easing||"swing","hide"===c&&o||"show"===c&&!o)return m.complete.call(this);n&&("height"===b||"width"===b)&&(m.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===K.css(this,"display")&&"none"===K.css(this,"float")&&(K.support.inlineBlockNeedsLayout&&"inline"!==d(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=m.overflow&&(this.style.overflow="hidden");for(e in a)f=new K.fx(this,m,e),c=a[e],uc.test(c)?(l=K._data(this,"toggle"+e)||("toggle"===c?o?"show":"hide":0),l?(K._data(this,"toggle"+e,"show"===l?"hide":"show"),f[l]()):f[c]()):(h=vc.exec(c),i=f.cur(),h?(j=parseFloat(h[2]),k=h[3]||(K.cssNumber[e]?"":"px"),"px"!==k&&(K.style(this,e,(j||1)+k),i=(j||1)/f.cur()*i,K.style(this,e,i+k)),h[1]&&(j=("-="===h[1]?-1:1)*j+i),f.custom(i,j,k)):f.custom(i,c,""));return!0}var g=K.speed(b,c,e);return K.isEmptyObject(a)?this.each(g.complete,[!1]):(a=K.extend({},a),g.queue===!1?this.each(f):this.queue(g.queue,f))},stop:function(a,c,d){return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function b(a,b,c){var e=b[c];K.removeData(a,c,!0),e.stop(d)}var c,e=!1,f=K.timers,g=K._data(this);if(d||K._unmark(!0,this),null==a)for(c in g)g[c]&&g[c].stop&&c.indexOf(".run")===c.length-4&&b(this,g,c);else g[c=a+".run"]&&g[c].stop&&b(this,g,c);for(c=f.length;c--;)f[c].elem===this&&(null==a||f[c].queue===a)&&(d?f[c](!0):f[c].saveState(),e=!0,f.splice(c,1));(!d||!e)&&K.dequeue(this,a)})}}),K.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){K.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),K.extend({speed:function(a,b,c){var d=a&&"object"==typeof a?K.extend({},a):{complete:c||!c&&b||K.isFunction(a)&&a,duration:a,easing:c&&b||b&&!K.isFunction(b)&&b};return d.duration=K.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in K.fx.speeds?K.fx.speeds[d.duration]:K.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(a){K.isFunction(d.old)&&d.old.call(this),d.queue?K.dequeue(this,d.queue):a!==!1&&K._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),K.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(K.fx.step[this.prop]||K.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=K.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,h=K.fx;this.startTime=sc||g(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(K.cssNumber[this.prop]?"":"px"),e.queue=this.options.queue,e.elem=this.elem,e.saveState=function(){f.options.hide&&K._data(f.elem,"fxshow"+f.prop)===b&&K._data(f.elem,"fxshow"+f.prop,f.start)},e()&&K.timers.push(e)&&!rc&&(rc=setInterval(h.tick,h.interval))},show:function(){var a=K._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||K.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),K(this.elem).show()},hide:function(){this.options.orig[this.prop]=K._data(this.elem,"fxshow"+this.prop)||K.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=sc||g(),f=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(f=!1);if(f){if(null!=i.overflow&&!K.support.shrinkWrapBlocks&&K.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&K(h).hide(),i.hide||i.show)for(b in i.animatedProperties)K.style(h,b,i.orig[b]),K.removeData(h,"fxshow"+b,!0),K.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return 1/0==i.duration?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=K.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},K.extend(K.fx,{tick:function(){for(var a,b=K.timers,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||K.fx.stop()},interval:13,stop:function(){clearInterval(rc),rc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){K.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),K.each(["width","height"],function(a,b){K.fx.step[b]=function(a){K.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),K.expr&&K.expr.filters&&(K.expr.filters.animated=function(a){return K.grep(K.timers,function(b){return a===b.elem}).length});var xc=/^t(?:able|d|h)$/i,yc=/^(?:body|html)$/i;K.fn.offset="getBoundingClientRect"in H.documentElement?function(a){var b,d=this[0];if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!d||!d.ownerDocument)return null;if(d===d.ownerDocument.body)return K.offset.bodyOffset(d);try{b=d.getBoundingClientRect()}catch(e){}var f=d.ownerDocument,g=f.documentElement;if(!b||!K.contains(g,d))return b?{top:b.top,left:b.left}:{top:0,left:0};var h=f.body,i=c(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||K.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||K.support.boxModel&&g.scrollLeft||h.scrollLeft,n=b.top+l-j,o=b.left+m-k;return{top:n,left:o}}:function(a){var b=this[0];if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return K.offset.bodyOffset(b);for(var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,h=f.body,i=f.defaultView,j=i?i.getComputedStyle(b,null):b.currentStyle,k=b.offsetTop,l=b.offsetLeft;(b=b.parentNode)&&b!==h&&b!==g&&(!K.support.fixedPosition||"fixed"!==j.position);)c=i?i.getComputedStyle(b,null):b.currentStyle,k-=b.scrollTop,l-=b.scrollLeft,b===d&&(k+=b.offsetTop,l+=b.offsetLeft,K.support.doesNotAddBorder&&(!K.support.doesAddBorderForTableAndCells||!xc.test(b.nodeName))&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),K.support.subtractsBorderForOverflowNotVisible&&"visible"!==c.overflow&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),j=c;return("relative"===j.position||"static"===j.position)&&(k+=h.offsetTop,l+=h.offsetLeft),K.support.fixedPosition&&"fixed"===j.position&&(k+=Math.max(g.scrollTop,h.scrollTop),l+=Math.max(g.scrollLeft,h.scrollLeft)),{top:k,left:l}},K.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(K.css(a,"marginTop"))||0,c+=parseFloat(K.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=K.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=K(a),h=g.offset(),i=K.css(a,"top"),j=K.css(a,"left"),k=("absolute"===d||"fixed"===d)&&K.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),K.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},K.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=yc.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(K.css(a,"marginTop"))||0,c.left-=parseFloat(K.css(a,"marginLeft"))||0,d.top+=parseFloat(K.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(K.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||H.body;a&&!yc.test(a.nodeName)&&"static"===K.css(a,"position");)a=a.offsetParent;return a})}}),K.each(["Left","Top"],function(a,d){var e="scroll"+d;K.fn[e]=function(d){var f,g;return d===b?(f=this[0])?(g=c(f),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:K.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]):null:this.each(function(){g=c(this),g?g.scrollTo(a?K(g).scrollLeft():d,a?d:K(g).scrollTop()):this[e]=d})}}),K.each(["Height","Width"],function(a,c){var d=c.toLowerCase();K.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(K.css(a,d,"padding")):this[d]():null},K.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(K.css(b,d,a?"margin":"border")):this[d]():null},K.fn[d]=function(a){var e=this[0];if(!e)return null==a?null:this;if(K.isFunction(a))return this.each(function(b){var c=K(this);c[d](a.call(this,b,c[d]()))});if(K.isWindow(e)){var f=e.document.documentElement["client"+c],g=e.document.body;return"CSS1Compat"===e.document.compatMode&&f||g&&g["client"+c]||f}if(9===e.nodeType)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var h=K.css(e,d),i=parseFloat(h);return K.isNumeric(i)?i:h}return this.css(d,"string"==typeof a?a:a+"px")}}),a.jQuery=a.$=K,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K})}(window),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d,e=0;null!=(d=b[e]);e++)a(d).triggerHandler("remove");c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e,f=b.split(".")[0],b=b.split(".")[1];e=f+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e]=function(c){return!!a.data(c,b)},a[f]=a[f]||{},a[f][b]=function(a,b){arguments.length&&this._createWidget(a,b)},c=new c,c.options=a.extend(!0,{},c.options),a[f][b].prototype=a.extend(!0,c,{namespace:f,widgetName:b,widgetEventPrefix:a[f][b].prototype.widgetEventPrefix||b,widgetBaseClass:e},d),a.widget.bridge(b,a[f][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f="string"==typeof e,g=Array.prototype.slice.call(arguments,1),h=this,e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e;return f&&"_"===e.charAt(0)?h:(f?this.each(function(){var d=a.data(this,c);if(!d)throw"cannot call methods on "+c+" prior to initialization; attempted to call method '"+e+"'";if(!a.isFunction(d[e]))throw"no such method '"+e+"' for "+c+" widget instance";var f=d[e].apply(d,g);return f!==d&&f!==b?(h=f,!1):void 0}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);
var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){var b={};return a.metadata&&(b=a.metadata.get(element)[this.widgetName]),b},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(0===arguments.length)return a.extend({},this.options);if("string"==typeof c){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e=this.options[b],c=a.Event(c);if(c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),d=d||{},c.originalEvent)for(var f,b=a.event.props.length;b;)f=a.event.props[--b],c[f]=c.originalEvent[f];return this.element.trigger(c,d),!(a.isFunction(e)&&e.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a,b){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var c=this.element,d={};return a.each(this.options,function(a){var e=c.jqmData(a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));e!==b&&(d[a]=e)}),d},enhanceWithin:function(b){var c=a.mobile.closestPageData(a(b)),c=c&&c.keepNativeSelector()||"";a(this.options.initSelector,b).not(c)[this.widgetName]()}})}(jQuery),function(a){a(window);var b=a("html");a.mobile.media=function(){var c={},d=a("<div id='jquery-mediatest'>"),e=a("<body>").append(d);return function(a){if(!(a in c)){var f=document.createElement("style"),g="@media "+a+" { #jquery-mediatest { position:absolute; } }";f.type="text/css",f.styleSheet?f.styleSheet.cssText=g:f.appendChild(document.createTextNode(g)),b.prepend(e).prepend(f),c[a]="absolute"===d.css("position"),e.add(f).remove()}return c[a]}}()}(jQuery),function(a,b){function c(a){var c,d=a.charAt(0).toUpperCase()+a.substr(1),a=(a+" "+f.join(d+" ")+d).split(" ");for(c in a)if(e[a[c]]!==b)return!0}var d=a("<body>").prependTo("html"),e=d[0].style,f=["Webkit","Moz","O"],g="palmGetResource"in window,h=window.operamini&&"[object OperaMini]"==={}.toString.call(window.operamini),i=window.blackberry;a.mobile.browser={},a.mobile.browser.ie=function(){for(var a=3,b=document.createElement("div"),c=b.all||[];b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]-->",c[0];);return a>4?a:!a}(),a.extend(a.support,{orientation:"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!c("content"),touchOverflow:!!c("overflowScrolling"),boxShadow:!!c("boxShadow")&&!i,scrollTop:("pageXOffset"in window||"scrollTop"in document.documentElement||"scrollTop"in d[0])&&!g&&!h,dynamicBaseTag:function(){var b,c=location.protocol+"//"+location.host+location.pathname+"ui-dir/",e=a("head base"),f=null,g="";return e.length?g=e.attr("href"):e=f=a("<base>",{href:c}).appendTo("head"),b=a("<a href='testurl' />").prependTo(d)[0].href,e[0].href=g||location.pathname,f&&f.remove(),0===b.indexOf(c)}()}),d.remove(),g=function(){var a=window.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),a.mobile.ajaxBlacklist=window.blackberry&&!window.WebKitPoint||h||g,g&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")}(jQuery),function(a,b,c,d){function e(a){for(;a&&"undefined"!=typeof a.originalEvent;)a=a.originalEvent;return a}function f(b){for(var c,d,e={};b;){c=a.data(b,q);for(d in c)c[d]&&(e[d]=e.hasVirtualBinding=!0);b=b.parentNode}return e}function g(){u&&(clearTimeout(u),u=0),u=setTimeout(function(){E=u=0,y.length=0,z=!1,A=!0},a.vmouse.resetTimerDuration)}function h(b,c,f){var g,h;if(!(h=f&&f[b])){if(f=!f)a:{for(f=c.target;f;){if((h=a.data(f,q))&&(!b||h[b]))break a;f=f.parentNode}f=null}h=f}if(h){g=c;var i,j,f=g.type;if(g=a.Event(g),g.type=b,h=g.originalEvent,i=a.event.props,h)for(j=i.length;j;)b=i[--j],g[b]=h[b];if(f.search(/mouse(down|up)|click/)>-1&&!g.which&&(g.which=1),-1!==f.search(/^touch/)&&(b=e(h),f=b.touches,b=b.changedTouches,f=f&&f.length?f[0]:b&&b.length?b[0]:d))for(h=0,len=s.length;len>h;h++)b=s[h],g[b]=f[b];a(c.target).trigger(g)}return g}function i(b){var c=a.data(b.target,r);z||E&&E===c||(c=h("v"+b.type,b))&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}function j(b){var c,d=e(b).touches;d&&1===d.length&&(c=b.target,d=f(c),d.hasVirtualBinding)&&(E=D++,a.data(c,r,E),u&&(clearTimeout(u),u=0),x=A=!1,c=e(b).touches[0],v=c.pageX,w=c.pageY,h("vmouseover",b,d),h("vmousedown",b,d))}function k(a){A||(x||h("vmousecancel",a,f(a.target)),x=!0,g())}function l(b){if(!A){var c=e(b).touches[0],d=x,i=a.vmouse.moveDistanceThreshold;x=x||Math.abs(c.pageX-v)>i||Math.abs(c.pageY-w)>i,flags=f(b.target),x&&!d&&h("vmousecancel",b,flags),h("vmousemove",b,flags),g()}}function m(a){if(!A){A=!0;var b,c=f(a.target);h("vmouseup",a,c),!x&&(b=h("vclick",a,c))&&b.isDefaultPrevented()&&(b=e(a).changedTouches[0],y.push({touchID:E,x:b.clientX,y:b.clientY}),z=!0),h("vmouseout",a,c),x=!1,g()}}function n(b){var c,b=a.data(b,q);if(b)for(c in b)if(b[c])return!0;return!1}function o(){}function p(b){var c=b.substr(1);return{setup:function(){n(this)||a.data(this,q,{}),a.data(this,q)[b]=!0,t[b]=(t[b]||0)+1,1===t[b]&&C.bind(c,i),a(this).bind(c,o),B&&(t.touchstart=(t.touchstart||0)+1,1===t.touchstart&&C.bind("touchstart",j).bind("touchend",m).bind("touchmove",l).bind("scroll",k))},teardown:function(){--t[b],t[b]||C.unbind(c,i),B&&(--t.touchstart,t.touchstart||C.unbind("touchstart",j).unbind("touchmove",l).unbind("touchend",m).unbind("scroll",k));var d=a(this),e=a.data(this,q);e&&(e[b]=!1),d.unbind(c,o),n(this)||d.removeData(q)}}}var q="virtualMouseBindings",r="virtualTouchID",b="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),s="clientX clientY pageX pageY screenX screenY".split(" "),t={},u=0,v=0,w=0,x=!1,y=[],z=!1,A=!1,B="addEventListener"in c,C=a(c),D=1,E=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var F=0;F<b.length;F++)a.event.special[b[F]]=p(b[F]);B&&c.addEventListener("click",function(b){var c,d,e,f,g,h=y.length,i=b.target;if(h)for(c=b.clientX,d=b.clientY,threshold=a.vmouse.clickDistanceThreshold,e=i;e;){for(f=0;h>f;f++)if(g=y[f],e===i&&Math.abs(g.x-c)<threshold&&Math.abs(g.y-d)<threshold||a.data(e,r)===g.touchID)return b.preventDefault(),b.stopPropagation(),void 0;e=e.parentNode}},!0)}(jQuery,window,document),function(a,b,c){function d(b,c,d){var e=d.type;d.type=c,a.event.handle.call(b,d),d.type=e}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)},a.attrFn[c]=!0});var e=a.support.touch,f=e?"touchstart":"mousedown",g=e?"touchend":"mouseup",h=e?"touchmove":"mousemove";a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){c=b,d(f,c?"scrollstart":"scrollstop",a)}var c,e,f=this;a(f).bind("touchmove scroll",function(d){a.event.special.scrollstart.enabled&&(c||b(d,!0),clearTimeout(e),e=setTimeout(function(){b(d,!1)},50))})}},a.event.special.tap={setup:function(){var b=this,c=a(b);c.bind("vmousedown",function(e){function f(){clearTimeout(i)}function g(){f(),c.unbind("vclick",h).unbind("vmouseup",f).unbind("vmousecancel",g)}function h(a){g(),j==a.target&&d(b,"tap",a)}if(e.which&&1!==e.which)return!1;var i,j=e.target;c.bind("vmousecancel",g).bind("vmouseup",f).bind("vclick",h),i=setTimeout(function(){d(b,"taphold",a.Event("taphold"))},750)})}},a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var b=a(this);b.bind(f,function(d){function e(b){if(j){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;f={time:(new Date).getTime(),coords:[c.pageX,c.pageY]},Math.abs(j.coords[0]-f.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault()}}var f,i=d.originalEvent.touches?d.originalEvent.touches[0]:d,j={time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:a(d.target)};b.bind(h,e).one(g,function(){b.unbind(h,e),j&&f&&f.time-j.time<a.event.special.swipe.durationThreshold&&Math.abs(j.coords[0]-f.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(j.coords[1]-f.coords[1])<a.event.special.swipe.verticalDistanceThreshold&&j.origin.trigger("swipe").trigger(j.coords[0]>f.coords[0]?"swipeleft":"swiperight"),j=f=c})})}},function(a,b){function c(){var a=d();a!==e&&(e=a,h.trigger("orientationchange"))}var d,e,f,g,h=a(b),i={0:!0,180:!0};a.support.orientation&&(f=a.mobile.media("all and (orientation: landscape)"),g=i[b.orientation],f&&g||!f&&!g)&&(i={"-90":!0,90:!0}),a.event.special.orientationchange={setup:function(){return a.support.orientation&&a.mobile.orientationChangeEnabled?!1:(e=d(),h.bind("throttledresize",c),void 0)},teardown:function(){return a.support.orientation&&a.mobile.orientationChangeEnabled?!1:(h.unbind("throttledresize",c),void 0)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=d(),b.apply(this,arguments)}}},a.event.special.orientationchange.orientation=d=function(){var c=!0,c=document.documentElement;return(c=a.support.orientation?i[b.orientation]:c&&c.clientWidth/c.clientHeight<1.1)?"portrait":"landscape"}}(jQuery,b),function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",e)},teardown:function(){a(this).unbind("resize",e)}};var b,c,d,e=function(){c=(new Date).getTime(),d=c-f,d>=250?(f=c,a(this).trigger("throttledresize")):(b&&clearTimeout(b),b=setTimeout(e,250-d))},f=0}(),a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)}}})}(jQuery,this),function(a,b,c){function d(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f="hashchange",g=document,h=a.event.special,i=g.documentMode,j="on"+f in b&&(i===c||i>7);a.fn[f]=function(a){return a?this.bind(f,a):this.trigger(f)},a.fn[f].delay=50,h[f]=a.extend(h[f],{setup:function(){return j?!1:(a(e.start),void 0)},teardown:function(){return j?!1:(a(e.stop),void 0)}}),e=function(){function e(){var c=d(),g=n(k);c!==k?(m(k=c,g),a(b).trigger(f)):g!==k&&(location.href=location.href.replace(/#.*/,"")+g),h=setTimeout(e,a.fn[f].delay)}var h,i={},k=d(),l=function(a){return a},m=l,n=l;return i.start=function(){h||e()},i.stop=function(){h&&clearTimeout(h),h=c},a.browser.msie&&!j&&function(){var b,c;i.start=function(){b||(c=(c=a.fn[f].src)&&c+d(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||m(d()),e()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,g.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=g.title)}catch(a){}})},i.stop=l,n=function(){return d(b.location.href)},m=function(c,d){var e=b.document,h=a.fn[f].domain;c!==d&&(e.title=g.title,e.open(),h&&e.write('<script>document.domain="'+h+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(jQuery,this),function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){this._trigger("beforecreate"),this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme)},keepNativeSelector:function(){var b=this.options;return b.keepNative&&a.trim(b.keepNative)&&b.keepNative!==b.keepNativeDefault?[b.keepNative,b.keepNativeDefault].join(", "):b.keepNativeDefault}})}(jQuery),function(a,b){var c={};a.extend(a.mobile,{ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"slide",minScrollBack:250,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",autoInitializePage:!0,pushStateEnabled:!0,orientationChangeEnabled:!0,gradeA:function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=7},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(c){"number"!==a.type(c)&&(c=a.mobile.defaultHomeScroll),a.event.special.scrollstart.enabled=!1,setTimeout(function(){b.scrollTo(0,c),a(document).trigger("silentscroll",{x:0,y:c})},20),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:c,nsNormalize:function(b){return b?c[b]||(c[b]=a.camelCase(a.mobile.ns+b)):void 0},getInheritedTheme:function(a,b){for(var c,d,e=a[0],f="",g=/ui-(bar|body)-([a-z])\b/;e&&(c=e.className||"",!(d=g.exec(c))||!(f=d[2]));)e=e.parentNode;return f||b||"a"},closestPageData:function(a){return a.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")}}),a.fn.jqmData=function(b,c){var d;return"undefined"!=typeof b&&(d=this.data(b?a.mobile.nsNormalize(b):b,c)),d},a.jqmData=function(b,c,d){var e;return"undefined"!=typeof c&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,d)),e},a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))},a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))},a.fn.removeWithDependents=function(){a.removeWithDependents(this)},a.removeWithDependents=function(b){b=a(b),(b.jqmData("dependents")||a()).remove(),b.remove()},a.fn.addDependents=function(b){a.addDependents(a(this),b)},a.addDependents=function(b,c){var d=a(b).jqmData("dependents")||a();a(b).jqmData("dependents",a.merge(d,c))},a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};var d=a.find,e=/:jqmData\(([^)]*)\)/g;a.find=function(b,c,f,g){return b=b.replace(e,"[data-"+(a.mobile.ns||"")+"$1]"),d.call(this,b,c,f,g)},a.extend(a.find,d),a.find.matches=function(b,c){return a.find(b,null,null,c)},a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}}(jQuery,this),function(a,b){function c(a){var b=a.find(".ui-title:eq(0)");b.length?b.focus():a.focus()}function d(b){s&&(!s.closest(".ui-page-active").length||b)&&s.removeClass(a.mobile.activeBtnClass),s=null}function e(){v=!1,u.length>0&&a.mobile.changePage.apply(null,u.pop())}function f(b,d,e,f){var h=a.mobile.urlHistory.getActive(),i=a.support.touchOverflow&&a.mobile.touchOverflowEnabled,j=h.lastScroll||(i?0:a.mobile.defaultHomeScroll),h=g();return window.scrollTo(0,a.mobile.defaultHomeScroll),d&&d.data("page")._trigger("beforehide",null,{nextPage:b}),i||b.height(h+j),b.data("page")._trigger("beforeshow",null,{prevPage:d||a("")}),a.mobile.hidePageLoadingMsg(),i&&j&&(b.addClass("ui-mobile-pre-transition"),c(b),b.is(".ui-native-fixed")?b.find(".ui-content").scrollTop(j):b.scrollTop(j)),e=(a.mobile.transitionHandlers[e||"none"]||a.mobile.defaultTransitionHandler)(e,f,b,d),e.done(function(){i||(b.height(""),c(b)),i||a.mobile.silentScroll(j),d&&(i||d.height(""),d.data("page")._trigger("hide",null,{nextPage:b})),b.data("page")._trigger("show",null,{prevPage:d||a("")})}),e}function g(){var b="portrait"===a.event.special.orientationchange.orientation(),c=b?screen.availHeight:screen.availWidth,b=Math.max(b?480:320,a(window).height());return Math.min(c,b)}function h(){(!a.support.touchOverflow||!a.mobile.touchOverflowEnabled)&&a("."+a.mobile.activePageClass).css("min-height",g())}function i(b,c){c&&b.attr("data-"+a.mobile.ns+"role",c),b.page()}function j(a){for(;a&&("string"!=typeof a.nodeName||"a"!=a.nodeName.toLowerCase());)a=a.parentNode;return a}function k(b){var b=a(b).closest(".ui-page").jqmData("url"),c=z.hrefNoHash;return b&&r.isPath(b)||(b=c),r.makeUrlAbsolute(b,c)}var l,m,n,o=a(window),p=a("html"),q=a("head"),r={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(b){return"object"===a.type(b)?b:(b=r.urlParseRE.exec(b||"")||[],{href:b[0]||"",hrefNoHash:b[1]||"",hrefNoSearch:b[2]||"",domain:b[3]||"",protocol:b[4]||"",doubleSlash:b[5]||"",authority:b[6]||"",username:b[8]||"",password:b[9]||"",host:b[10]||"",hostname:b[11]||"",port:b[12]||"",pathname:b[13]||"",directory:b[14]||"",filename:b[15]||"",search:b[16]||"",hash:b[17]||""})},makePathAbsolute:function(a,b){if(a&&"/"===a.charAt(0))return a;for(var a=a||"",c=(b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++){var f=d[e];switch(f){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}}return"/"+c.join("/")},isSameDomain:function(a,b){return r.parseUrl(a).domain===r.parseUrl(b).domain},isRelativeUrl:function(a){return""===r.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==r.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!r.isRelativeUrl(a))return a;var c=r.parseUrl(a),d=r.parseUrl(b),e=c.protocol||d.protocol,f=c.protocol?c.doubleSlash:c.doubleSlash||d.doubleSlash,g=c.authority||d.authority,h=""!==c.pathname,i=r.makePathAbsolute(c.pathname||d.filename,d.pathname);return e+f+g+i+(c.search||!h&&d.search||"")+c.hash},addSearchParams:function(b,c){var d=r.parseUrl(b),e="object"==typeof c?a.param(c):c,f=d.search||"?";return d.hrefNoSearch+f+("?"!==f.charAt(f.length-1)?"&":"")+e+(d.hash||"")},convertUrlToDataUrl:function(a){var b=r.parseUrl(a);return r.isEmbeddedPage(b)?b.hash.split(w)[0].replace(/^#/,""):r.isSameDomain(b,z)?b.hrefNoHash.replace(z.domain,""):a},get:function(a){return a===b&&(a=location.hash),r.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(b){var c="&"+a.mobile.subPageUrlKey;return b&&b.split(c)[0].split(w)[0]},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(z.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},cleanHash:function(a){return r.stripHash(a.replace(/\?.*$/,"").replace(w,""))},isExternal:function(a){return a=r.parseUrl(a),a.protocol&&a.domain!==y.domain?!0:!1},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isFirstPageUrl:function(c){var c=r.parseUrl(r.makeUrlAbsolute(c,z)),d=a.mobile.firstPage,d=d&&d[0]?d[0].id:b;return(c.hrefNoHash===y.hrefNoHash||A&&c.hrefNoHash===z.hrefNoHash)&&(!c.hash||"#"===c.hash||d&&c.hash.replace(/^#/,"")===d)},isEmbeddedPage:function(a){return a=r.parseUrl(a),""!==a.protocol?a.hash&&(a.hrefNoHash===y.hrefNoHash||A&&a.hrefNoHash===z.hrefNoHash):/^#/.test(a.href)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&"file:"===b.protocol&&-1!=c.search(/^https?:/)}},s=null,t={stack:[],activeIndex:0,getActive:function(){return t.stack[t.activeIndex]},getPrev:function(){return t.stack[t.activeIndex-1]},getNext:function(){return t.stack[t.activeIndex+1]},addNew:function(a,b,c,d,e){t.getNext()&&t.clearForward(),t.stack.push({url:a,transition:b,title:c,pageUrl:d,role:e}),t.activeIndex=t.stack.length-1},clearForward:function(){t.stack=t.stack.slice(0,t.activeIndex+1)},directHashChange:function(c){var d,e,f;this.getActive(),a.each(t.stack,function(a,b){c.currentUrl===b.url&&(d=a<t.activeIndex,e=!d,f=a)}),this.activeIndex=f!==b?f:this.activeIndex,d?(c.either||c.isBack)(!0):e&&(c.either||c.isForward)(!1)},ignoreNextHashChange:!1},u=[],v=!1,w="&ui-state=dialog",x=q.children("base"),y=r.parseUrl(location.href),z=x.length?r.parseUrl(r.makeUrlAbsolute(x.attr("href"),y.href)):y,A=y.hrefNoHash!==z.hrefNoHash,B=a.support.dynamicBaseTag?{element:x.length?x:a("<base>",{href:z.hrefNoHash}).prependTo(q),set:function(a){B.element.attr("href",r.makeUrlAbsolute(a,z))},reset:function(){B.element.attr("href",z.hrefNoHash)}}:b,C=!0;l=function(){var b=o;return a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&(b=a(".ui-page-active"),b=b.is(".ui-native-fixed")?b.find(".ui-content"):b),b},m=function(b){if(C){var c=a.mobile.urlHistory.getActive();c&&(b=b&&b.scrollTop(),c.lastScroll=b<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:b)}},n=function(){setTimeout(m,100,a(this))},o.bind(a.support.pushState?"popstate":"hashchange",function(){C=!1}),o.one(a.support.pushState?"popstate":"hashchange",function(){C=!0}),o.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){var a=l();C=!0,a.unbind("scrollstop",n),a.bind("scrollstop",n)})}),l().bind("scrollstop",n),a.mobile.getScreenHeight=g,a.fn.animationComplete=function(b){return a.support.cssTransitions?a(this).one("webkitAnimationEnd",b):(setTimeout(b,0),a(this))},a.mobile.path=r,a.mobile.base=B,a.mobile.urlHistory=t,a.mobile.dialogHashKey=w,a.mobile.noneTransitionHandler=function(b,c,d,e){return e&&e.removeClass(a.mobile.activePageClass),d.addClass(a.mobile.activePageClass),a.Deferred().resolve(b,c,d,e).promise()},a.mobile.defaultTransitionHandler=a.mobile.noneTransitionHandler,a.mobile.transitionHandlers={none:a.mobile.defaultTransitionHandler},a.mobile.allowCrossDomainPages=!1,a.mobile.getDocumentUrl=function(b){return b?a.extend({},y):y.href},a.mobile.getDocumentBase=function(b){return b?a.extend({},z):z.href},a.mobile._bindPageRemove=function(){var b=a(this);!b.data("page").options.domCache&&b.is(":jqmData(external-page='true')")&&b.bind("pagehide.remove",function(){var b=a(this),c=new a.Event("pageremove");b.trigger(c),c.isDefaultPrevented()||b.removeWithDependents()})},a.mobile.loadPage=function(c,d){var e=a.Deferred(),f=a.extend({},a.mobile.loadPage.defaults,d),g=null,h=null,j=r.makeUrlAbsolute(c,a.mobile.activePage&&k(a.mobile.activePage)||z.hrefNoHash);f.data&&"get"===f.type&&(j=r.addSearchParams(j,f.data),f.data=b),f.data&&"post"===f.type&&(f.reloadPage=!0);var l=r.getFilePath(j),m=r.convertUrlToDataUrl(j);if(f.pageContainer=f.pageContainer||a.mobile.pageContainer,g=f.pageContainer.children(":jqmData(url='"+m+"')"),0===g.length&&m&&!r.isPath(m)&&(g=f.pageContainer.children("#"+m).attr("data-"+a.mobile.ns+"url",m)),0===g.length)if(a.mobile.firstPage&&r.isFirstPageUrl(l))a.mobile.firstPage.parent().length&&(g=a(a.mobile.firstPage));else if(r.isEmbeddedPage(l))return e.reject(j,d),e.promise();if(B&&B.reset(),g.length){if(!f.reloadPage)return i(g,f.role),e.resolve(j,d,g),e.promise();h=g}var n=f.pageContainer,p=new a.Event("pagebeforeload"),q={url:c,absUrl:j,dataUrl:m,deferred:e,options:f};if(n.trigger(p,q),p.isDefaultPrevented())return e.promise();if(f.showLoadMsg)var s=setTimeout(function(){a.mobile.showPageLoadingMsg()},f.loadMsgDelay);return a.mobile.allowCrossDomainPages||r.isSameDomain(y,j)?a.ajax({url:l,type:f.type,data:f.data,dataType:"html",success:function(b,k,n){var o=a("<div></div>"),p=b.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,t=RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)").test(b)&&RegExp.$1&&t.test(RegExp.$1)&&RegExp.$1&&(c=l=r.getFilePath(RegExp.$1)),B&&B.set(l),o.get(0).innerHTML=b,g=o.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),g.length||(g=a("<div data-"+a.mobile.ns+"role='page'>"+b.split(/<\/?body[^>]*>/gim)[1]+"</div>")),p&&!g.jqmData("title")&&(~p.indexOf("&")&&(p=a("<div>"+p+"</div>").text()),g.jqmData("title",p)),!a.support.dynamicBaseTag){var u=r.get(l);g.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var b=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",c=a(this).attr(b),c=c.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(c)||a(this).attr(b,u+c)})}g.attr("data-"+a.mobile.ns+"url",r.convertUrlToDataUrl(l)).attr("data-"+a.mobile.ns+"external-page",!0).appendTo(f.pageContainer),g.one("pagecreate",a.mobile._bindPageRemove),i(g,f.role),j.indexOf("&"+a.mobile.subPageUrlKey)>-1&&(g=f.pageContainer.children(":jqmData(url='"+m+"')")),f.showLoadMsg&&(clearTimeout(s),a.mobile.hidePageLoadingMsg()),q.xhr=n,q.textStatus=k,q.page=g,f.pageContainer.trigger("pageload",q),e.resolve(j,d,g,h)},error:function(b,c,g){B&&B.set(r.get()),q.xhr=b,q.textStatus=c,q.errorThrown=g,b=new a.Event("pageloadfailed"),f.pageContainer.trigger(b,q),b.isDefaultPrevented()||(f.showLoadMsg&&(clearTimeout(s),a.mobile.hidePageLoadingMsg(),a("<div class='ui-loader ui-overlay-shadow ui-body-e ui-corner-all'><h1>"+a.mobile.pageLoadErrorMessage+"</h1></div>").css({display:"block",opacity:.96,top:o.scrollTop()+100}).appendTo(f.pageContainer).delay(800).fadeOut(400,function(){a(this).remove()})),e.reject(j,d))}}):e.reject(j,d),e.promise()},a.mobile.loadPage.defaults={type:"get",data:b,reloadPage:!1,role:b,showLoadMsg:!1,pageContainer:b,loadMsgDelay:50},a.mobile.changePage=function(c,g){if(v)u.unshift(arguments);else{var h=a.extend({},a.mobile.changePage.defaults,g);h.pageContainer=h.pageContainer||a.mobile.pageContainer,h.fromPage=h.fromPage||a.mobile.activePage;var j=h.pageContainer,k=new a.Event("pagebeforechange"),l={toPage:c,options:h};if(j.trigger(k,l),!k.isDefaultPrevented())if(c=l.toPage,v=!0,"string"==typeof c)a.mobile.loadPage(c,h).done(function(b,c,d,e){v=!1,c.duplicateCachedPage=e,a.mobile.changePage(d,c)}).fail(function(){v=!1,d(!0),e(),h.pageContainer.trigger("pagechangefailed",l)});else{c[0]!==a.mobile.firstPage[0]||h.dataUrl||(h.dataUrl=y.hrefNoHash);var k=h.fromPage,m=h.dataUrl&&r.convertUrlToDataUrl(h.dataUrl)||c.jqmData("url"),n=m;r.getFilePath(m);var o=t.getActive(),q=0===t.activeIndex,s=0,x=document.title,z="dialog"===h.role||"dialog"===c.jqmData("role");if(k&&k[0]===c[0]&&!h.allowSamePageTransition)v=!1,j.trigger("pagechange",l);else{i(c,h.role),h.fromHashChange&&t.directHashChange({currentUrl:m,isBack:function(){s=-1},isForward:function(){s=1}});try{document.activeElement&&"body"!=document.activeElement.nodeName.toLowerCase()?a(document.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(A){}z&&o&&(m=(o.url||"")+w),h.changeHash!==!1&&m&&(t.ignoreNextHashChange=!0,r.set(m));var B=o?c.jqmData("title")||c.children(":jqmData(role='header')").find(".ui-title").getEncodedText():x;B&&x==document.title&&(x=B),c.jqmData("title")||c.jqmData("title",x),h.transition=h.transition||(s&&!q?o.transition:b)||(z?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition),s||t.addNew(m,h.transition,x,n,h.role),document.title=t.getActive().title,a.mobile.activePage=c,h.reverse=h.reverse||0>s,f(c,k,h.transition,h.reverse).done(function(){d(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),p.removeClass("ui-mobile-rendering"),e(),j.trigger("pagechange",l)})}}}},a.mobile.changePage.defaults={transition:b,reverse:!1,changeHash:!0,fromHashChange:!1,role:b,duplicateCachedPage:b,pageContainer:b,showLoadMsg:!0,dataUrl:b,fromPage:b,allowSamePageTransition:!1},a.mobile._registerInternalEvents=function(){a(document).delegate("form","submit",function(b){var c=a(this);if(a.mobile.ajaxEnabled&&!c.is(":jqmData(ajax='false')")){var d=c.attr("method"),e=c.attr("target"),f=c.attr("action");f||(f=k(c),f!==z.hrefNoHash)||(f=y.hrefNoSearch),f=r.makeUrlAbsolute(f,k(c)),r.isExternal(f)&&!r.isPermittedCrossDomainRequest(y,f)||e||(a.mobile.changePage(f,{type:d&&d.length&&d.toLowerCase()||"get",data:c.serialize(),transition:c.jqmData("transition"),direction:c.jqmData("direction"),reloadPage:!0}),b.preventDefault())}}),a(document).bind("vclick",function(b){b.which>1||!a.mobile.linkBindingEnabled||!(b=j(b.target))||"#"===r.parseUrl(b.getAttribute("href")||"#").hash||(d(!0),s=a(b).closest(".ui-btn").not(".ui-disabled"),s.addClass(a.mobile.activeBtnClass),a("."+a.mobile.activePageClass+" .ui-btn").not(b).blur())}),a(document).bind("click",function(c){if(a.mobile.linkBindingEnabled){var e=j(c.target);if(e&&!(c.which>1)){var f=a(e),g=function(){window.setTimeout(function(){d(!0)},200)};if(f.is(":jqmData(rel='back')"))return window.history.back(),!1;var h=k(f),e=r.makeUrlAbsolute(f.attr("href")||"#",h);if(a.mobile.ajaxEnabled||r.isEmbeddedPage(e)){if(-1!=e.search("#")){if(!(e=e.replace(/[^#]*#/,"")))return c.preventDefault(),void 0;e=r.isPath(e)?r.makeUrlAbsolute(e,h):r.makeUrlAbsolute("#"+e,y.hrefNoHash)}f.is("[rel='external']")||f.is(":jqmData(ajax='false')")||f.is("[target]")||r.isExternal(e)&&!r.isPermittedCrossDomainRequest(y,e)?g():(g=f.jqmData("transition"),h=(h=f.jqmData("direction"))&&"reverse"===h||f.jqmData("back"),f=f.attr("data-"+a.mobile.ns+"rel")||b,a.mobile.changePage(e,{transition:g,reverse:h,role:f}),c.preventDefault())}else g()}}}),a(document).delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&-1===a.inArray(d,b)&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel")}))})}),a.mobile._handleHashChange=function(c){var d=r.stripHash(c),e={transition:0===a.mobile.urlHistory.stack.length?"none":b,changeHash:!1,fromHashChange:!0};if(!a.mobile.hashListeningEnabled||t.ignoreNextHashChange)t.ignoreNextHashChange=!1;else{if(t.stack.length>1&&d.indexOf(w)>-1){if(!a.mobile.activePage.is(".ui-dialog"))return t.directHashChange({currentUrl:d,isBack:function(){window.history.back()},isForward:function(){window.history.forward()}}),void 0;t.directHashChange({currentUrl:d,either:function(b){var c=a.mobile.urlHistory.getActive();d=c.pageUrl,a.extend(e,{role:c.role,transition:c.transition,reverse:b})}})}d?(d="string"!=typeof d||r.isPath(d)?d:r.makeUrlAbsolute("#"+d,z),a.mobile.changePage(d,e)):a.mobile.changePage(a.mobile.firstPage,e)}},o.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)}),a(document).bind("pageshow",h),a(window).bind("throttledresize",h)}}(jQuery),function(a,b){var c={},d=a(b),e=a.mobile.path.parseUrl(location.href);a.extend(c,{initialFilePath:e.pathname+e.search,initialHref:e.hrefNoHash,hashchangeFired:!1,state:function(){return{hash:location.hash||"#"+c.initialFilePath,title:document.title,initialHref:c.initialHref}},resetUIKeys:function(b){var c="&"+a.mobile.subPageUrlKey,d=b.indexOf(a.mobile.dialogHashKey);return d>-1?b=b.slice(0,d)+"#"+b.slice(d):b.indexOf(c)>-1&&(b=b.split(c).join("#"+c)),b},nextHashChangePrevented:function(b){a.mobile.urlHistory.ignoreNextHashChange=b,c.onHashChangeDisabled=b},onHashChange:function(){if(!c.onHashChangeDisabled){var b,d;b=location.hash;var e=a.mobile.path.isPath(b),f=e?location.href:a.mobile.getDocumentUrl();b=e?b.replace("#",""):b,d=c.state(),b=a.mobile.path.makeUrlAbsolute(b,f),e&&(b=c.resetUIKeys(b)),history.replaceState(d,document.title,b)}},onPopState:function(b){var d=b.originalEvent.state;d&&(c.nextHashChangePrevented(!0),setTimeout(function(){c.nextHashChangePrevented(!1),a.mobile._handleHashChange(d.hash)},100))},init:function(){d.bind("hashchange",c.onHashChange),d.bind("popstate",c.onPopState),""===location.hash&&history.replaceState(c.state(),document.title,location.href)}}),a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&c.init()})}(jQuery,this),function(a){function b(b,c,d,e){var f=new a.Deferred,g=c?" reverse":"",h="ui-mobile-viewport-transitioning viewport-"+b;
return d.animationComplete(function(){d.add(e).removeClass("out in reverse "+b),e&&e[0]!==d[0]&&e.removeClass(a.mobile.activePageClass),d.parent().removeClass(h),f.resolve(b,c,d,e)}),d.parent().addClass(h),e&&e.addClass(b+" out"+g),d.addClass(a.mobile.activePageClass+" "+b+" in"+g),f.promise()}a.mobile.css3TransitionHandler=b,a.mobile.defaultTransitionHandler===a.mobile.noneTransitionHandler&&(a.mobile.defaultTransitionHandler=b)}(jQuery,this),function(a){a.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},a(document).bind("pagecreate create",function(b){var c=a.mobile.closestPageData(a(b.target));c&&(options=c.options,a(b.target).find("input").not(c.keepNativeSelector()).each(function(){var b=a(this),c=this.getAttribute("type"),d=options.degradeInputs[c]||"text";if(options.degradeInputs[c]){var e=a("<div>").html(b.clone()).html(),f=e.indexOf(" type=")>-1;b.replaceWith(e.replace(f?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+d+'" data-'+a.mobile.ns+'type="'+c+'"'+(f?"":">")))}}))})}(jQuery),function(a,b){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var b=this,c=this.element,d=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");c.addClass("ui-overlay-"+this.options.overlayTheme),c.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(d).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom"),d.bind("click",function(){b.close()}),c.bind("vclick submit",function(b){var c,b=a(b.target).closest("vclick"===b.type?"a":"form");b.length&&!b.jqmData("transition")&&(c=a.mobile.urlHistory.getActive()||{},b.attr("data-"+a.mobile.ns+"transition",c.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse"))}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)})},close:function(){b.history.back()}}),a(document).delegate(a.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){a(this).dialog()})}(jQuery,this),function(a){a.mobile.page.prototype.options.backBtnText="Back",a.mobile.page.prototype.options.addBackBtn=!1,a.mobile.page.prototype.options.backBtnTheme=null,a.mobile.page.prototype.options.headerTheme="a",a.mobile.page.prototype.options.footerTheme="a",a.mobile.page.prototype.options.contentTheme=null,a(document).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var b=a(this),c=b.data("page").options,d=b.jqmData("role"),e=c.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).each(function(){var b,f=a(this),g=f.jqmData("role"),h=f.jqmData("theme"),i=h||c.contentTheme||"dialog"===d&&e;if(f.addClass("ui-"+g),"header"===g||"footer"===g){var j=h||("header"===g?c.headerTheme:c.footerTheme)||e;f.addClass("ui-bar-"+j).attr("role","header"===g?"banner":"contentinfo"),h=f.children("a"),i=h.hasClass("ui-btn-left"),b=h.hasClass("ui-btn-right"),i=i||h.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,b||h.eq(1).addClass("ui-btn-right"),c.addBackBtn&&"header"===g&&a(".ui-page").length>1&&f.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!i&&a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+c.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",c.backBtnTheme||j).prependTo(f),f.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({tabindex:"0",role:"heading","aria-level":"1"})}else"content"===g&&(i&&f.addClass("ui-body-"+i),f.attr("role","main"))})})}(jQuery),function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",initSelector:":jqmData(role='collapsible')"},_create:function(){var b=this.element,c=this.options,d=b.addClass("ui-collapsible"),e=b.children(c.heading).first(),f=d.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),g=b.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");e.is("legend")&&(e=a("<div role='heading'>"+e.html()+"</div>").insertBefore(e),e.next().remove()),g.length&&(c.theme||(c.theme=g.jqmData("theme")),c.contentTheme||(c.contentTheme=g.jqmData("content-theme"))),f.addClass(c.contentTheme?"ui-body-"+c.contentTheme:""),e.insertBefore(f).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconPos:"left",icon:"plus",theme:c.theme}).add(".ui-btn-inner").addClass("ui-corner-top ui-corner-bottom"),d.bind("expand collapse",function(b){if(!b.isDefaultPrevented()){b.preventDefault();var h=a(this),b="collapse"===b.type,i=c.contentTheme;e.toggleClass("ui-collapsible-heading-collapsed",b).find(".ui-collapsible-heading-status").text(b?c.expandCueText:c.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!b).toggleClass("ui-icon-plus",b),h.toggleClass("ui-collapsible-collapsed",b),f.toggleClass("ui-collapsible-content-collapsed",b).attr("aria-hidden",b),!i||g.length&&!d.jqmData("collapsible-last")||(e.find("a").first().add(e.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",b),f.toggleClass("ui-corner-bottom",!b)),f.trigger("updatelayout")}}).trigger(c.collapsed?"collapse":"expand"),e.bind("click",function(a){var b=e.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";d.trigger(b),a.preventDefault()})}}),a(document).bind("pagecreate create",function(b){a(a.mobile.collapsible.prototype.options.initSelector,b.target).collapsible()})}(jQuery),function(a){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var b=this.element.addClass("ui-collapsible-set"),c=this.options,d=b.children(":jqmData(role='collapsible')");c.theme||(c.theme=b.jqmData("theme")),c.contentTheme||(c.contentTheme=b.jqmData("content-theme")),b.jqmData("collapsiblebound")||(b.jqmData("collapsiblebound",!0).bind("expand collapse",function(b){var c="collapse"===b.type,b=a(b.target).closest(".ui-collapsible"),d=b.data("collapsible");d.options.contentTheme&&b.jqmData("collapsible-last")&&(b.find(d.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",c),b.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!c))}).bind("expand",function(b){a(b.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")}),d.each(function(){a(this).find(a.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")}),d.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top"),d.last().jqmData("collapsible-last",!0).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom"))}}),a(document).bind("pagecreate create",function(b){a(a.mobile.collapsibleset.prototype.options.initSelector,b.target).collapsibleset()})}(jQuery),function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")},a(document).bind("pagecreate create",function(b){a(":jqmData(role='fieldcontain')",b.target).fieldcontain()})}(jQuery),function(a){a.fn.grid=function(b){return this.each(function(){var c=a(this),d=a.extend({grid:null},b),e=c.children(),f={solo:1,a:2,b:3,c:4,d:5},d=d.grid;if(!d)if(e.length<=5)for(var g in f)f[g]===e.length&&(d=g);else d="a";f=f[d],c.addClass("ui-grid-"+d),e.filter(":nth-child("+f+"n+1)").addClass("ui-block-a"),f>1&&e.filter(":nth-child("+f+"n+2)").addClass("ui-block-b"),f>2&&e.filter(":nth-child(3n+3)").addClass("ui-block-c"),f>3&&e.filter(":nth-child(4n+4)").addClass("ui-block-d"),f>4&&e.filter(":nth-child(5n+5)").addClass("ui-block-e")})}}(jQuery),function(a,b){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var c=this.element,d=c.find("a"),e=d.filter(":jqmData(icon)").length?this.options.iconpos:b;c.addClass("ui-navbar").attr("role","navigation").find("ul").grid({grid:this.options.grid}),e||c.addClass("ui-navbar-noicons"),d.buttonMarkup({corners:!1,shadow:!1,iconpos:e}),c.delegate("a","vclick",function(b){a(b.target).hasClass("ui-disabled")||(d.not(".ui-state-persist").removeClass(a.mobile.activeBtnClass),a(this).addClass(a.mobile.activeBtnClass))})}}),a(document).bind("pagecreate create",function(b){a(a.mobile.navbar.prototype.options.initSelector,b.target).navbar()})}(jQuery),function(a){var b={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var a=this;a.element.addClass(function(b,c){return c+" ui-listview "+(a.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"")}),a.refresh(!0)},_removeCorners:function(a,b){a=a.add(a.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb")),"top"===b?a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl"):"bottom"===b?a.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(a){var b,c;this.options.inset&&(b=this.element.children("li"),c=a?b.not(".ui-screen-hidden"):b.filter(":visible"),this._removeCorners(b),b=c.first().addClass("ui-corner-top"),b.add(b.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),c=c.last().addClass("ui-corner-bottom"),c.add(c.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")),a||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(a,b,c,d){var e={};for(e[c]=e[d]=!0;a;){if(e[a.nodeName])return a;a=a[b]}return null},_getChildrenByTagName:function(b,c,d){var e=[],f={};for(f[c]=f[d]=!0,b=b.firstChild;b;)f[b.nodeName]&&e.push(b),b=b.nextSibling;return a(e)},_addThumbClasses:function(b){var c,d,e=b.length;for(c=0;e>c;c++)d=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG")),d.length&&(d.addClass("ui-li-thumb"),a(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(b){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var c,d,e,f,g,h=this.options,i=this.element,j=i.jqmData("dividertheme")||h.dividerTheme,k=i.jqmData("splittheme"),l=i.jqmData("spliticon"),m=this._getChildrenByTagName(i[0],"li","LI"),n=a.support.cssPseudoElement||!a.nodeName(i[0],"ol")?0:1,o={};n&&i.find(".ui-li-dec").remove(),h.theme||(h.theme=a.mobile.getInheritedTheme(this.element,"c"));for(var p=0,q=m.length;q>p;p++)c=m.eq(p),d="ui-li",(b||!c.hasClass("ui-li"))&&(e=c.jqmData("theme")||h.theme,f=this._getChildrenByTagName(c[0],"a","A"),f.length?(g=c.jqmData("icon"),c.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:f.length>1||g===!1?!1:g||"arrow-r",theme:e}),0!=g&&1==f.length&&c.addClass("ui-li-has-arrow"),f.first().addClass("ui-link-inherit"),f.length>1&&(d+=" ui-li-has-alt",f=f.last(),g=k||f.jqmData("theme")||h.splitTheme,f.appendTo(c).attr("title",f.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:e,icon:!1,iconpos:!1}).find(".ui-btn-inner").append(a(document.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:g,iconpos:"notext",icon:l||f.jqmData("icon")||h.splitIcon})))):"list-divider"===c.jqmData("role")?(d+=" ui-li-divider ui-btn ui-bar-"+j,c.attr("role","heading"),n&&(n=1)):d+=" ui-li-static ui-body-"+e),n&&d.indexOf("ui-li-divider")<0&&(e=c.is(".ui-li-static:first")?c:c.find(".ui-link-inherit"),e.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+n++ +". </span>")),o[d]||(o[d]=[]),o[d].push(c[0]);for(d in o)a(o[d]).addClass(d).children(".ui-btn-inner").addClass(d);i.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var b=a(this);b.prependTo(b.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(i.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(m),this._addThumbClasses(i.find(".ui-link-inherit")),this._refreshCorners(b)},_idStringEscape:function(a){return a.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var c,d=this.element,e=d.closest(".ui-page"),f=e.jqmData("url"),g=f||e[0][a.expando],h=d.attr("id"),i=this.options,j="data-"+a.mobile.ns,k=this,l=e.find(":jqmData(role='footer')").jqmData("id");"undefined"==typeof b[g]&&(b[g]=-1),h=h||++b[g],a(d.find("li>ul, li>ol").toArray().reverse()).each(function(b){var e=a(this),g=e.attr("id")||h+"-"+b,b=e.parent(),k=a(e.prevAll().toArray().reverse()),k=k.length?k:a("<span>"+a.trim(b.contents()[0].nodeValue)+"</span>"),m=k.first().getEncodedText(),g=(f||"")+"&"+a.mobile.subPageUrlKey+"="+g,n=e.jqmData("theme")||i.theme,o=e.jqmData("counttheme")||d.jqmData("counttheme")||i.countTheme;c=!0,e.detach().wrap("<div "+j+"role='page' "+j+"url='"+g+"' "+j+"theme='"+n+"' "+j+"count-theme='"+o+"'><div "+j+"role='content'></div></div>").parent().before("<div "+j+"role='header' "+j+"theme='"+i.headerTheme+"'><div class='ui-title'>"+m+"</div></div>").after(l?a("<div "+j+"role='footer' "+j+"id='"+l+"'>"):"").parent().appendTo(a.mobile.pageContainer).page(),e=b.find("a:first"),e.length||(e=a("<a/>").html(k||m).prependTo(b.empty())),e.attr("href","#"+g)}).listview(),c&&e.is(":jqmData(external-page='true')")&&e.data("page").options.domCache===!1&&e.unbind("pagehide.remove").bind("pagehide.remove",function(b,c){var d=c.nextPage;c.nextPage&&(d=d.jqmData("url"),0!==d.indexOf(f+"&"+a.mobile.subPageUrlKey)&&(k.childPages().remove(),e.remove()))})},childPages:function(){var b=this.parentPage.jqmData("url");return a(":jqmData(url^='"+b+"&"+a.mobile.subPageUrlKey+"')")}}),a(document).bind("pagecreate create",function(b){a(a.mobile.listview.prototype.options.initSelector,b.target).listview()})}(jQuery),function(a){a.mobile.listview.prototype.options.filter=!1,a.mobile.listview.prototype.options.filterPlaceholder="Filter items...",a.mobile.listview.prototype.options.filterTheme="c",a.mobile.listview.prototype.options.filterCallback=function(a,b){return-1===a.toLowerCase().indexOf(b)},a(document).delegate(":jqmData(role='listview')","listviewcreate",function(){var b=a(this),c=b.data("listview");if(c.options.filter){var d=a("<form>",{"class":"ui-listview-filter ui-bar-"+c.options.filterTheme,role:"search"});a("<input>",{placeholder:c.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var d=a(this),e=this.value.toLowerCase(),f=null,f=d.jqmData("lastval")+"",g=!1,h="";if(d.jqmData("lastval",e),f=e.length<f.length||0!==e.indexOf(f)?b.children():b.children(":not(.ui-screen-hidden)"),e){for(var i=f.length-1;i>=0;i--)d=a(f[i]),h=d.jqmData("filtertext")||d.text(),d.is("li:jqmData(role=list-divider)")?(d.toggleClass("ui-filter-hidequeue",!g),g=!1):c.options.filterCallback(h,e)?d.toggleClass("ui-filter-hidequeue",!0):g=!0;f.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),f.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else f.toggleClass("ui-screen-hidden",!1);c._refreshCorners()}).appendTo(d).textinput(),a(this).jqmData("inset")&&d.addClass("ui-listview-filter-inset"),d.bind("submit",function(){return!1}).insertBefore(b)}})}(jQuery),function(a){a(document).bind("pagecreate create",function(b){a(":jqmData(role='nojs')",b.target).addClass("ui-nojs")})}(jQuery),function(a,b){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var c=this,d=this.element,e=d.closest("form,fieldset,:jqmData(role='page')").find("label").filter("[for='"+d[0].id+"']"),f=d.attr("type"),g=f+"-on",h=f+"-off",i=d.parents(":jqmData(type='horizontal')").length?b:h;("checkbox"===f||"radio"===f)&&(a.extend(this,{label:e,inputtype:f,checkedClass:"ui-"+g+(i?"":" "+a.mobile.activeBtnClass),uncheckedClass:"ui-"+h,checkedicon:"ui-icon-"+g,uncheckedicon:"ui-icon-"+h}),this.options.theme||(this.options.theme=this.element.jqmData("theme")),e.buttonMarkup({theme:this.options.theme,icon:i,shadow:!1}),d.add(e).wrapAll("<div class='ui-"+f+"'></div>"),e.bind({vmouseover:function(b){a(this).parent().is(".ui-disabled")&&b.stopPropagation()},vclick:function(a){return d.is(":disabled")?(a.preventDefault(),void 0):(c._cacheVals(),d.prop("checked","radio"===f&&!0||!d.prop("checked")),d.triggerHandler("click"),c._getInputSet().not(d).prop("checked",!1),c._updateAll(),!1)}}),d.bind({vmousedown:function(){c._cacheVals()},vclick:function(){var b=a(this);b.is(":checked")?(b.prop("checked",!0),c._getInputSet().not(b).prop("checked",!1)):b.prop("checked",!1),c._updateAll()},focus:function(){e.addClass("ui-focus")},blur:function(){e.removeClass("ui-focus")}}),this.refresh())},_cacheVals:function(){this._getInputSet().each(function(){var b=a(this);b.jqmData("cacheVal",b.is(":checked"))})},_getInputSet:function(){return"checkbox"==this.inputtype?this.element:this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element.attr("name")+"'][type='"+this.inputtype+"']")},_updateAll:function(){var b=this;this._getInputSet().each(function(){var c=a(this);(c.is(":checked")||"checkbox"===b.inputtype)&&c.trigger("change")}).checkboxradio("refresh")},refresh:function(){var b=this.element,c=this.label,d=c.find(".ui-icon");a(b[0]).prop("checked")?(c.addClass(this.checkedClass).removeClass(this.uncheckedClass),d.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(c.removeClass(this.checkedClass).addClass(this.uncheckedClass),d.removeClass(this.checkedicon).addClass(this.uncheckedicon)),b.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}}),a(document).bind("pagecreate create",function(b){a.mobile.checkboxradio.prototype.enhanceWithin(b.target)})}(jQuery),function(a,b){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:null,corners:!0,shadow:!0,iconshadow:!0,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']"},_create:function(){var c,d,e=this.element,f=this.options;"A"===e[0].tagName?e.hasClass("ui-btn")||e.buttonMarkup():(this.button=a("<div></div>").text(e.text()||e.val()).insertBefore(e).buttonMarkup({theme:f.theme,icon:f.icon,iconpos:f.iconpos,inline:f.inline,corners:f.corners,shadow:f.shadow,iconshadow:f.iconshadow}).append(e.addClass("ui-btn-hidden")),f=e.attr("type"),c=e.attr("name"),"button"!==f&&"reset"!==f&&c&&e.bind("vclick",function(){d===b&&(d=a("<input>",{type:"hidden",name:e.attr("name"),value:e.attr("value")}).insertBefore(e),a(document).one("submit",function(){d.remove(),d=b}))}),this.refresh())},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var a=this.element;a.prop("disabled")?this.disable():this.enable(),this.button.data("textWrapper").text(a.text()||a.val())}}),a(document).bind("pagecreate create",function(b){a.mobile.button.prototype.enhanceWithin(b.target)})}(jQuery),function(a,b){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')"},_create:function(){var c=this,d=this.element,e=a.mobile.getInheritedTheme(d,"c"),f=this.options.theme||e,g=this.options.trackTheme||e,h=d[0].nodeName.toLowerCase(),e="select"==h?"ui-slider-switch":"",i=d.attr("id"),j=i+"-label",i=a("[for='"+i+"']").attr("id",j),k=function(){return"input"==h?parseFloat(d.val()):d[0].selectedIndex},l="input"==h?parseFloat(d.attr("min")):0,m="input"==h?parseFloat(d.attr("max")):d.find("option").length-1,n=window.parseFloat(d.attr("step")||1),o=a("<div class='ui-slider "+e+" ui-btn-down-"+g+" ui-btn-corner-all' role='application'></div>"),p=a("<a href='#' class='ui-slider-handle'></a>").appendTo(o).buttonMarkup({corners:!0,theme:f,shadow:!0}).attr({role:"slider","aria-valuemin":l,"aria-valuemax":m,"aria-valuenow":k(),"aria-valuetext":k(),title:k(),"aria-labelledby":j});a.extend(this,{slider:o,handle:p,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),"select"==h&&(o.wrapInner("<div class='ui-slider-inneroffset'></div>"),p.addClass("ui-slider-handle-snapping"),d.find("option"),d.find("option").each(function(b){var c=b?"a":"b",d=b?"left":"right",b=b?" "+a.mobile.activeBtnClass:" ui-btn-down-"+g;a("<div class='ui-slider-labelbg ui-slider-labelbg-"+c+b+" ui-btn-corner-"+d+"'></div>").prependTo(o),a("<span class='ui-slider-label ui-slider-label-"+c+b+" ui-btn-corner-"+d+"' role='img'>"+a(this).getEncodedText()+"</span>").prependTo(p)})),i.addClass("ui-slider"),d.addClass("input"===h?"ui-slider-input":"ui-slider-switch").change(function(){c.mouseMoved||c.refresh(k(),!0)}).keyup(function(){c.refresh(k(),!0,!0)}).blur(function(){c.refresh(k(),!0)}),a(document).bind("vmousemove",function(a){return c.dragging?(c.mouseMoved=!0,"select"===h&&p.removeClass("ui-slider-handle-snapping"),c.refresh(a),c.userModified=c.beforeStart!==d[0].selectedIndex,!1):void 0}),o.bind("vmousedown",function(a){return c.dragging=!0,c.userModified=!1,c.mouseMoved=!1,"select"===h&&(c.beforeStart=d[0].selectedIndex),c.refresh(a),!1}),o.add(document).bind("vmouseup",function(){return c.dragging?(c.dragging=!1,"select"===h&&(p.addClass("ui-slider-handle-snapping"),c.mouseMoved?c.userModified?c.refresh(0==c.beforeStart?1:0):c.refresh(c.beforeStart):c.refresh(0==c.beforeStart?1:0)),c.mouseMoved=!1):void 0}),o.insertAfter(d),this.handle.bind("vmousedown",function(){a(this).focus()}).bind("vclick",!1),this.handle.bind("keydown",function(b){var d=k();if(!c.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),c._keySliding||(c._keySliding=!0,a(this).addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:c.refresh(l);break;case a.mobile.keyCode.END:c.refresh(m);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:c.refresh(d+n);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:c.refresh(d-n)}}}).keyup(function(){c._keySliding&&(c._keySliding=!1,a(this).removeClass("ui-state-active"))}),this.refresh(b,b,!0)},refresh:function(a,b,c){(this.options.disabled||this.element.attr("disabled"))&&this.disable();var d=this.element,e=d[0].nodeName.toLowerCase(),f="input"===e?parseFloat(d.attr("min")):0,g="input"===e?parseFloat(d.attr("max")):d.find("option").length-1,h="input"===e&&parseFloat(d.attr("step"))>0?parseFloat(d.attr("step")):1;if("object"==typeof a){if(!this.dragging||a.pageX<this.slider.offset().left-8||a.pageX>this.slider.offset().left+this.slider.width()+8)return;a=Math.round((a.pageX-this.slider.offset().left)/this.slider.width()*100)}else null==a&&(a="input"===e?parseFloat(d.val()||0):d[0].selectedIndex),a=(parseFloat(a)-f)/(g-f)*100;if(!isNaN(a)){0>a&&(a=0),a>100&&(a=100);var i=a/100*(g-f)+f,j=(i-f)%h;i-=j,2*Math.abs(j)>=h&&(i+=j>0?h:-h),i=parseFloat(i.toFixed(5)),f>i&&(i=f),i>g&&(i=g),this.handle.css("left",a+"%"),this.handle.attr({"aria-valuenow":"input"===e?i:d.find("option").eq(i).attr("value"),"aria-valuetext":"input"===e?i:d.find("option").eq(i).getEncodedText(),title:"input"===e?i:d.find("option").eq(i).getEncodedText()}),"select"===e&&(0===i?this.slider.addClass("ui-slider-switch-a").removeClass("ui-slider-switch-b"):this.slider.addClass("ui-slider-switch-b").removeClass("ui-slider-switch-a")),c||(c=!1,"input"===e?(c=d.val()!==i,d.val(i)):(c=d[0].selectedIndex!==i,d[0].selectedIndex=i),!b&&c&&d.trigger("change"))}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}}),a(document).bind("pagecreate create",function(b){a.mobile.slider.prototype.enhanceWithin(b.target)})}(jQuery),function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])"},_create:function(){var b,c,d=this.element,e=this.options.theme||a.mobile.getInheritedTheme(this.element,"c"),f=" ui-body-"+e;if(a("label[for='"+d.attr("id")+"']").addClass("ui-input-text"),b=d.addClass("ui-input-text ui-body-"+e),"undefined"!=typeof d[0].autocorrect&&!a.support.touchOverflow&&(d[0].setAttribute("autocorrect","off"),d[0].setAttribute("autocomplete","off")),d.is("[type='search'],:jqmData(type='search')")?(b=d.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+f+"'></div>").parent(),c=a("<a href='#' class='ui-input-clear' title='clear text'>clear text</a>").tap(function(a){d.val("").focus(),d.trigger("change"),c.addClass("ui-input-clear-hidden"),a.preventDefault()}).appendTo(b).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0}),e=function(){setTimeout(function(){c.toggleClass("ui-input-clear-hidden",!d.val())},0)},e(),d.bind("paste cut keyup focus change blur",e)):d.addClass("ui-corner-all ui-shadow-inset"+f),d.focus(function(){b.addClass("ui-focus")}).blur(function(){b.removeClass("ui-focus")}),d.is("textarea")){var g,h=function(){var a=d[0].scrollHeight;d[0].clientHeight<a&&d.height(a+15)};d.keyup(function(){clearTimeout(g),g=setTimeout(h,100)}),a(document).one("pagechange",h),a.trim(d.val())&&a(window).load(h)}},disable:function(){(this.element.attr("disabled",!0).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",!1).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}}),a(document).bind("pagecreate create",function(b){a.mobile.textinput.prototype.enhanceWithin(b.target)})}(jQuery),function(a){var b=function(b){var c=b.selectID,d=b.label,e=b.select.closest(".ui-page"),f=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(e),g=b._selectOptions(),h=b.isMultiple=b.select[0].multiple,i=c+"-button",j=c+"-menu",k=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+"theme='"+b.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+b.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+d.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>").appendTo(a.mobile.pageContainer).page(),l=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+b.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(f),m=a("<ul>",{"class":"ui-selectmenu-list",id:j,role:"listbox","aria-labelledby":i}).attr("data-"+a.mobile.ns+"theme",b.options.theme).appendTo(l),n=a("<div>",{"class":"ui-header ui-bar-"+b.options.theme}).prependTo(l),o=a("<h1>",{"class":"ui-title"}).appendTo(n),p=a("<a>",{text:b.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(n).buttonMarkup(),q=k.find(".ui-content"),r=k.find(".ui-header a");a.extend(b,{select:b.select,selectID:c,buttonId:i,menuId:j,thisPage:e,menuPage:k,label:d,screen:f,selectOptions:g,isMultiple:h,theme:b.options.theme,listbox:l,list:m,header:n,headerTitle:o,headerClose:p,menuPageContent:q,menuPageClose:r,placeholder:"",build:function(){var b=this;b.refresh(),b.select.attr("tabindex","-1").focus(function(){a(this).blur(),b.button.focus()}),b.button.bind("vclick keydown",function(c){("vclick"==c.type||c.keyCode&&(c.keyCode===a.mobile.keyCode.ENTER||c.keyCode===a.mobile.keyCode.SPACE))&&(b.open(),c.preventDefault())}),b.list.attr("role","listbox").delegate(".ui-li>a","focusin",function(){a(this).attr("tabindex","0")}).delegate(".ui-li>a","focusout",function(){a(this).attr("tabindex","-1")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(c){var d=b.select[0].selectedIndex,e=b.list.find("li:not(.ui-li-divider)").index(this),f=b._selectOptions().eq(e)[0];f.selected=b.isMultiple?!f.selected:!0,b.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",f.selected).toggleClass("ui-icon-checkbox-off",!f.selected),(b.isMultiple||d!==e)&&b.select.trigger("change"),b.isMultiple||b.close(),c.preventDefault()}).keydown(function(b){var c=a(b.target),d=c.closest("li");switch(b.keyCode){case 38:return b=d.prev(),b.length&&(c.blur().attr("tabindex","-1"),b.find("a").first().focus()),!1;case 40:return b=d.next(),b.length&&(c.blur().attr("tabindex","-1"),b.find("a").first().focus()),!1;case 13:case 32:return c.trigger("click"),!1}}),b.menuPage.bind("pagehide",function(){b.list.appendTo(b.listbox),b._focusButton(),a.mobile._bindPageRemove.call(b.thisPage)}),b.screen.bind("vclick",function(){b.close()}),b.headerClose.click(function(){return"overlay"==b.menuType?(b.close(),!1):void 0}),b.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var a=this.list.find("li");return this._selectOptions().text()!==a.text()},refresh:function(b){var c=this;this._selectOptions(),this.selected();var d=this.selectedIndices();(b||this._isRebuildRequired())&&c._buildList(),c.setButtonText(),c.setButtonCount(),c.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",!1).each(function(b){a.inArray(b,d)>-1&&(b=a(this),b.attr("aria-selected",!0),c.isMultiple?b.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):b.addClass(a.mobile.activeBtnClass))})},close:function(){!this.options.disabled&&this.isOpen&&("page"==this.menuType?window.history.back():(this.screen.addClass("ui-screen-hidden"),this.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in"),this.list.appendTo(this.listbox),this._focusButton()),this.isOpen=!1)},open:function(){if(!this.options.disabled){var b=this,c=b.list.parent().outerHeight(),d=b.list.parent().outerWidth(),e=a(".ui-page-active"),f=a.support.touchOverflow&&a.mobile.touchOverflowEnabled,e=e.is(".ui-native-fixed")?e.find(".ui-content"):e,g=f?e.scrollTop():a(window).scrollTop(),h=b.button.offset().top,i=a(window).height(),f=a(window).width();
if(b.button.addClass(a.mobile.activeBtnClass),setTimeout(function(){b.button.removeClass(a.mobile.activeBtnClass)},300),c>i-80||!a.support.scrollTop)b.thisPage.unbind("pagehide.remove"),0==g&&h>i&&b.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",h)}),b.menuPage.one("pageshow",function(){a(window).one("silentscroll",function(){b.list.find(a.mobile.activeBtnClass).focus()}),b.isOpen=!0}),b.menuType="page",b.menuPageContent.append(b.list),b.menuPage.find("div .ui-title").text(b.label.text()),a.mobile.changePage(b.menuPage,{transition:a.mobile.defaultDialogTransition});else{b.menuType="overlay",b.screen.height(a(document).height()).removeClass("ui-screen-hidden");var j=h-g,k=g+i-h,l=c/2,e=parseFloat(b.list.parent().css("max-width")),c=j>c/2&&k>c/2?h+b.button.outerHeight()/2-l:j>k?g+i-c-30:g+30;e>d?e=(f-d)/2:(e=b.button.offset().left+b.button.outerWidth()/2-d/2,30>e?e=30:e+d>f&&(e=f-d-30)),b.listbox.append(b.list).removeClass("ui-selectmenu-hidden").css({top:c,left:e}).addClass("in"),b.list.find(a.mobile.activeBtnClass).focus(),b.isOpen=!0}}},_buildList:function(){var b=this,c=this.options,d=this.placeholder,e=[],f=[],g=b.isMultiple?"checkbox-off":"false";b.list.empty().filter(".ui-listview").listview("destroy"),b.select.find("option").each(function(h){var i=a(this),j=i.parent(),k=i.getEncodedText(),l="<a href='#'>"+k+"</a>",m=[],n=[];j.is("optgroup")&&(j=j.attr("label"),-1===a.inArray(j,e)&&(f.push("<li data-"+a.mobile.ns+"role='list-divider'>"+j+"</li>"),e.push(j))),(!this.getAttribute("value")||0==k.length||i.jqmData("placeholder"))&&(c.hidePlaceholderMenuItems&&m.push("ui-selectmenu-placeholder"),d=b.placeholder=k),this.disabled&&(m.push("ui-disabled"),n.push("aria-disabled='true'")),f.push("<li data-"+a.mobile.ns+"option-index='"+h+"' data-"+a.mobile.ns+"icon='"+g+"' class='"+m.join(" ")+"' "+n.join(" ")+">"+l+"</li>")}),b.list.html(f.join(" ")),b.list.find("li").attr({role:"option",tabindex:"-1"}).first().attr("tabindex","0"),this.isMultiple||this.headerClose.hide(),this.isMultiple||d.length?this.headerTitle.text(this.placeholder):this.header.hide(),b.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a(document).delegate("select","selectmenubeforecreate",function(){var c=a(this).data("selectmenu");c.options.nativeMenu||b(c)})}(jQuery),function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:null,corners:!0,shadow:!0,iconshadow:!0,menuPageTheme:"b",overlayTheme:"a",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,initSelector:"select:not(:jqmData(role='slider'))"},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){this.select=this.element.wrap("<div class='ui-select'>"),this.selectID=this.select.attr("id"),this.label=a("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.select,"c"))},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var b=this,c=this.options,d=this.button.text(a(this.select[0].options.item(-1==this.select[0].selectedIndex?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:c.theme,icon:c.icon,iconpos:c.iconpos,inline:c.inline,corners:c.corners,shadow:c.shadow,iconshadow:c.iconshadow});c.nativeMenu&&window.opera&&window.opera.version&&this.select.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(d.addClass("ui-li-has-count"))),(c.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){b.refresh()}),this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",function(){b.button.removeClass("ui-btn-down-"+b.options.theme)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,c=this.selected();this.button.find(".ui-btn-text").text(function(){return b.isMultiple?c.length?c.map(function(){return a(this).text()}).get().join(", "):b.placeholder:c.text()})},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},refresh:function(){this.setButtonText(),this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}}),a(document).bind("pagecreate create",function(b){a.mobile.selectmenu.prototype.enhanceWithin(b.target)})}(jQuery),function(a,b){function c(a){for(var b;a&&!((b="string"==typeof a.className&&a.className+" ")&&b.indexOf("ui-btn ")>-1&&b.indexOf("ui-disabled ")<0);)a=a.parentNode;return a}a.fn.buttonMarkup=function(c){for(var c=c||{},e=0;e<this.length;e++){var f,g,h=this.eq(e),i=h[0],j=a.extend({},a.fn.buttonMarkup.defaults,{icon:c.icon!==b?c.icon:h.jqmData("icon"),iconpos:c.iconpos!==b?c.iconpos:h.jqmData("iconpos"),theme:c.theme!==b?c.theme:h.jqmData("theme"),inline:c.inline!==b?c.inline:h.jqmData("inline"),shadow:c.shadow!==b?c.shadow:h.jqmData("shadow"),corners:c.corners!==b?c.corners:h.jqmData("corners"),iconshadow:c.iconshadow!==b?c.iconshadow:h.jqmData("iconshadow")},c),k="ui-btn-inner",l=document.createElement(j.wrapperEls),m=document.createElement(j.wrapperEls),n=j.icon?document.createElement("span"):null;if("INPUT"!==i.tagName||"button"!==h.jqmData("role"))if("BUTTON"===i.tagName)a(i.parentNode).hasClass("ui-btn")||a(i).button();else{for(d&&d(),j.theme||(j.theme=a.mobile.getInheritedTheme(h,"c")),f="ui-btn ui-btn-up-"+j.theme,j.inline&&(f+=" ui-btn-inline"),j.icon&&(j.icon="ui-icon-"+j.icon,j.iconpos=j.iconpos||"left",g="ui-icon "+j.icon,j.iconshadow&&(g+=" ui-icon-shadow")),j.iconpos&&(f+=" ui-btn-icon-"+j.iconpos,"notext"==j.iconpos&&!h.attr("title")&&h.attr("title",h.getEncodedText())),j.corners&&(f+=" ui-btn-corner-all",k+=" ui-btn-corner-all"),j.shadow&&(f+=" ui-shadow"),i.setAttribute("data-"+a.mobile.ns+"theme",j.theme),h.addClass(f),l.className=k,m.className="ui-btn-text",l.appendChild(m),n&&(n.className=g,l.appendChild(n));i.firstChild;)m.appendChild(i.firstChild);i.appendChild(l),a.data(i,"textWrapper",a(m))}}return this},a.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,inline:!1,wrapperEls:"span"};var d=function(){a(document).bind({vmousedown:function(b){var d,b=c(b.target);b&&(b=a(b),d=b.attr("data-"+a.mobile.ns+"theme"),b.removeClass("ui-btn-up-"+d).addClass("ui-btn-down-"+d))},"vmousecancel vmouseup":function(b){var d,b=c(b.target);b&&(b=a(b),d=b.attr("data-"+a.mobile.ns+"theme"),b.removeClass("ui-btn-down-"+d).addClass("ui-btn-up-"+d))},"vmouseover focus":function(b){var d,b=c(b.target);b&&(b=a(b),d=b.attr("data-"+a.mobile.ns+"theme"),b.removeClass("ui-btn-up-"+d).addClass("ui-btn-hover-"+d))},"vmouseout blur":function(b){var d,b=c(b.target);b&&(b=a(b),d=b.attr("data-"+a.mobile.ns+"theme"),b.removeClass("ui-btn-hover-"+d+" ui-btn-down-"+d).addClass("ui-btn-up-"+d))}}),d=null};a(document).bind("pagecreate create",function(b){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",b.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(jQuery),function(a){a.fn.controlgroup=function(b){return this.each(function(){function c(a){a.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(g[0]).end().last().addClass(g[1]).addClass("ui-controlgroup-last")}var d=a(this),e=a.extend({direction:d.jqmData("type")||"vertical",shadow:!1,excludeInvisible:!0},b),f=d.children("legend"),g="horizontal"==e.direction?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];d.find("input").first().attr("type"),f.length&&(d.wrapInner("<div class='ui-controlgroup-controls'></div>"),a("<div role='heading' class='ui-controlgroup-label'>"+f.html()+"</div>").insertBefore(d.children(0)),f.remove()),d.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+e.direction),c(d.find(".ui-btn"+(e.excludeInvisible?":visible":""))),c(d.find(".ui-btn-inner")),e.shadow&&d.addClass("ui-shadow")})},a(document).bind("pagecreate create",function(b){a(":jqmData(role='controlgroup')",b.target).controlgroup({excludeInvisible:!1})})}(jQuery),function(a){a(document).bind("pagecreate create",function(b){a(b.target).find("a").not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(jQuery),function(a,b){a.fn.fixHeaderFooter=function(){return!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled?this:this.each(function(){var b=a(this);b.jqmData("fullscreen")&&b.addClass("ui-page-fullscreen"),b.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade"),b.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})},a.mobile.fixedToolbars=function(){function c(){!i&&"overlay"===h&&(g||a.mobile.fixedToolbars.hide(!0),a.mobile.fixedToolbars.startShowTimer())}function d(a){var b,c,d=0;if(a)for(c=document.body,b=a.offsetParent,d=a.offsetTop;a&&a!=c;)d+=a.scrollTop||0,a==b&&(d+=b.offsetTop,b=a.offsetParent),a=a.parentNode;return d}function e(b){var c=a(window).scrollTop(),e=d(b[0]),f="auto"==b.css("top")?0:parseFloat(b.css("top")),g=window.innerHeight,h=b.outerHeight(),i=b.parents(".ui-page:not(.ui-page-fullscreen)").length;return b.is(".ui-header-fixed")?(f=c-e+f,e>f&&(f=0),b.css("top",i?f:c)):b.css("top",i?c+g-h-(e-f):c+g-h)}if(a.support.scrollTop&&(!a.support.touchOverflow||!a.mobile.touchOverflowEnabled)){var f,g,h="inline",i=!1,j=null,k=!1,l=!0;return a(function(){var b=a(document),d=a(window);b.bind("vmousedown",function(){l&&(j=h)}).bind("vclick",function(b){l&&!a(b.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length&&!k&&(a.mobile.fixedToolbars.toggle(j),j=null)}).bind("silentscroll",c),(0===b.scrollTop()?d:b).bind("scrollstart",function(){k=!0,null===j&&(j=h);var b="overlay"==j;(i=b||!!g)&&(a.mobile.fixedToolbars.clearShowTimer(),b&&a.mobile.fixedToolbars.hide(!0))}).bind("scrollstop",function(b){a(b.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length||(k=!1,i&&(a.mobile.fixedToolbars.startShowTimer(),i=!1),j=null)}),d.bind("resize updatelayout",c)}),a(document).delegate(".ui-page","pagebeforeshow",function(b,c){var d=a(b.target).find(":jqmData(role='footer')"),g=d.data("id"),h=c.prevPage,h=h&&h.find(":jqmData(role='footer')"),h=h.length&&h.jqmData("id")===g;g&&h&&(f=d,e(f.removeClass("fade in out").appendTo(a.mobile.pageContainer)))}).delegate(".ui-page","pageshow",function(){var b=a(this);f&&f.length&&setTimeout(function(){e(f.appendTo(b).addClass("fade")),f=null},500),a.mobile.fixedToolbars.show(!0,this)}),a(document).delegate(".ui-collapsible-contain","collapse expand",c),{show:function(b,c){return a.mobile.fixedToolbars.clearShowTimer(),h="overlay",(c?a(c):a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var c=a(this),f=a(window).scrollTop(),g=d(c[0]),h=window.innerHeight,i=c.outerHeight(),f=c.is(".ui-header-fixed")&&g+i>=f||c.is(".ui-footer-fixed")&&f+h>=g;c.addClass("ui-fixed-overlay").removeClass("ui-fixed-inline"),!f&&!b&&c.animationComplete(function(){c.removeClass("in")}).addClass("in"),e(c)})},hide:function(b){return h="inline",(a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var c=a(this),d=c.css("top"),d="auto"==d?0:parseFloat(d);c.addClass("ui-fixed-inline").removeClass("ui-fixed-overlay"),(0>d||c.is(".ui-header-fixed")&&0!==d)&&(b?c.css("top",0):"auto"!==c.css("top")&&0!==parseFloat(c.css("top"))&&c.animationComplete(function(){c.removeClass("out reverse").css("top",0)}).addClass("out reverse"))})},startShowTimer:function(){a.mobile.fixedToolbars.clearShowTimer();var c=[].slice.call(arguments);g=setTimeout(function(){g=b,a.mobile.fixedToolbars.show.apply(null,c)},100)},clearShowTimer:function(){g&&clearTimeout(g),g=b},toggle:function(b){return b&&(h=b),"overlay"===h?a.mobile.fixedToolbars.hide():a.mobile.fixedToolbars.show()},setTouchToggleEnabled:function(a){l=a}}}}(),a(document).bind("pagecreate create",function(b){a(":jqmData(position='fixed')",b.target).length&&a(b.target).each(function(){if(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;var b=a(this);b.jqmData("fullscreen")&&b.addClass("ui-page-fullscreen"),b.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade"),b.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})})}(jQuery),function(a){a.mobile.touchOverflowEnabled=!1,a.mobile.touchOverflowZoomEnabled=!1,a(document).bind("pagecreate",function(b){a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&(b=a(b.target),b.is(":jqmData(role='page')")&&b.each(function(){var b=a(this),c=b.find(":jqmData(role='header'), :jqmData(role='footer')").filter(":jqmData(position='fixed')"),d=b.jqmData("fullscreen"),e=c.length?b.find(".ui-content"):b;b.addClass("ui-mobile-touch-overflow"),e.bind("scrollstop",function(){e.scrollTop()>0&&window.scrollTo(0,a.mobile.defaultHomeScroll)}),c.length&&(b.addClass("ui-native-fixed"),d&&(b.addClass("ui-native-fullscreen"),c.addClass("fade in"),a(document).bind("vclick",function(){c.removeClass("ui-native-bars-hidden").toggleClass("in out").animationComplete(function(){a(this).not(".in").addClass("ui-native-bars-hidden")})})))}))})}(jQuery),function(a,b){function c(){var b=a("meta[name='viewport']");b.length?b.attr("content",b.attr("content")+", user-scalable=no"):a("head").prepend("<meta>",{name:"viewport",content:"user-scalable=no"})}var d=a("html");a("head");var e=a(b);if(a(b.document).trigger("mobileinit"),a.mobile.gradeA()){a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),d.addClass("ui-mobile ui-mobile-rendering");var f=a("<div class='ui-loader ui-body-a ui-corner-all'><span class='ui-icon ui-icon-loading spin'></span><h1></h1></div>");a.extend(a.mobile,{showPageLoadingMsg:function(){if(a.mobile.loadingMessage){var b=a("."+a.mobile.activeBtnClass).first();f.find("h1").text(a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer).css({top:a.support.scrollTop&&e.scrollTop()+e.height()/2||b.length&&b.offset().top||100})}d.addClass("ui-loading")},hidePageLoadingMsg:function(){d.removeClass("ui-loading")},initializePage:function(){var b,c=a(":jqmData(role='page')");c.length||(b=a(":jqmData(role='dialog')"),b.length?(b.first().attr("data-"+a.mobile.ns+"role","page"),c=c.add(b.get().shift())):c=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)),c.add(":jqmData(role='dialog')").each(function(){var b=a(this);b.jqmData("url")||b.attr("data-"+a.mobile.ns+"url",b.attr("id")||location.pathname+location.search)}),a.mobile.firstPage=c.first(),a.mobile.pageContainer=c.first().parent().addClass("ui-mobile-viewport"),e.trigger("pagecontainercreate"),a.mobile.showPageLoadingMsg(),a.mobile.hashListeningEnabled&&a.mobile.path.stripHash(location.hash)?e.trigger("hashchange",[!0]):a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0})}}),a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&!a.mobile.touchOverflowZoomEnabled&&c(),a.mobile._registerInternalEvents(),a(function(){b.scrollTo(0,1),a.mobile.defaultHomeScroll=a.support.scrollTop&&1!==a(b).scrollTop()?1:0,a.mobile.autoInitializePage&&a.mobile.initializePage(),e.load(a.mobile.silentScroll)})}}(jQuery,this),function(a,b,c){"function"==typeof define&&define.amd?define(["jquery"],function(d){return c(d,a,b),d.mobile}):c(a.jQuery,a,b)}(this,document,function(a,b,c,d){!function(a){a.mobile={}}(a),function(a,b,d){var e={};a.mobile=a.extend(a.mobile,{version:"1.3.2",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:a(b),document:a(c),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(c){"number"!==a.type(c)&&(c=a.mobile.defaultHomeScroll),a.event.special.scrollstart.enabled=!1,setTimeout(function(){b.scrollTo(0,c),a.mobile.document.trigger("silentscroll",{x:0,y:c})},20),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:e,nsNormalize:function(b){return b?e[b]||(e[b]=a.camelCase(a.mobile.ns+b)):void 0},getInheritedTheme:function(a,b){for(var c,d,e=a[0],f="",g=/ui-(bar|body|overlay)-([a-z])\b/;e&&(c=e.className||"",!(c&&(d=g.exec(c))&&(f=d[2])));)e=e.parentNode;return f||b||"a"},closestPageData:function(a){return a.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,c){if(!a.mobile.ignoreContentEnabled)return b;for(var d,e,f,g=b.length,h=a(),i=0;g>i;i++){for(e=b.eq(i),f=!1,d=b[i];d;){var j=d.getAttribute?d.getAttribute("data-"+a.mobile.ns+c):"";if("false"===j){f=!0;break}d=d.parentNode}f||(h=h.add(e))}return h},getScreenHeight:function(){return b.innerHeight||a.mobile.window.height()}},a.mobile),a.fn.jqmData=function(b,c){var e;return"undefined"!=typeof b&&(b&&(b=a.mobile.nsNormalize(b)),e=arguments.length<2||c===d?this.data(b):this.data(b,c)),e},a.jqmData=function(b,c,d){var e;return"undefined"!=typeof c&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,d)),e},a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))},a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))},a.fn.removeWithDependents=function(){a.removeWithDependents(this)},a.removeWithDependents=function(b){var c=a(b);(c.jqmData("dependents")||a()).remove(),c.remove()},a.fn.addDependents=function(b){a.addDependents(a(this),b)},a.addDependents=function(b,c){var d=a(b).jqmData("dependents")||a();a(b).jqmData("dependents",a.merge(d,c))},a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()},a.fn.jqmEnhanceable=function(){return a.mobile.enhanceable(this)},a.fn.jqmHijackable=function(){return a.mobile.hijackable(this)};var f=a.find,g=/:jqmData\(([^)]*)\)/g;a.find=function(b,c,d,e){return b=b.replace(g,"[data-"+(a.mobile.ns||"")+"$1]"),f.call(this,b,c,d,e)},a.extend(a.find,f),a.find.matches=function(b,c){return a.find(b,null,null,c)},a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}}(a,this),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i=b.split(".")[0];b=b.split(".")[1],e=i+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[i]=a[i]||{},f=a[i][b],g=a[i][b]=function(a,b){return this._createWidget?(arguments.length&&this._createWidget(a,b),void 0):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,e){a.isFunction(e)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=d,b=e.apply(this,arguments),this._super=c,this._superApply=f,b}}())}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},d,{constructor:g,namespace:i,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(a),function(a,b){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var c=this.element,d={};return a.each(this.options,function(a){var e=c.jqmData(a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));e!==b&&(d[a]=e)}),d},enhanceWithin:function(b,c){this.enhance(a(this.options.initSelector,a(b)),c)},enhance:function(b,c){var d,e,f=a(b);f=a.mobile.enhanceable(f),c&&f.length&&(d=a.mobile.closestPageData(f),e=d&&d.keepNativeSelector()||"",f=f.not(e)),f[this.widgetName]()},raise:function(a){throw"Widget ["+this.widgetName+"]: "+a}})}(a),function(a){a.extend(a.mobile,{loadingMessageTextVisible:d,loadingMessageTheme:d,loadingMessage:d,showPageLoadingMsg:function(b,c,d){a.mobile.loading("show",b,c,d)},hidePageLoadingMsg:function(){a.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var b="ui-loader",c=a("html"),e=a.mobile.window;a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+b+"'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var b=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&e.scrollTop()+e.height()/2||b.length&&b.offset().top||100})},checkLoaderPosition:function(){var b=this.element.offset(),c=e.scrollTop(),d=a.mobile.getScreenHeight();(b.top<c||b.top-c>d)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),e.unbind("scroll",this.checkLoaderPosition).bind("scroll",a.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(f,g,h){var i,j,k;this.resetHtml(),"object"===a.type(f)?(k=a.extend({},this.options,f),f=k.theme||a.mobile.loadingMessageTheme):(k=this.options,f=f||a.mobile.loadingMessageTheme||k.theme),j=g||a.mobile.loadingMessage||k.text,c.addClass("ui-loading"),(a.mobile.loadingMessage!==!1||k.html)&&(i=a.mobile.loadingMessageTextVisible!==d?a.mobile.loadingMessageTextVisible:k.textVisible,this.element.attr("class",b+" ui-corner-all ui-body-"+f+" ui-loader-"+(i||g||f.text?"verbose":"default")+(k.textonly||h?" ui-loader-textonly":"")),k.html?this.element.html(k.html):this.element.find("h1").text(j),this.element.appendTo(a.mobile.pageContainer),this.checkLoaderPosition(),e.bind("scroll",a.proxy(this.checkLoaderPosition,this)))},hide:function(){c.removeClass("ui-loading"),a.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),a.mobile.window.unbind("scroll",this.fakeFixLoader),a.mobile.window.unbind("scroll",this.checkLoaderPosition)}}),e.bind("pagecontainercreate",function(){a.mobile.loaderWidget=a.mobile.loaderWidget||a(a.mobile.loader.prototype.defaultHtml).loader()})}(a,this),function(a,b,d){function e(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var f,g="hashchange",h=c,i=a.event.special,j=h.documentMode,k="on"+g in b&&(j===d||j>7);a.fn[g]=function(a){return a?this.bind(g,a):this.trigger(g)},a.fn[g].delay=50,i[g]=a.extend(i[g],{setup:function(){return k?!1:(a(f.start),void 0)},teardown:function(){return k?!1:(a(f.stop),void 0)}}),f=function(){function c(){var d=e(),h=n(j);d!==j?(m(j=d,h),a(b).trigger(g)):h!==j&&(location.href=location.href.replace(/#.*/,"")+h),f=setTimeout(c,a.fn[g].delay)}var f,i={},j=e(),l=function(a){return a},m=l,n=l;return i.start=function(){f||c()},i.stop=function(){f&&clearTimeout(f),f=d},b.attachEvent&&!b.addEventListener&&!k&&function(){var b,d;i.start=function(){b||(d=a.fn[g].src,d=d&&d+e(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||m(e()),c()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,h.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=h.title)}catch(a){}})},i.stop=l,n=function(){return e(b.location.href)},m=function(c,d){var e=b.document,f=a.fn[g].domain;c!==d&&(e.title=h.title,e.open(),f&&e.write('<script>document.domain="'+f+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(a,this),function(a){b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),a.mobile.media=function(a){return b.matchMedia(a).matches}}(a),function(a){var b={touch:"ontouchend"in c};a.mobile.support=a.mobile.support||{},a.extend(a.support,b),a.extend(a.mobile.support,b)}(a),function(a){a.extend(a.support,{orientation:"orientation"in b&&"onorientationchange"in b})}(a),function(a,d){function e(a){var b=a.charAt(0).toUpperCase()+a.substr(1),c=(a+" "+n.join(b+" ")+b).split(" ");for(var e in c)if(m[c[e]]!==d)return!0}function f(a,b,d){for(var e,f=c.createElement("div"),g=function(a){return a.charAt(0).toUpperCase()+a.substr(1)},h=function(a){return""===a?"":"-"+a.charAt(0).toLowerCase()+a.substr(1)+"-"},i=function(c){var d=h(c)+a+": "+b+";",i=g(c),j=i+(""===i?a:g(a));f.setAttribute("style",d),f.style[j]&&(e=!0)},j=d?d:n,k=0;k<j.length;k++)i(j[k]);return!!e}function g(){var e="transform-3d",f=a.mobile.media("(-"+n.join("-"+e+"),(-")+"-"+e+"),("+e+")");if(f)return!!f;
var g=c.createElement("div"),h={MozTransform:"-moz-transform",transform:"transform"};l.append(g);for(var i in h)g.style[i]!==d&&(g.style[i]="translate3d( 100px, 1px, 1px )",f=b.getComputedStyle(g).getPropertyValue(h[i]));return!!f&&"none"!==f}function h(){var b,c,d=location.protocol+"//"+location.host+location.pathname+"ui-dir/",e=a("head base"),f=null,g="";return e.length?g=e.attr("href"):e=f=a("<base>",{href:d}).appendTo("head"),b=a("<a href='testurl' />").prependTo(l),c=b[0].href,e[0].href=g||location.pathname,f&&f.remove(),0===c.indexOf(d)}function i(){var a,d=c.createElement("x"),e=c.documentElement,f=b.getComputedStyle;return"pointerEvents"in d.style?(d.style.pointerEvents="auto",d.style.pointerEvents="x",e.appendChild(d),a=f&&"auto"===f(d,"").pointerEvents,e.removeChild(d),!!a):!1}function j(){var a=c.createElement("div");return"undefined"!=typeof a.getBoundingClientRect}function k(){var a=b,c=navigator.userAgent,d=navigator.platform,e=c.match(/AppleWebKit\/([0-9]+)/),f=!!e&&e[1],g=c.match(/Fennec\/([0-9]+)/),h=!!g&&g[1],i=c.match(/Opera Mobi\/([0-9]+)/),j=!!i&&i[1];return(d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1||d.indexOf("iPod")>-1)&&f&&534>f||a.operamini&&"[object OperaMini]"==={}.toString.call(a.operamini)||i&&7458>j||c.indexOf("Android")>-1&&f&&533>f||h&&6>h||"palmGetResource"in b&&f&&534>f||c.indexOf("MeeGo")>-1&&c.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var l=a("<body>").prependTo("html"),m=l[0].style,n=["Webkit","Moz","O"],o="palmGetResource"in b,p=b.opera,q=b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini),r=b.blackberry&&!e("-webkit-transform");a.extend(a.mobile,{browser:{}}),a.mobile.browser.oldIE=function(){var a=3,b=c.createElement("div"),d=b.all||[];do b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]-->";while(d[0]);return a>4?a:!a}(),a.extend(a.support,{cssTransitions:"WebKitTransitionEvent"in b||f("transition","height 100ms linear",["Webkit","Moz",""])&&!a.mobile.browser.oldIE&&!p,pushState:"pushState"in history&&"replaceState"in history&&!(b.navigator.userAgent.indexOf("Firefox")>=0&&b.top!==b)&&-1===b.navigator.userAgent.search(/CriOS/),mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),cssTransform3d:g(),boxShadow:!!e("boxShadow")&&!r,fixedPosition:k(),scrollTop:("pageXOffset"in b||"scrollTop"in c.documentElement||"scrollTop"in l[0])&&!o&&!q,dynamicBaseTag:h(),cssPointerEvents:i(),boundingRect:j()}),l.remove();var s=function(){var a=b.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=function(){return(a.support.mediaquery||a.mobile.browser.oldIE&&a.mobile.browser.oldIE>=7)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},a.mobile.ajaxBlacklist=b.blackberry&&!b.WebKitPoint||q||s,s&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")}(a),function(a,b){var c,d=a.mobile.window;a.event.special.navigate=c={bound:!1,pushStateEnabled:!0,originalEventName:b,isPushStateEnabled:function(){return a.support.pushState&&a.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return a.mobile.hashListeningEnabled===!0},popstate:function(b){{var c=new a.Event("navigate"),e=new a.Event("beforenavigate"),f=b.originalEvent.state||{};location.href}d.trigger(e),e.isDefaultPrevented()||(b.historyState&&a.extend(f,b.historyState),c.originalEvent=b,setTimeout(function(){d.trigger(c,{state:f})},0))},hashchange:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate");d.trigger(e),e.isDefaultPrevented()||(c.originalEvent=b,d.trigger(c,{state:b.hashchangeState||{}}))},setup:function(){c.bound||(c.bound=!0,c.isPushStateEnabled()?(c.originalEventName="popstate",d.bind("popstate.navigate",c.popstate)):c.isHashChangeEnabled()&&(c.originalEventName="hashchange",d.bind("hashchange.navigate",c.hashchange)))}}}(a),function(a,c){var d,e,f="&ui-state=dialog";a.mobile.path=d={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=a?this.parseUrl(a):location,c=this.parseUrl(a||location.href).hash;return c="#"===c?"":c,b.protocol+"//"+b.host+b.pathname+b.search+c},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;var c=d.urlParseRE.exec(b||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},makePathAbsolute:function(a,b){if(a&&"/"===a.charAt(0))return a;a=a||"",b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var c=b?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++){var f=d[e];switch(f){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}}return"/"+c.join("/")},isSameDomain:function(a,b){return d.parseUrl(a).domain===d.parseUrl(b).domain},isRelativeUrl:function(a){return""===d.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==d.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!d.isRelativeUrl(a))return a;b===c&&(b=this.documentBase);var e=d.parseUrl(a),f=d.parseUrl(b),g=e.protocol||f.protocol,h=e.protocol?e.doubleSlash:e.doubleSlash||f.doubleSlash,i=e.authority||f.authority,j=""!==e.pathname,k=d.makePathAbsolute(e.pathname||f.filename,f.pathname),l=e.search||!j&&f.search||"",m=e.hash;return g+h+i+k+l+m},addSearchParams:function(b,c){var e=d.parseUrl(b),f="object"==typeof c?a.param(c):c,g=e.search||"?";return e.hrefNoSearch+g+("?"!==g.charAt(g.length-1)?"&":"")+f+(e.hash||"")},convertUrlToDataUrl:function(a){var c=d.parseUrl(a);return d.isEmbeddedPage(c)?c.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):d.isSameDomain(c,this.documentBase)?c.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]:b.decodeURIComponent(a)},get:function(a){return a===c&&(a=d.parseLocation().hash),d.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(this.documentBase.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},cleanHash:function(a){return d.stripHash(a.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){var b=d.parseUrl(a);return b.protocol&&b.domain!==this.documentUrl.domain?!0:!1},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbeddedPage:function(a){var b=d.parseUrl(a);return""!==b.protocol?!this.isPath(b.hash)&&b.hash&&(b.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&b.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(b.href)},squash:function(a,b){var c,e,f,g,h=this.isPath(a),i=this.parseUrl(a),j=i.hash,k="";return b=b||(d.isPath(a)?d.getLocation():d.getDocumentUrl()),e=h?d.stripHash(a):a,e=d.isPath(i.hash)?d.stripHash(i.hash):e,g=e.indexOf(this.uiStateKey),g>-1&&(k=e.slice(g),e=e.slice(0,g)),c=d.makeUrlAbsolute(e,b),f=this.parseUrl(c).search,h?((d.isPath(j)||0===j.replace("#","").indexOf(this.uiStateKey))&&(j=""),k&&-1===j.indexOf(this.uiStateKey)&&(j+=k),-1===j.indexOf("#")&&""!==j&&(j="#"+j),c=d.parseUrl(c),c=c.protocol+"//"+c.host+c.pathname+f+j):c+=c.indexOf("#")>-1?k:"#"+k,c},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)}},d.documentUrl=d.parseLocation(),e=a("head").find("base"),d.documentBase=e.length?d.parseUrl(d.makeUrlAbsolute(e.attr("href"),d.documentUrl.href)):d.documentUrl,d.documentBaseDiffers=d.documentUrl.hrefNoHash!==d.documentBase.hrefNoHash,d.getDocumentUrl=function(b){return b?a.extend({},d.documentUrl):d.documentUrl.href},d.getDocumentBase=function(b){return b?a.extend({},d.documentBase):d.documentBase.href}}(a),function(a,b){a.mobile.path;a.mobile.History=function(a,b){this.stack=a||[],this.activeIndex=b||0},a.extend(a.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(a,b){b=b||{},this.getNext()&&this.clearForward(),b.hash&&-1===b.hash.indexOf("#")&&(b.hash="#"+b.hash),b.url=a,this.stack.push(b),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(a,b,c){b=b||this.stack;var d,e,f,g=b.length;for(e=0;g>e;e++)if(d=b[e],(decodeURIComponent(a)===decodeURIComponent(d.url)||decodeURIComponent(a)===decodeURIComponent(d.hash))&&(f=e,c))return f;return f},closest:function(a){var c,d=this.activeIndex;return c=this.find(a,this.stack.slice(0,d)),c===b&&(c=this.find(a,this.stack.slice(d),!0),c=c===b?c:c+d),c},direct:function(c){var d=this.closest(c.url),e=this.activeIndex;d!==b&&(this.activeIndex=d,this.previousIndex=e),e>d?(c.present||c.back||a.noop)(this.getActive(),"back"):d>e?(c.present||c.forward||a.noop)(this.getActive(),"forward"):d===b&&c.missing&&c.missing(this.getActive())}})}(a),function(a){var d=a.mobile.path,e=location.href;a.mobile.Navigator=function(b){this.history=b,this.ignoreInitialHashChange=!0,a.mobile.window.bind({"popstate.history":a.proxy(this.popstate,this),"hashchange.history":a.proxy(this.hashchange,this)})},a.extend(a.mobile.Navigator.prototype,{squash:function(e,f){var g,h,i=d.isPath(e)?d.stripHash(e):e;return h=d.squash(e),g=a.extend({hash:i,url:h},f),b.history.replaceState(g,g.title||c.title,h),g},hash:function(a,b){var c,e,f;if(c=d.parseUrl(a),e=d.parseLocation(),e.pathname+e.search===c.pathname+c.search)f=c.hash?c.hash:c.pathname+c.search;else if(d.isPath(a)){var g=d.parseUrl(b);f=g.pathname+g.search+(d.isPreservableHash(g.hash)?g.hash.replace("#",""):"")}else f=a;return f},go:function(e,f,g){var h,i,j,k,l=a.event.special.navigate.isPushStateEnabled();i=d.squash(e),j=this.hash(e,i),g&&j!==d.stripHash(d.parseLocation().hash)&&(this.preventNextHashChange=g),this.preventHashAssignPopState=!0,b.location.hash=j,this.preventHashAssignPopState=!1,h=a.extend({url:i,hash:j,title:c.title},f),l&&(k=new a.Event("popstate"),k.originalEvent={type:"popstate",state:null},this.squash(e,h),g||(this.ignorePopState=!0,a.mobile.window.trigger(k))),this.history.add(h.url,h)},popstate:function(b){var c,f;if(a.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,b.stopImmediatePropagation(),void 0):this.ignorePopState?(this.ignorePopState=!1,void 0):!b.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===e)?(b.preventDefault(),void 0):(c=d.parseLocation().hash,!b.originalEvent.state&&c?(f=this.squash(c),this.history.add(f.url,f),b.historyState=f,void 0):(this.history.direct({url:(b.originalEvent.state||{}).url||c,present:function(c,d){b.historyState=a.extend({},c),b.historyState.direction=d}}),void 0))},hashchange:function(b){var e,f;if(a.event.special.navigate.isHashChangeEnabled()&&!a.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,b.stopImmediatePropagation(),void 0;e=this.history,f=d.parseLocation().hash,this.history.direct({url:f,present:function(c,d){b.hashchangeState=a.extend({},c),b.hashchangeState.direction=d},missing:function(){e.add(f,{hash:f,title:c.title})}})}}})}(a),function(a){a.mobile.navigate=function(b,c,d){a.mobile.navigate.navigator.go(b,c,d)},a.mobile.navigate.history=new a.mobile.History,a.mobile.navigate.navigator=new a.mobile.Navigator(a.mobile.navigate.history);var b=a.mobile.path.parseLocation();a.mobile.navigate.history.add(b.href,{hash:b.hash})}(a),function(a,b,c,d){function e(a){for(;a&&"undefined"!=typeof a.originalEvent;)a=a.originalEvent;return a}function f(b,c){var f,g,h,i,j,k,l,m,n,o=b.type;if(b=a.Event(b),b.type=c,f=b.originalEvent,g=a.event.props,o.search(/^(mouse|click)/)>-1&&(g=D),f)for(l=g.length,i;l;)i=g[--l],b[i]=f[i];if(o.search(/mouse(down|up)|click/)>-1&&!b.which&&(b.which=1),-1!==o.search(/^touch/)&&(h=e(f),o=h.touches,j=h.changedTouches,k=o&&o.length?o[0]:j&&j.length?j[0]:d))for(m=0,n=B.length;n>m;m++)i=B[m],b[i]=k[i];return b}function g(b){for(var c,d,e={};b;){c=a.data(b,y);for(d in c)c[d]&&(e[d]=e.hasVirtualBinding=!0);b=b.parentNode}return e}function h(b,c){for(var d;b;){if(d=a.data(b,y),d&&(!c||d[c]))return b;b=b.parentNode}return null}function i(){L=!1}function j(){L=!0}function k(){P=0,J.length=0,K=!1,j()}function l(){i()}function m(){n(),F=setTimeout(function(){F=0,k()},a.vmouse.resetTimerDuration)}function n(){F&&(clearTimeout(F),F=0)}function o(b,c,d){var e;return(d&&d[b]||!d&&h(c.target,b))&&(e=f(c,b),a(c.target).trigger(e)),e}function p(b){var c=a.data(b.target,z);if(!(K||P&&P===c)){var d=o("v"+b.type,b);d&&(d.isDefaultPrevented()&&b.preventDefault(),d.isPropagationStopped()&&b.stopPropagation(),d.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}}function q(b){var c,d,f=e(b).touches;if(f&&1===f.length&&(c=b.target,d=g(c),d.hasVirtualBinding)){P=O++,a.data(c,z,P),n(),l(),I=!1;var h=e(b).touches[0];G=h.pageX,H=h.pageY,o("vmouseover",b,d),o("vmousedown",b,d)}}function r(a){L||(I||o("vmousecancel",a,g(a.target)),I=!0,m())}function s(b){if(!L){var c=e(b).touches[0],d=I,f=a.vmouse.moveDistanceThreshold,h=g(b.target);I=I||Math.abs(c.pageX-G)>f||Math.abs(c.pageY-H)>f,I&&!d&&o("vmousecancel",b,h),o("vmousemove",b,h),m()}}function t(a){if(!L){j();var b,c=g(a.target);if(o("vmouseup",a,c),!I){var d=o("vclick",a,c);d&&d.isDefaultPrevented()&&(b=e(a).changedTouches[0],J.push({touchID:P,x:b.clientX,y:b.clientY}),K=!0)}o("vmouseout",a,c),I=!1,m()}}function u(b){var c,d=a.data(b,y);if(d)for(c in d)if(d[c])return!0;return!1}function v(){}function w(b){var c=b.substr(1);return{setup:function(){u(this)||a.data(this,y,{});var d=a.data(this,y);d[b]=!0,E[b]=(E[b]||0)+1,1===E[b]&&N.bind(c,p),a(this).bind(c,v),M&&(E.touchstart=(E.touchstart||0)+1,1===E.touchstart&&N.bind("touchstart",q).bind("touchend",t).bind("touchmove",s).bind("scroll",r))},teardown:function(){--E[b],E[b]||N.unbind(c,p),M&&(--E.touchstart,E.touchstart||N.unbind("touchstart",q).unbind("touchmove",s).unbind("touchend",t).unbind("scroll",r));var d=a(this),e=a.data(this,y);e&&(e[b]=!1),d.unbind(c,v),u(this)||d.removeData(y)}}}var x,y="virtualMouseBindings",z="virtualTouchID",A="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),B="clientX clientY pageX pageY screenX screenY".split(" "),C=a.event.mouseHooks?a.event.mouseHooks.props:[],D=a.event.props.concat(C),E={},F=0,G=0,H=0,I=!1,J=[],K=!1,L=!1,M="addEventListener"in c,N=a(c),O=1,P=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var Q=0;Q<A.length;Q++)a.event.special[A[Q]]=w(A[Q]);M&&c.addEventListener("click",function(b){var c,d,e,f,g,h,i=J.length,j=b.target;if(i)for(c=b.clientX,d=b.clientY,x=a.vmouse.clickDistanceThreshold,e=j;e;){for(f=0;i>f;f++)if(g=J[f],h=0,e===j&&Math.abs(g.x-c)<x&&Math.abs(g.y-d)<x||a.data(e,z)===g.touchID)return b.preventDefault(),b.stopPropagation(),void 0;e=e.parentNode}},!0)}(a,b,c),function(a,b,d){function e(b,c,d){var e=d.type;d.type=c,a.event.dispatch.call(b,d),d.type=e}var f=a(c);a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)},a.attrFn&&(a.attrFn[c]=!0)});var g=a.mobile.support.touch,h="touchmove scroll",i=g?"touchstart":"mousedown",j=g?"touchend":"mouseup",k=g?"touchmove":"mousemove";a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){c=b,e(f,c?"scrollstart":"scrollstop",a)}var c,d,f=this,g=a(f);g.bind(h,function(e){a.event.special.scrollstart.enabled&&(c||b(e,!0),clearTimeout(d),d=setTimeout(function(){b(e,!1)},50))})}},a.event.special.tap={tapholdThreshold:750,setup:function(){var b=this,c=a(b);c.bind("vmousedown",function(d){function g(){clearTimeout(j)}function h(){g(),c.unbind("vclick",i).unbind("vmouseup",g),f.unbind("vmousecancel",h)}function i(a){h(),k===a.target&&e(b,"tap",a)}if(d.which&&1!==d.which)return!1;{var j,k=d.target;d.originalEvent}c.bind("vmouseup",g).bind("vclick",i),f.bind("vmousecancel",h),j=setTimeout(function(){e(b,"taphold",a.Event("taphold",{target:k}))},a.event.special.tap.tapholdThreshold)})}},a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;return{time:(new Date).getTime(),coords:[c.pageX,c.pageY],origin:a(b.target)}},stop:function(a){var b=a.originalEvent.touches?a.originalEvent.touches[0]:a;return{time:(new Date).getTime(),coords:[b.pageX,b.pageY]}},handleSwipe:function(b,c){c.time-b.time<a.event.special.swipe.durationThreshold&&Math.abs(b.coords[0]-c.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(b.coords[1]-c.coords[1])<a.event.special.swipe.verticalDistanceThreshold&&b.origin.trigger("swipe").trigger(b.coords[0]>c.coords[0]?"swipeleft":"swiperight")},setup:function(){var b=this,c=a(b);c.bind(i,function(b){function e(b){g&&(f=a.event.special.swipe.stop(b),Math.abs(g.coords[0]-f.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault())}var f,g=a.event.special.swipe.start(b);c.bind(k,e).one(j,function(){c.unbind(k,e),g&&f&&a.event.special.swipe.handleSwipe(g,f),g=f=d})})}},a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)}}})}(a,this),function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",f)},teardown:function(){a(this).unbind("resize",f)}};var b,c,d,e=250,f=function(){c=(new Date).getTime(),d=c-g,d>=e?(g=c,a(this).trigger("throttledresize")):(b&&clearTimeout(b),b=setTimeout(f,e-d))},g=0}(a),function(a,b){function d(){var a=e();a!==f&&(f=a,i.trigger(j))}var e,f,g,h,i=a(b),j="orientationchange",k={0:!0,180:!0};if(a.support.orientation){var l=b.innerWidth||i.width(),m=b.innerHeight||i.height(),n=50;g=l>m&&l-m>n,h=k[b.orientation],(g&&h||!g&&!h)&&(k={"-90":!0,90:!0})}a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:(f=e(),i.bind("throttledresize",d),void 0)},teardown:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:(i.unbind("throttledresize",d),void 0)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=e(),b.apply(this,arguments)}}}),a.event.special.orientationchange.orientation=e=function(){var d=!0,e=c.documentElement;return d=a.support.orientation?k[b.orientation]:e&&e.clientWidth/e.clientHeight<1.1,d?"portrait":"landscape"},a.fn[j]=function(a){return a?this.bind(j,a):this.trigger(j)},a.attrFn&&(a.attrFn[j]=!0)}(a,this),function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),void 0)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){a.mobile.pageContainer.removeClass("ui-overlay-"+a.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(b){this.options.theme&&a.mobile.pageContainer.addClass("ui-overlay-"+(b||this.options.theme))},keepNativeSelector:function(){var b=this.options,c=b.keepNative&&a.trim(b.keepNative);return c&&b.keepNative!==b.keepNativeDefault?[b.keepNative,b.keepNativeDefault].join(", "):b.keepNativeDefault}})}(a),function(a,b,c){var d=function(d){return d===c&&(d=!0),function(c,e,f,g){var h=new a.Deferred,i=e?" reverse":"",j=a.mobile.urlHistory.getActive(),k=j.lastScroll||a.mobile.defaultHomeScroll,l=a.mobile.getScreenHeight(),m=a.mobile.maxTransitionWidth!==!1&&a.mobile.window.width()>a.mobile.maxTransitionWidth,n=!a.support.cssTransitions||m||!c||"none"===c||Math.max(a.mobile.window.scrollTop(),k)>a.mobile.getMaxScrollForTransition(),o=" ui-page-pre-in",p=function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+c)},q=function(){a.event.special.scrollstart.enabled=!1,b.scrollTo(0,k),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},r=function(){g.removeClass(a.mobile.activePageClass+" out in reverse "+c).height("")},s=function(){d?g.animationComplete(t):t(),g.height(l+a.mobile.window.scrollTop()).addClass(c+" out"+i)},t=function(){g&&d&&r(),u()},u=function(){f.css("z-index",-10),f.addClass(a.mobile.activePageClass+o),a.mobile.focusPage(f),f.height(l+k),q(),f.css("z-index",""),n||f.animationComplete(v),f.removeClass(o).addClass(c+" in"+i),n&&v()},v=function(){d||g&&r(),f.removeClass("out in reverse "+c).height(""),p(),a.mobile.window.scrollTop()!==k&&q(),h.resolve(c,e,f,g,!0)};return p(),g&&!n?s():t(),h.promise()}},e=d(),f=d(!1),g=function(){return 3*a.mobile.getScreenHeight()};a.mobile.defaultTransitionHandler=e,a.mobile.transitionHandlers={"default":a.mobile.defaultTransitionHandler,sequential:e,simultaneous:f},a.mobile.transitionFallbacks={},a.mobile._maybeDegradeTransition=function(b){return b&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[b]&&(b=a.mobile.transitionFallbacks[b]),b},a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||g}(a,this),function(a,d){function e(b){!p||p.closest("."+a.mobile.activePageClass).length&&!b||p.removeClass(a.mobile.activeBtnClass),p=null}function f(){t=!1,s.length>0&&a.mobile.changePage.apply(null,s.pop())}function g(b,c,d,e){c&&c.data("mobile-page")._trigger("beforehide",null,{nextPage:b}),b.data("mobile-page")._trigger("beforeshow",null,{prevPage:c||a("")}),a.mobile.hidePageLoadingMsg(),d=a.mobile._maybeDegradeTransition(d);var f=a.mobile.transitionHandlers[d||"default"]||a.mobile.defaultTransitionHandler,g=f(d,e,b,c);return g.done(function(){c&&c.data("mobile-page")._trigger("hide",null,{nextPage:b}),b.data("mobile-page")._trigger("show",null,{prevPage:c||a("")})}),g}function h(b,c){c&&b.attr("data-"+a.mobile.ns+"role",c),b.page()}function i(){var b=a.mobile.activePage&&k(a.mobile.activePage);return b||x.hrefNoHash}function j(a){for(;a&&("string"!=typeof a.nodeName||"a"!==a.nodeName.toLowerCase());)a=a.parentNode;return a}function k(b){var c=a(b).closest(".ui-page").jqmData("url"),d=x.hrefNoHash;return c&&n.isPath(c)||(c=d),n.makeUrlAbsolute(c,d)}var l=a.mobile.window,m=(a("html"),a("head")),n=a.extend(a.mobile.path,{getFilePath:function(b){var c="&"+a.mobile.subPageUrlKey;return b&&b.split(c)[0].split(u)[0]},isFirstPageUrl:function(b){var c=n.parseUrl(n.makeUrlAbsolute(b,this.documentBase)),e=c.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&c.hrefNoHash===this.documentBase.hrefNoHash,f=a.mobile.firstPage,g=f&&f[0]?f[0].id:d;return e&&(!c.hash||"#"===c.hash||g&&c.hash.replace(/^#/,"")===g)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&"file:"===b.protocol&&-1!==c.search(/^https?:/)}}),o=null,p=null,q=a.Deferred(),r=a.mobile.navigate.history,s=[],t=!1,u="&ui-state=dialog",v=m.children("base"),w=n.documentUrl,x=n.documentBase,y=(n.documentBaseDiffers,a.mobile.getScreenHeight),z=a.support.dynamicBaseTag?{element:v.length?v:a("<base>",{href:x.hrefNoHash}).prependTo(m),set:function(a){a=n.parseUrl(a).hrefNoHash,z.element.attr("href",n.makeUrlAbsolute(a,x))},reset:function(){z.element.attr("href",x.hrefNoSearch)}}:d;a.mobile.getDocumentUrl=n.getDocumentUrl,a.mobile.getDocumentBase=n.getDocumentBase,a.mobile.back=function(){var a=b.navigator;this.phonegapNavigationEnabled&&a&&a.app&&a.app.backHistory?a.app.backHistory():b.history.back()},a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");return b.length?(b.focus(),void 0):(c.length?c.focus():a.focus(),void 0)};var A,B,C=!0;A=function(){if(C){var b=a.mobile.urlHistory.getActive();if(b){var c=l.scrollTop();b.lastScroll=c<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:c}}},B=function(){setTimeout(A,100)},l.bind(a.support.pushState?"popstate":"hashchange",function(){C=!1}),l.one(a.support.pushState?"popstate":"hashchange",function(){C=!0}),l.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){C=!0,l.unbind("scrollstop",B),l.bind("scrollstop",B)})}),l.bind("scrollstop",B),a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a},a.mobile.resetActivePageHeight=function(b){var c=a("."+a.mobile.activePageClass),d=parseFloat(c.css("padding-top")),e=parseFloat(c.css("padding-bottom")),f=parseFloat(c.css("border-top-width")),g=parseFloat(c.css("border-bottom-width"));b="number"==typeof b?b:y(),c.css("min-height",b-d-e-f-g)},a.fn.animationComplete=function(b){return a.support.cssTransitions?a(this).one("webkitAnimationEnd animationend",b):(setTimeout(b,0),a(this))},a.mobile.path=n,a.mobile.base=z,a.mobile.urlHistory=r,a.mobile.dialogHashKey=u,a.mobile.allowCrossDomainPages=!1,a.mobile._bindPageRemove=function(){var b=a(this);!b.data("mobile-page").options.domCache&&b.is(":jqmData(external-page='true')")&&b.bind("pagehide.remove",function(){var b=a(this),c=new a.Event("pageremove");b.trigger(c),c.isDefaultPrevented()||b.removeWithDependents()})},a.mobile.loadPage=function(b,c){var e=a.Deferred(),f=a.extend({},a.mobile.loadPage.defaults,c),g=null,j=null,k=n.makeUrlAbsolute(b,i());f.data&&"get"===f.type&&(k=n.addSearchParams(k,f.data),f.data=d),f.data&&"post"===f.type&&(f.reloadPage=!0);var l=n.getFilePath(k),m=n.convertUrlToDataUrl(k);if(f.pageContainer=f.pageContainer||a.mobile.pageContainer,g=f.pageContainer.children("[data-"+a.mobile.ns+"url='"+m+"']"),0===g.length&&m&&!n.isPath(m)&&(g=f.pageContainer.children("#"+m).attr("data-"+a.mobile.ns+"url",m).jqmData("url",m)),0===g.length)if(a.mobile.firstPage&&n.isFirstPageUrl(l))a.mobile.firstPage.parent().length&&(g=a(a.mobile.firstPage));else if(n.isEmbeddedPage(l))return e.reject(k,c),e.promise();if(g.length){if(!f.reloadPage)return h(g,f.role),e.resolve(k,c,g),z&&!c.prefetch&&z.set(b),e.promise();j=g}var o=f.pageContainer,p=new a.Event("pagebeforeload"),q={url:b,absUrl:k,dataUrl:m,deferred:e,options:f};if(o.trigger(p,q),p.isDefaultPrevented())return e.promise();if(f.showLoadMsg)var r=setTimeout(function(){a.mobile.showPageLoadingMsg()},f.loadMsgDelay),s=function(){clearTimeout(r),a.mobile.hidePageLoadingMsg()};return!z||"undefined"!=typeof c&&"undefined"!=typeof c.prefetch||z.reset(),a.mobile.allowCrossDomainPages||n.isSameDomain(w,k)?a.ajax({url:l,type:f.type,data:f.data,contentType:f.contentType,dataType:"html",success:function(d,i,o){var p=a("<div></div>"),r=d.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,t=new RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),u=new RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(t.test(d)&&RegExp.$1&&u.test(RegExp.$1)&&RegExp.$1&&(b=l=n.getFilePath(a("<div>"+RegExp.$1+"</div>").text())),!z||"undefined"!=typeof c&&"undefined"!=typeof c.prefetch||z.set(l),p.get(0).innerHTML=d,g=p.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),g.length||(g=a("<div data-"+a.mobile.ns+"role='page'>"+(d.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),r&&!g.jqmData("title")&&(~r.indexOf("&")&&(r=a("<div>"+r+"</div>").text()),g.jqmData("title",r)),!a.support.dynamicBaseTag){var v=n.get(l);g.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var b=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",c=a(this).attr(b);c=c.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(c)||a(this).attr(b,v+c)})}g.attr("data-"+a.mobile.ns+"url",n.convertUrlToDataUrl(l)).attr("data-"+a.mobile.ns+"external-page",!0).appendTo(f.pageContainer),g.one("pagecreate",a.mobile._bindPageRemove),h(g,f.role),k.indexOf("&"+a.mobile.subPageUrlKey)>-1&&(g=f.pageContainer.children("[data-"+a.mobile.ns+"url='"+m+"']")),f.showLoadMsg&&s(),q.xhr=o,q.textStatus=i,q.page=g,f.pageContainer.trigger("pageload",q),e.resolve(k,c,g,j)},error:function(b,d,g){z&&z.set(n.get()),q.xhr=b,q.textStatus=d,q.errorThrown=g;var h=new a.Event("pageloadfailed");f.pageContainer.trigger(h,q),h.isDefaultPrevented()||(f.showLoadMsg&&(s(),a.mobile.showPageLoadingMsg(a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0),setTimeout(a.mobile.hidePageLoadingMsg,1500)),e.reject(k,c))}}):e.reject(k,c),e.promise()},a.mobile.loadPage.defaults={type:"get",data:d,reloadPage:!1,role:d,showLoadMsg:!1,pageContainer:d,loadMsgDelay:50},a.mobile.changePage=function(b,j){if(t)return s.unshift(arguments),void 0;var k,l=a.extend({},a.mobile.changePage.defaults,j);l.pageContainer=l.pageContainer||a.mobile.pageContainer,l.fromPage=l.fromPage||a.mobile.activePage,k="string"==typeof b;var m=l.pageContainer,o=new a.Event("pagebeforechange"),p={toPage:b,options:l};if(p.absUrl=k?n.makeUrlAbsolute(b,i()):b.data("absUrl"),m.trigger(o,p),!o.isDefaultPrevented()){if(b=p.toPage,k="string"==typeof b,t=!0,k)return l.target=b,a.mobile.loadPage(b,l).done(function(b,c,d,e){t=!1,c.duplicateCachedPage=e,d.data("absUrl",p.absUrl),a.mobile.changePage(d,c)}).fail(function(){e(!0),f(),l.pageContainer.trigger("pagechangefailed",p)}),void 0;b[0]!==a.mobile.firstPage[0]||l.dataUrl||(l.dataUrl=w.hrefNoHash);var q=l.fromPage,v=l.dataUrl&&n.convertUrlToDataUrl(l.dataUrl)||b.jqmData("url"),x=v,y=(n.getFilePath(v),r.getActive()),z=0===r.activeIndex,A=0,B=c.title,C="dialog"===l.role||"dialog"===b.jqmData("role");if(q&&q[0]===b[0]&&!l.allowSamePageTransition)return t=!1,m.trigger("pagechange",p),l.fromHashChange&&r.direct({url:v}),void 0;h(b,l.role),l.fromHashChange&&(A="back"===j.direction?-1:1);try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()?a(c.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(D){}var E=!1;C&&y&&(y.url&&y.url.indexOf(u)>-1&&a.mobile.activePage&&!a.mobile.activePage.is(".ui-dialog")&&r.activeIndex>0&&(l.changeHash=!1,E=!0),v=y.url||"",v+=!E&&v.indexOf("#")>-1?u:"#"+u,0===r.activeIndex&&v===r.initialDst&&(v+=u));var F=y?b.jqmData("title")||b.children(":jqmData(role='header')").find(".ui-title").text():B;if(F&&B===c.title&&(B=F),b.jqmData("title")||b.jqmData("title",B),l.transition=l.transition||(A&&!z?y.transition:d)||(C?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition),!A&&E&&(r.getActive().pageUrl=x),v&&!l.fromHashChange){var G;!n.isPath(v)&&v.indexOf("#")<0&&(v="#"+v),G={transition:l.transition,title:B,pageUrl:x,role:l.role},l.changeHash!==!1&&a.mobile.hashListeningEnabled?a.mobile.navigate(v,G,!0):b[0]!==a.mobile.firstPage[0]&&a.mobile.navigate.history.add(v,G)}c.title=B,a.mobile.activePage=b,l.reverse=l.reverse||0>A,g(b,q,l.transition,l.reverse).done(function(c,d,g,h,i){e(),l.duplicateCachedPage&&l.duplicateCachedPage.remove(),i||a.mobile.focusPage(b),f(),m.trigger("pagechange",p)})}},a.mobile.changePage.defaults={transition:d,reverse:!1,changeHash:!0,fromHashChange:!1,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:!0,dataUrl:d,fromPage:d,allowSamePageTransition:!1},a.mobile.navreadyDeferred=a.Deferred(),a.mobile._registerInternalEvents=function(){var c=function(b,c){var d,e,f,g,h=!0;return!a.mobile.ajaxEnabled||b.is(":jqmData(ajax='false')")||!b.jqmHijackable().length||b.attr("target")?!1:(d=b.attr("action"),g=(b.attr("method")||"get").toLowerCase(),d||(d=k(b),"get"===g&&(d=n.parseUrl(d).hrefNoSearch),d===x.hrefNoHash&&(d=w.hrefNoSearch)),d=n.makeUrlAbsolute(d,k(b)),n.isExternal(d)&&!n.isPermittedCrossDomainRequest(w,d)?!1:(c||(e=b.serializeArray(),o&&o[0].form===b[0]&&(f=o.attr("name"),f&&(a.each(e,function(a,b){return b.name===f?(f="",!1):void 0
}),f&&e.push({name:f,value:o.attr("value")}))),h={url:d,options:{type:g,data:a.param(e),transition:b.jqmData("transition"),reverse:"reverse"===b.jqmData("direction"),reloadPage:!0}}),h))};a.mobile.document.delegate("form","submit",function(b){var d=c(a(this));d&&(a.mobile.changePage(d.url,d.options),b.preventDefault())}),a.mobile.document.bind("vclick",function(b){var d,f,g=b.target,h=!1;if(!(b.which>1)&&a.mobile.linkBindingEnabled){if(o=a(g),a.data(g,"mobile-button")){if(!c(a(g).closest("form"),!0))return;g.parentNode&&(g=g.parentNode)}else{if(g=j(g),!g||"#"===n.parseUrl(g.getAttribute("href")||"#").hash)return;if(!a(g).jqmHijackable().length)return}~g.className.indexOf("ui-link-inherit")?g.parentNode&&(f=a.data(g.parentNode,"buttonElements")):f=a.data(g,"buttonElements"),f?g=f.outer:h=!0,d=a(g),h&&(d=d.closest(".ui-btn")),d.length>0&&!d.hasClass("ui-disabled")&&(e(!0),p=d,p.addClass(a.mobile.activeBtnClass))}}),a.mobile.document.bind("click",function(c){if(a.mobile.linkBindingEnabled&&!c.isDefaultPrevented()){var f,g=j(c.target),h=a(g);if(g&&!(c.which>1)&&h.jqmHijackable().length){if(f=function(){b.setTimeout(function(){e(!0)},200)},h.is(":jqmData(rel='back')"))return a.mobile.back(),!1;var i=k(h),l=n.makeUrlAbsolute(h.attr("href")||"#",i);if(!a.mobile.ajaxEnabled&&!n.isEmbeddedPage(l))return f(),void 0;if(-1!==l.search("#")){if(l=l.replace(/[^#]*#/,""),!l)return c.preventDefault(),void 0;l=n.isPath(l)?n.makeUrlAbsolute(l,i):n.makeUrlAbsolute("#"+l,w.hrefNoHash)}var m=h.is("[rel='external']")||h.is(":jqmData(ajax='false')")||h.is("[target]"),o=m||n.isExternal(l)&&!n.isPermittedCrossDomainRequest(w,l);if(o)return f(),void 0;var p=h.jqmData("transition"),q="reverse"===h.jqmData("direction")||h.jqmData("back"),r=h.attr("data-"+a.mobile.ns+"rel")||d;a.mobile.changePage(l,{transition:p,reverse:q,role:r,link:h}),c.preventDefault()}}}),a.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&-1===a.inArray(d,b)&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel"),prefetch:!0}))})}),a.mobile._handleHashChange=function(c,e){var f=n.stripHash(c),g=0===a.mobile.urlHistory.stack.length?"none":d,h={changeHash:!1,fromHashChange:!0,reverse:"back"===e.direction};if(a.extend(h,e,{transition:(r.getLast()||{}).transition||g}),r.activeIndex>0&&f.indexOf(u)>-1&&r.initialDst!==f){if(a.mobile.activePage&&!a.mobile.activePage.is(".ui-dialog"))return"back"===e.direction?a.mobile.back():b.history.forward(),void 0;f=e.pageUrl;var i=a.mobile.urlHistory.getActive();a.extend(h,{role:i.role,transition:i.transition,reverse:"back"===e.direction})}f?(f=n.isPath(f)?f:n.makeUrlAbsolute("#"+f,x),f===n.makeUrlAbsolute("#"+r.initialDst,x)&&r.stack.length&&r.stack[0].url!==r.initialDst.replace(u,"")&&(f=a.mobile.firstPage),a.mobile.changePage(f,h)):a.mobile.changePage(a.mobile.firstPage,h)},l.bind("navigate",function(b,c){var d;b.originalEvent&&b.originalEvent.isDefaultPrevented()||(d=a.event.special.navigate.originalEventName.indexOf("hashchange")>-1?c.state.hash:c.state.url,d||(d=a.mobile.path.parseLocation().hash),d&&"#"!==d&&0!==d.indexOf("#"+a.mobile.path.uiStateKey)||(d=location.href),a.mobile._handleHashChange(d,c.state))}),a.mobile.document.bind("pageshow",a.mobile.resetActivePageHeight),a.mobile.window.bind("throttledresize",a.mobile.resetActivePageHeight)},a(function(){q.resolve()}),a.when(q,a.mobile.navreadyDeferred).done(function(){a.mobile._registerInternalEvents()})}(a),function(a){a.mobile.transitionFallbacks.flip="fade"}(a,this),function(a){a.mobile.transitionFallbacks.flow="fade"}(a,this),function(a){a.mobile.transitionFallbacks.pop="fade"}(a,this),function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous,a.mobile.transitionFallbacks.slide="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidedown="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidefade="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slideup="fade"}(a,this),function(a){a.mobile.transitionFallbacks.turn="fade"}(a,this),function(a){a.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},a.mobile.document.bind("pagecreate create",function(b){var c,d=a.mobile.closestPageData(a(b.target));d&&(c=d.options,a(b.target).find("input").not(d.keepNativeSelector()).each(function(){var b=a(this),d=this.getAttribute("type"),e=c.degradeInputs[d]||"text";if(c.degradeInputs[d]){var f=a("<div>").html(b.clone()).html(),g=f.indexOf(" type=")>-1,h=g?/\s+type=["']?\w+['"]?/:/\/?>/,i=' type="'+e+'" data-'+a.mobile.ns+'type="'+d+'"'+(g?"":">");b.replaceWith(f.replace(h,i))}}))})}(a),function(a){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_create:function(){var b=this.element,c=this.options.corners?" ui-corner-all":"",d=a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+c});b.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),b.wrapInner(d),b.bind("vclick submit",function(b){var c,d=a(b.target).closest("vclick"===b.type?"a":"form");d.length&&!d.jqmData("transition")&&(c=a.mobile.urlHistory.getActive()||{},d.attr("data-"+a.mobile.ns+"transition",c.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse"))}),this._on(b,{pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),a.extend(this,{_createComplete:!1}),this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(b){var c,d,e=this;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null),"none"!==b&&(d="left"===b?"left":"right",c=a("<a href='#' class='ui-btn-"+d+"' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),this.element.children().find(":jqmData(role='header')").first().prepend(c),this._createComplete&&a.fn.buttonMarkup&&c.buttonMarkup(),this._createComplete=!0,c.bind("click",function(){e.close()}),this._headerCloseButton=c)},_setOption:function(a,b){"closeBtn"===a&&this._setCloseBtn(b),this._super(a,b)},close:function(){var b,c,d=a.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled&&d.activeIndex>0?a.mobile.back():(b=Math.max(0,d.activeIndex-1),c=d.stack[b].pageUrl||d.stack[b].url,d.previousIndex=d.activeIndex,d.activeIndex=b,a.mobile.path.isPath(c)||(c=a.mobile.path.makeUrlAbsolute("#"+c)),a.mobile.changePage(c,{direction:"back",changeHash:!1,fromHashChange:!0})))}}),a.mobile.document.delegate(a.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){a.mobile.dialog.prototype.enhance(this)})}(a,this),function(a){a.mobile.page.prototype.options.backBtnText="Back",a.mobile.page.prototype.options.addBackBtn=!1,a.mobile.page.prototype.options.backBtnTheme=null,a.mobile.page.prototype.options.headerTheme="a",a.mobile.page.prototype.options.footerTheme="a",a.mobile.page.prototype.options.contentTheme=null,a.mobile.document.bind("pagecreate",function(b){var c=a(b.target),d=c.data("mobile-page").options,e=c.jqmData("role"),f=d.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",c).jqmEnhanceable().each(function(){var b,g,h,i,j=a(this),k=j.jqmData("role"),l=j.jqmData("theme"),m=l||d.contentTheme||"dialog"===e&&f;if(j.addClass("ui-"+k),"header"===k||"footer"===k){var n=l||("header"===k?d.headerTheme:d.footerTheme)||f;j.addClass("ui-bar-"+n).attr("role","header"===k?"banner":"contentinfo"),"header"===k&&(b=j.children("a, button"),g=b.hasClass("ui-btn-left"),h=b.hasClass("ui-btn-right"),g=g||b.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,h=h||b.eq(1).addClass("ui-btn-right").length),d.addBackBtn&&"header"===k&&a(".ui-page").length>1&&c.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!g&&(i=a("<a href='javascript:void(0);' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+d.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",d.backBtnTheme||n).prependTo(j)),j.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else"content"===k&&(m&&j.addClass("ui-body-"+m),j.attr("role","main"))})})}(a),function(a,b){function d(a){for(var b;a&&(b="string"==typeof a.className&&a.className+" ",!(b&&b.indexOf("ui-btn ")>-1&&b.indexOf("ui-disabled ")<0));)a=a.parentNode;return a}function e(d,e,f,g,h){var i=a.data(d[0],"buttonElements");d.removeClass(e).addClass(f),i&&(i.bcls=a(c.createElement("div")).addClass(i.bcls+" "+f).removeClass(e).attr("class"),g!==b&&(i.hover=g),i.state=h)}var f=function(a,c){var d=a.getAttribute(c);return"true"===d?!0:"false"===d?!1:null===d?b:d};a.fn.buttonMarkup=function(d){var e,h=this,i="data-"+a.mobile.ns;d=d&&"object"===a.type(d)?d:{};for(var j=0;j<h.length;j++){var k,l,m,n,o,p,q=h.eq(j),r=q[0],s=a.extend({},a.fn.buttonMarkup.defaults,{icon:d.icon!==b?d.icon:f(r,i+"icon"),iconpos:d.iconpos!==b?d.iconpos:f(r,i+"iconpos"),theme:d.theme!==b?d.theme:f(r,i+"theme")||a.mobile.getInheritedTheme(q,"c"),inline:d.inline!==b?d.inline:f(r,i+"inline"),shadow:d.shadow!==b?d.shadow:f(r,i+"shadow"),corners:d.corners!==b?d.corners:f(r,i+"corners"),iconshadow:d.iconshadow!==b?d.iconshadow:f(r,i+"iconshadow"),mini:d.mini!==b?d.mini:f(r,i+"mini")},d),t="ui-btn-inner",u="ui-btn-text",v=!1,w="up";for(e in s)s[e]===b||null===s[e]?q.removeAttr(i+e):r.setAttribute(i+e,s[e]);for(p=a.data("INPUT"===r.tagName||"BUTTON"===r.tagName?r.parentNode:r,"buttonElements"),p?(r=p.outer,q=a(r),m=p.inner,n=p.text,a(p.icon).remove(),p.icon=null,v=p.hover,w=p.state):(m=c.createElement(s.wrapperEls),n=c.createElement(s.wrapperEls)),o=s.icon?c.createElement("span"):null,g&&!p&&g(),s.theme||(s.theme=a.mobile.getInheritedTheme(q,"c")),k="ui-btn ",k+=v?"ui-btn-hover-"+s.theme:"",k+=w?" ui-btn-"+w+"-"+s.theme:"",k+=s.shadow?" ui-shadow":"",k+=s.corners?" ui-btn-corner-all":"",s.mini!==b&&(k+=s.mini===!0?" ui-mini":" ui-fullsize"),s.inline!==b&&(k+=s.inline===!0?" ui-btn-inline":" ui-btn-block"),s.icon&&(s.icon="ui-icon-"+s.icon,s.iconpos=s.iconpos||"left",l="ui-icon "+s.icon,s.iconshadow&&(l+=" ui-icon-shadow")),s.iconpos&&(k+=" ui-btn-icon-"+s.iconpos,"notext"!==s.iconpos||q.attr("title")||q.attr("title",q.getEncodedText())),p&&q.removeClass(p.bcls||""),q.removeClass("ui-link").addClass(k),m.className=t,n.className=u,p||m.appendChild(n),o&&(o.className=l,p&&p.icon||(o.innerHTML="&#160;",m.appendChild(o)));r.firstChild&&!p;)n.appendChild(r.firstChild);p||r.appendChild(m),p={hover:v,state:w,bcls:k,outer:r,inner:m,text:n,icon:o},a.data(r,"buttonElements",p),a.data(m,"buttonElements",p),a.data(n,"buttonElements",p),o&&a.data(o,"buttonElements",p)}return this},a.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var g=function(){var c,f,h=a.mobile.buttonMarkup.hoverDelay;a.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(g){var i,j=a(d(g.target)),k=g.originalEvent&&/^touch/.test(g.originalEvent.type),l=g.type;j.length&&(i=j.attr("data-"+a.mobile.ns+"theme"),"vmousedown"===l?k?c=setTimeout(function(){e(j,"ui-btn-up-"+i,"ui-btn-down-"+i,b,"down")},h):e(j,"ui-btn-up-"+i,"ui-btn-down-"+i,b,"down"):"vmousecancel"===l||"vmouseup"===l?e(j,"ui-btn-down-"+i,"ui-btn-up-"+i,b,"up"):"vmouseover"===l||"focus"===l?k?f=setTimeout(function(){e(j,"ui-btn-up-"+i,"ui-btn-hover-"+i,!0,"")},h):e(j,"ui-btn-up-"+i,"ui-btn-hover-"+i,!0,""):("vmouseout"===l||"blur"===l||"scrollstart"===l)&&(e(j,"ui-btn-hover-"+i+" ui-btn-down-"+i,"ui-btn-up-"+i,!1,"up"),c&&clearTimeout(c),f&&clearTimeout(f)))},"focusin focus":function(b){a(d(b.target)).addClass(a.mobile.focusClass)},"focusout blur":function(b){a(d(b.target)).removeClass(a.mobile.focusClass)}}),g=null};a.mobile.document.bind("pagecreate create",function(b){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",b.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(a),function(a,b){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var c=this.element,d=this.options,e=c.addClass("ui-collapsible"),f=c.children(d.heading).first(),g=e.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),h=c.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),i="";f.is("legend")&&(f=a("<div role='heading'>"+f.html()+"</div>").insertBefore(f),f.next().remove()),h.length?(d.theme||(d.theme=h.jqmData("theme")||a.mobile.getInheritedTheme(h,"c")),d.contentTheme||(d.contentTheme=h.jqmData("content-theme")),d.collapsedIcon=c.jqmData("collapsed-icon")||h.jqmData("collapsed-icon")||d.collapsedIcon,d.expandedIcon=c.jqmData("expanded-icon")||h.jqmData("expanded-icon")||d.expandedIcon,d.iconpos=c.jqmData("iconpos")||h.jqmData("iconpos")||d.iconpos,d.inset=h.jqmData("inset")!==b?h.jqmData("inset"):!0,d.corners=!1,d.mini||(d.mini=h.jqmData("mini"))):d.theme||(d.theme=a.mobile.getInheritedTheme(c,"c")),d.inset&&(i+=" ui-collapsible-inset",d.corners&&(i+=" ui-corner-all")),d.contentTheme&&(i+=" ui-collapsible-themed-content",g.addClass("ui-body-"+d.contentTheme)),""!==i&&e.addClass(i),f.insertBefore(g).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:d.iconpos,icon:d.collapsedIcon,mini:d.mini,theme:d.theme}),e.bind("expand collapse",function(b){if(!b.isDefaultPrevented()){var c=a(this),e="collapse"===b.type;b.preventDefault(),f.toggleClass("ui-collapsible-heading-collapsed",e).find(".ui-collapsible-heading-status").text(e?d.expandCueText:d.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+d.expandedIcon,!e).toggleClass("ui-icon-"+d.collapsedIcon,e||d.expandedIcon===d.collapsedIcon).end().find("a").first().removeClass(a.mobile.activeBtnClass),c.toggleClass("ui-collapsible-collapsed",e),g.toggleClass("ui-collapsible-content-collapsed",e).attr("aria-hidden",e),g.trigger("updatelayout")}}).trigger(d.collapsed?"collapse":"expand"),f.bind("tap",function(){f.find("a").first().addClass(a.mobile.activeBtnClass)}).bind("click",function(a){var b=f.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";e.trigger(b),a.preventDefault(),a.stopPropagation()})}}),a.mobile.document.bind("pagecreate create",function(b){a.mobile.collapsible.prototype.enhanceWithin(b.target)})}(a),function(a){a.mobile.behaviors.addFirstLastClasses={_getVisibles:function(a,b){var c;return b?c=a.not(".ui-screen-hidden"):(c=a.filter(":visible"),0===c.length&&(c=a.not(".ui-screen-hidden"))),c},_addFirstLastClasses:function(a,b,c){a.removeClass("ui-first-child ui-last-child"),b.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),c||this.element.trigger("updatelayout")}}}(a),function(a,b){a.widget("mobile.collapsibleset",a.mobile.widget,a.extend({options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var c=this.element.addClass("ui-collapsible-set"),d=this.options;d.theme||(d.theme=a.mobile.getInheritedTheme(c,"c")),d.contentTheme||(d.contentTheme=c.jqmData("content-theme")),d.corners||(d.corners=c.jqmData("corners")),c.jqmData("inset")!==b&&(d.inset=c.jqmData("inset")),d.inset=d.inset!==b?d.inset:!0,d.corners=d.corners!==b?d.corners:!0,d.corners&&d.inset&&c.addClass("ui-corner-all"),c.jqmData("collapsiblebound")||c.jqmData("collapsiblebound",!0).bind("expand",function(b){var c=a(b.target).closest(".ui-collapsible");c.parent().is(":jqmData(role='collapsible-set')")&&c.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var a=this.element,b=a.children(":jqmData(role='collapsible')"),c=b.filter(":jqmData(collapsed='false')");this._refresh("true"),c.trigger("expand")},_refresh:function(b){var c=this.element.children(":jqmData(role='collapsible')");a.mobile.collapsible.prototype.enhance(c.not(".ui-collapsible")),this._addFirstLastClasses(c,this._getVisibles(c,b),b)},refresh:function(){this._refresh(!1)}},a.mobile.behaviors.addFirstLastClasses)),a.mobile.document.bind("pagecreate create",function(b){a.mobile.collapsibleset.prototype.enhanceWithin(b.target)})}(a),function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()},a(c).bind("pagecreate create",function(b){a(":jqmData(role='fieldcontain')",b.target).jqmEnhanceable().fieldcontain()})}(a),function(a){a.fn.grid=function(b){return this.each(function(){var c,d=a(this),e=a.extend({grid:null},b),f=d.children(),g={solo:1,a:2,b:3,c:4,d:5},h=e.grid;if(!h)if(f.length<=5)for(var i in g)g[i]===f.length&&(h=i);else h="a",d.addClass("ui-grid-duo");c=g[h],d.addClass("ui-grid-"+h),f.filter(":nth-child("+c+"n+1)").addClass("ui-block-a"),c>1&&f.filter(":nth-child("+c+"n+2)").addClass("ui-block-b"),c>2&&f.filter(":nth-child("+c+"n+3)").addClass("ui-block-c"),c>3&&f.filter(":nth-child("+c+"n+4)").addClass("ui-block-d"),c>4&&f.filter(":nth-child("+c+"n+5)").addClass("ui-block-e")})}}(a),function(a,b){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var d=this.element,e=d.find("a"),f=e.filter(":jqmData(icon)").length?this.options.iconpos:b;d.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),e.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:f}),d.delegate("a","vclick",function(b){var d=a(b.target).is("a")?a(this):a(this).parent("a");if(!d.is(".ui-disabled, .ui-btn-active")){e.removeClass(a.mobile.activeBtnClass),a(this).addClass(a.mobile.activeBtnClass);var f=a(this);a(c).one("pagehide",function(){f.removeClass(a.mobile.activeBtnClass)})}}),d.closest(".ui-page").bind("pagebeforeshow",function(){e.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}}),a.mobile.document.bind("pagecreate create",function(b){a.mobile.navbar.prototype.enhanceWithin(b.target)})}(a),function(a){var b={};a.widget("mobile.listview",a.mobile.widget,a.extend({options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var a=this,b="";b+=a.options.inset?" ui-listview-inset":"",a.options.inset&&(b+=a.options.corners?" ui-corner-all":"",b+=a.options.shadow?" ui-shadow":""),a.element.addClass(function(a,c){return c+" ui-listview"+b}),a.refresh(!0)},_findFirstElementByTagName:function(a,b,c,d){var e={};for(e[c]=e[d]=!0;a;){if(e[a.nodeName])return a;a=a[b]}return null},_getChildrenByTagName:function(b,c,d){var e=[],f={};for(f[c]=f[d]=!0,b=b.firstChild;b;)f[b.nodeName]&&e.push(b),b=b.nextSibling;return a(e)},_addThumbClasses:function(b){var c,d,e=b.length;for(c=0;e>c;c++)d=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG")),d.length&&(d.addClass("ui-li-thumb"),a(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(b){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var d,e,f,g,h,i,j,k,l,m,n,o,p=this.options,q=this.element,r=q.jqmData("dividertheme")||p.dividerTheme,s=q.jqmData("splittheme"),t=q.jqmData("spliticon"),u=q.jqmData("icon"),v=this._getChildrenByTagName(q[0],"li","LI"),w=!!a.nodeName(q[0],"ol"),x=!a.support.cssPseudoElement,y=q.attr("start"),z={};w&&x&&q.find(".ui-li-dec").remove(),w&&(y||0===y?x?j=parseInt(y,10):(k=parseInt(y,10)-1,q.css("counter-reset","listnumbering "+k)):x&&(j=1)),p.theme||(p.theme=a.mobile.getInheritedTheme(this.element,"c"));for(var A=0,B=v.length;B>A;A++){if(d=v.eq(A),e="ui-li",b||!d.hasClass("ui-li")){f=d.jqmData("theme")||p.theme,g=this._getChildrenByTagName(d[0],"a","A");var C="list-divider"===d.jqmData("role");g.length&&!C?(n=d.jqmData("icon"),d.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:g.length>1||n===!1?!1:n||u||p.icon,theme:f}),n!==!1&&1===g.length&&d.addClass("ui-li-has-arrow"),g.first().removeClass("ui-link").addClass("ui-link-inherit"),g.length>1&&(e+=" ui-li-has-alt",h=g.last(),i=s||h.jqmData("theme")||p.splitTheme,o=h.jqmData("icon"),h.appendTo(d).attr("title",a.trim(h.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:f,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(a(c.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:i,iconpos:"notext",icon:o||n||t||p.splitIcon})))):C?(e+=" ui-li-divider ui-bar-"+(d.jqmData("theme")||r),d.attr("role","heading"),w&&(y||0===y?x?j=parseInt(y,10):(l=parseInt(y,10)-1,d.css("counter-reset","listnumbering "+l)):x&&(j=1))):e+=" ui-li-static ui-btn-up-"+f}w&&x&&e.indexOf("ui-li-divider")<0&&(m=e.indexOf("ui-li-static")>0?d:d.find(".ui-link-inherit"),m.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+j++ +". </span>")),z[e]||(z[e]=[]),z[e].push(d[0])}for(e in z)a(z[e]).addClass(e).children(".ui-btn-inner").addClass(e);q.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var b=a(this);b.prependTo(b.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(q.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(v),this._addThumbClasses(q.find(".ui-link-inherit")),this._addFirstLastClasses(v,this._getVisibles(v,b),b),this._trigger("afterrefresh")},_idStringEscape:function(a){return a.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var c,d=this.element,e=d.closest(".ui-page"),f=e.jqmData("url"),g=f||e[0][a.expando],h=d.attr("id"),i=this.options,j="data-"+a.mobile.ns,k=this,l=e.find(":jqmData(role='footer')").jqmData("id");if("undefined"==typeof b[g]&&(b[g]=-1),h=h||++b[g],a(d.find("li>ul, li>ol").toArray().reverse()).each(function(b){var e,g,k=a(this),m=k.attr("id")||h+"-"+b,n=k.parent(),o=a(k.prevAll().toArray().reverse()),p=o.length?o:a("<span>"+a.trim(n.contents()[0].nodeValue)+"</span>"),q=p.first().getEncodedText(),r=(f||"")+"&"+a.mobile.subPageUrlKey+"="+m,s=k.jqmData("theme")||i.theme,t=k.jqmData("counttheme")||d.jqmData("counttheme")||i.countTheme;c=!0,e=k.detach().wrap("<div "+j+"role='page' "+j+"url='"+r+"' "+j+"theme='"+s+"' "+j+"count-theme='"+t+"'><div "+j+"role='content'></div></div>").parent().before("<div "+j+"role='header' "+j+"theme='"+i.headerTheme+"'><div class='ui-title'>"+q+"</div></div>").after(l?a("<div "+j+"role='footer' "+j+"id='"+l+"'>"):"").parent().appendTo(a.mobile.pageContainer),e.page(),g=n.find("a:first"),g.length||(g=a("<a/>").html(p||q).prependTo(n.empty())),g.attr("href","#"+r)}).listview(),c&&e.is(":jqmData(external-page='true')")&&e.data("mobile-page").options.domCache===!1){var m=function(b,c){var d,g=c.nextPage,h=new a.Event("pageremove");c.nextPage&&(d=g.jqmData("url"),0!==d.indexOf(f+"&"+a.mobile.subPageUrlKey)&&(k.childPages().remove(),e.trigger(h),h.isDefaultPrevented()||e.removeWithDependents()))};e.unbind("pagehide.remove").bind("pagehide.remove",m)}},childPages:function(){var b=this.parentPage.jqmData("url");return a(":jqmData(url^='"+b+"&"+a.mobile.subPageUrlKey+"')")}},a.mobile.behaviors.addFirstLastClasses)),a.mobile.document.bind("pagecreate create",function(b){a.mobile.listview.prototype.enhanceWithin(b.target)})}(a),function(a){var b=a("meta[name=viewport]"),c=b.attr("content"),d=c+",maximum-scale=1, user-scalable=no",e=c+",maximum-scale=10, user-scalable=yes",f=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!f,locked:!1,disable:function(c){f||a.mobile.zoom.locked||(b.attr("content",d),a.mobile.zoom.enabled=!1,a.mobile.zoom.locked=c||!1)},enable:function(c){f||a.mobile.zoom.locked&&c!==!0||(b.attr("content",e),a.mobile.zoom.enabled=!0,a.mobile.zoom.locked=!1)},restore:function(){f||(b.attr("content",c),a.mobile.zoom.enabled=!0)}})}(a),function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){function b(){setTimeout(function(){d.toggleClass("ui-input-clear-hidden",!f.val())},0)}var c,d,e=this,f=this.element,g=this.options,h=g.theme||a.mobile.getInheritedTheme(this.element,"c"),i=" ui-body-"+h,j=g.mini?" ui-mini":"",k=f.is("[type='search'], :jqmData(type='search')"),l=g.clearSearchButtonText||g.clearBtnText,m=f.is("textarea, :jqmData(type='range')"),n=!!g.clearBtn&&!m,o=f.is("input")&&!f.is(":jqmData(type='range')");if(a("label[for='"+f.attr("id")+"']").addClass("ui-input-text"),c=f.addClass("ui-input-text ui-body-"+h),"undefined"==typeof f[0].autocorrect||a.support.touchOverflow||(f[0].setAttribute("autocorrect","off"),f[0].setAttribute("autocomplete","off")),k?c=f.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+i+j+"'></div>").parent():o&&(c=f.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+i+j+"'></div>").parent()),n||k?(d=a("<a href='#' class='ui-input-clear' title='"+l+"'>"+l+"</a>").bind("click",function(a){f.val("").focus().trigger("change"),d.addClass("ui-input-clear-hidden"),a.preventDefault()}).appendTo(c).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:g.mini}),k||c.addClass("ui-input-has-clear"),b(),f.bind("paste cut keyup input focus change blur",b)):o||k||f.addClass("ui-corner-all ui-shadow-inset"+i+j),f.focus(function(){g.preventFocusZoom&&a.mobile.zoom.disable(!0),c.addClass(a.mobile.focusClass)}).blur(function(){c.removeClass(a.mobile.focusClass),g.preventFocusZoom&&a.mobile.zoom.enable(!0)}),f.is("textarea")){var p,q=15,r=100;this._keyup=function(){var a=f[0].scrollHeight,b=f[0].clientHeight;if(a>b){var c=parseFloat(f.css("padding-top")),d=parseFloat(f.css("padding-bottom")),e=c+d;f.height(a-e+q)}},f.on("keyup change input paste",function(){clearTimeout(p),p=setTimeout(e._keyup,r)}),this._on(!0,a.mobile.document,{pagechange:"_keyup"}),a.trim(f.val())&&this._on(!0,a.mobile.window,{load:"_keyup"})}f.attr("disabled")&&this.disable()},disable:function(){var a,b=this.element.is("[type='search'], :jqmData(type='search')"),c=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),d=this.element.attr("disabled",!0)&&(c||b);return a=d?this.element.parent():this.element,a.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var a,b=this.element.is("[type='search'], :jqmData(type='search')"),c=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),d=this.element.attr("disabled",!1)&&(c||b);return a=d?this.element.parent():this.element,a.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),a.mobile.document.bind("pagecreate create",function(b){a.mobile.textinput.prototype.enhanceWithin(b.target,!0)})}(a),function(a){a.mobile.listview.prototype.options.filter=!1,a.mobile.listview.prototype.options.filterPlaceholder="Filter items...",a.mobile.listview.prototype.options.filterTheme="c",a.mobile.listview.prototype.options.filterReveal=!1;var b=function(a,b){return-1===a.toString().toLowerCase().indexOf(b)};a.mobile.listview.prototype.options.filterCallback=b,a.mobile.document.delegate("ul, ol","listviewcreate",function(){var c=a(this),d=c.data("mobile-listview");if(d&&d.options.filter){d.options.filterReveal&&c.children().addClass("ui-screen-hidden");var e=a("<form>",{"class":"ui-listview-filter ui-bar-"+d.options.filterTheme,role:"search"}).submit(function(a){a.preventDefault(),g.blur()}),f=function(){var e,f=a(this),g=this.value.toLowerCase(),h=null,i=c.children(),j=f.jqmData("lastval")+"",k=!1,l="",m=d.options.filterCallback!==b;if(!j||j!==g){if(d._trigger("beforefilter","beforefilter",{input:this}),f.jqmData("lastval",g),m||g.length<j.length||0!==g.indexOf(j)?h=c.children():(h=c.children(":not(.ui-screen-hidden)"),!h.length&&d.options.filterReveal&&(h=c.children(".ui-screen-hidden"))),g){for(var n=h.length-1;n>=0;n--)e=a(h[n]),l=e.jqmData("filtertext")||e.text(),e.is("li:jqmData(role=list-divider)")?(e.toggleClass("ui-filter-hidequeue",!k),k=!1):d.options.filterCallback(l,g,e)?e.toggleClass("ui-filter-hidequeue",!0):k=!0;h.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),h.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else h.toggleClass("ui-screen-hidden",!!d.options.filterReveal);d._addFirstLastClasses(i,d._getVisibles(i,!1),!1)}},g=a("<input>",{placeholder:d.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",f).appendTo(e).textinput();d.options.inset&&e.addClass("ui-listview-filter-inset"),e.bind("submit",function(){return!1}).insertBefore(c)}})}(a),function(a){a.mobile.listview.prototype.options.autodividers=!1,a.mobile.listview.prototype.options.autodividersSelector=function(b){var c=a.trim(b.text())||null;return c?c=c.slice(0,1).toUpperCase():null},a.mobile.document.delegate("ul,ol","listviewcreate",function(){var b=a(this),d=b.data("mobile-listview");if(d&&d.options.autodividers){var e=function(){b.find("li:jqmData(role='list-divider')").remove();for(var e,f,g=b.find("li"),h=null,i=0;i<g.length;i++){if(e=g[i],f=d.options.autodividersSelector(a(e)),f&&h!==f){var j=c.createElement("li");j.appendChild(c.createTextNode(f)),j.setAttribute("data-"+a.mobile.ns+"role","list-divider"),e.parentNode.insertBefore(j,e)}h=f}},f=function(){b.unbind("listviewafterrefresh",f),e(),d.refresh(),b.bind("listviewafterrefresh",f)};f()}})}(a),function(a){a(c).bind("pagecreate create",function(b){a(":jqmData(role='nojs')",b.target).addClass("ui-nojs")})}(a),function(a){a.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(a),function(a){a.widget("mobile.checkboxradio",a.mobile.widget,a.extend({options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var b=this,d=this.element,e=this.options,f=function(a,b){return a.jqmData(b)||a.closest("form, fieldset").jqmData(b)},g=a(d).closest("label"),h=g.length?g:a(d).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+d[0].id+"']").first(),i=d[0].type,j=f(d,"mini")||e.mini,k=i+"-on",l=i+"-off",m=f(d,"iconpos"),n="ui-"+k,o="ui-"+l;if("checkbox"===i||"radio"===i){a.extend(this,{label:h,inputtype:i,checkedClass:n,uncheckedClass:o,checkedicon:k,uncheckedicon:l}),e.theme||(e.theme=a.mobile.getInheritedTheme(this.element,"c")),h.buttonMarkup({theme:e.theme,icon:l,shadow:!1,mini:j,iconpos:m});
var p=c.createElement("div");p.className="ui-"+i,d.add(h).wrapAll(p),h.bind({vmouseover:function(b){a(this).parent().is(".ui-disabled")&&b.stopPropagation()},vclick:function(a){return d.is(":disabled")?(a.preventDefault(),void 0):(b._cacheVals(),d.prop("checked","radio"===i&&!0||!d.prop("checked")),d.triggerHandler("click"),b._getInputSet().not(d).prop("checked",!1),b._updateAll(),!1)}}),d.bind({vmousedown:function(){b._cacheVals()},vclick:function(){var c=a(this);c.is(":checked")?(c.prop("checked",!0),b._getInputSet().not(c).prop("checked",!1)):c.prop("checked",!1),b._updateAll()},focus:function(){h.addClass(a.mobile.focusClass)},blur:function(){h.removeClass(a.mobile.focusClass)}}),this._handleFormReset(),this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){a(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var b=this;this._getInputSet().each(function(){var c=a(this);(this.checked||"checkbox"===b.inputtype)&&c.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var b=this.element[0],c=" "+a.mobile.activeBtnClass,d=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?c:""),e=this.label;b.checked?e.removeClass(this.uncheckedClass+c).addClass(d).buttonMarkup({icon:this.checkedicon}):e.removeClass(d).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon}),b.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}},a.mobile.behaviors.formReset)),a.mobile.document.bind("pagecreate create",function(b){a.mobile.checkboxradio.prototype.enhanceWithin(b.target,!0)})}(a),function(a){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,inline:null,mini:null,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var b,c=this.element,d=function(a){var b,c={};for(b in a)null!==a[b]&&"initSelector"!==b&&(c[b]=a[b]);return c}(this.options),e="";return"A"===c[0].tagName?(c.hasClass("ui-btn")||c.buttonMarkup(),void 0):(this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.element,"c")),~c[0].className.indexOf("ui-btn-left")&&(e="ui-btn-left"),~c[0].className.indexOf("ui-btn-right")&&(e="ui-btn-right"),("submit"===c.attr("type")||"reset"===c.attr("type"))&&(e?e+=" ui-submit":e="ui-submit"),a("label[for='"+c.attr("id")+"']").addClass("ui-submit"),this.button=a("<div></div>")[c.html()?"html":"text"](c.html()||c.val()).insertBefore(c).buttonMarkup(d).addClass(e).append(c.addClass("ui-btn-hidden")),b=this.button,c.bind({focus:function(){b.addClass(a.mobile.focusClass)},blur:function(){b.removeClass(a.mobile.focusClass)}}),this.refresh(),void 0)},_setOption:function(b,c){var d={};d[b]=c,"initSelector"!==b&&(this.button.buttonMarkup(d),this.element.attr("data-"+(a.mobile.ns||"")+b.replace(/([A-Z])/,"-$1").toLowerCase(),c)),this._super("_setOption",b,c)},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var b=this.element;b.prop("disabled")?this.disable():this.enable(),a(this.button.data("buttonElements").text)[b.html()?"html":"text"](b.html()||b.val())}}),a.mobile.document.bind("pagecreate create",function(b){a.mobile.button.prototype.enhanceWithin(b.target,!0)})}(a),function(a,d){a.widget("mobile.slider",a.mobile.widget,a.extend({widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1,highlight:!1},_create:function(){var e,f,g=this,h=this.element,i=a.mobile.getInheritedTheme(h,"c"),j=this.options.theme||i,k=this.options.trackTheme||i,l=h[0].nodeName.toLowerCase(),m=(this.isToggleSwitch="select"===l,h.parent().is(":jqmData(role='rangeslider')")),n=this.isToggleSwitch?"ui-slider-switch":"",o=h.attr("id"),p=a("[for='"+o+"']"),q=p.attr("id")||o+"-label",r=p.attr("id",q),s=this.isToggleSwitch?0:parseFloat(h.attr("min")),t=this.isToggleSwitch?h.find("option").length-1:parseFloat(h.attr("max")),u=b.parseFloat(h.attr("step")||1),v=this.options.mini||h.jqmData("mini")?" ui-mini":"",w=c.createElement("a"),x=a(w),y=c.createElement("div"),z=a(y),A=this.options.highlight&&!this.isToggleSwitch?function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass+" ui-btn-corner-all",a(b).prependTo(z)}():!1;if(w.setAttribute("href","#"),y.setAttribute("role","application"),y.className=[this.isToggleSwitch?"ui-slider ":"ui-slider-track ",n," ui-btn-down-",k," ui-btn-corner-all",v].join(""),w.className="ui-slider-handle",y.appendChild(w),x.buttonMarkup({corners:!0,theme:j,shadow:!0}).attr({role:"slider","aria-valuemin":s,"aria-valuemax":t,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":q}),a.extend(this,{slider:z,handle:x,type:l,step:u,max:t,min:s,valuebg:A,isRangeslider:m,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),this.isToggleSwitch){f=c.createElement("div"),f.className="ui-slider-inneroffset";for(var B=0,C=y.childNodes.length;C>B;B++)f.appendChild(y.childNodes[B]);y.appendChild(f),x.addClass("ui-slider-handle-snapping"),e=h.find("option");for(var D=0,E=e.length;E>D;D++){var F=D?"a":"b",G=D?" "+a.mobile.activeBtnClass:" ui-btn-down-"+k,H=(c.createElement("div"),c.createElement("span"));H.className=["ui-slider-label ui-slider-label-",F,G," ui-btn-corner-all"].join(""),H.setAttribute("role","img"),H.appendChild(c.createTextNode(e[D].innerHTML)),a(H).prependTo(z)}g._labels=a(".ui-slider-label",z)}r.addClass("ui-slider"),h.addClass(this.isToggleSwitch?"ui-slider-switch":"ui-slider-input"),this._on(h,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),z.bind("vmousedown",a.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(c,{vmousemove:"_preventDocumentDrag"}),this._on(z.add(c),{vmouseup:"_sliderVMouseUp"}),z.insertAfter(h),this.isToggleSwitch||m||(f=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",h.add(z).wrapAll(f)),this.isToggleSwitch&&this.handle.bind({focus:function(){z.addClass(a.mobile.focusClass)},blur:function(){z.removeClass(a.mobile.focusClass)}}),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(d,d,!0)},_controlChange:function(a){return this._trigger("controlchange",a)===!1?!1:(this.mouseMoved||this.refresh(this._value(),!0),void 0)},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(b){var c=this._value();if(!this.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:this.refresh(this.min);break;case a.mobile.keyCode.END:this.refresh(this.max);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:this.refresh(c+this.step);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:this.refresh(c-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(a){return this.options.disabled||1!==a.which&&0!==a.which&&a.which!==d?!1:this._trigger("beforestart",a)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(a),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(a){return this._trigger("drag",a)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(a),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(d,!1,!0)},refresh:function(b,d,e){var f,g,h,i,j=this,k=a.mobile.getInheritedTheme(this.element,"c"),l=this.options.theme||k,m=this.options.trackTheme||k;j.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch":"ui-slider-track"," ui-btn-down-"+m," ui-btn-corner-all",this.options.mini?" ui-mini":""].join(""),(this.options.disabled||this.element.attr("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass+" ui-btn-corner-all",a(b).prependTo(j.slider)}()),this.handle.buttonMarkup({corners:!0,theme:l,shadow:!0});var n,o,p=this.element,q=!this.isToggleSwitch,r=q?[]:p.find("option"),s=q?parseFloat(p.attr("min")):0,t=q?parseFloat(p.attr("max")):r.length-1,u=q&&parseFloat(p.attr("step"))>0?parseFloat(p.attr("step")):1;if("object"==typeof b){if(h=b,i=8,f=this.slider.offset().left,g=this.slider.width(),n=g/((t-s)/u),!this.dragging||h.pageX<f-i||h.pageX>f+g+i)return;o=n>1?(h.pageX-f)/g*100:Math.round((h.pageX-f)/g*100)}else null==b&&(b=q?parseFloat(p.val()||0):p[0].selectedIndex),o=(parseFloat(b)-s)/(t-s)*100;if(!isNaN(o)){var v=o/100*(t-s)+s,w=(v-s)%u,x=v-w;2*Math.abs(w)>=u&&(x+=w>0?u:-u);var y=100/((t-s)/u);if(v=parseFloat(x.toFixed(5)),"undefined"==typeof n&&(n=g/((t-s)/u)),n>1&&q&&(o=(v-s)*y*(1/u)),0>o&&(o=0),o>100&&(o=100),s>v&&(v=s),v>t&&(v=t),this.handle.css("left",o+"%"),this.handle[0].setAttribute("aria-valuenow",q?v:r.eq(v).attr("value")),this.handle[0].setAttribute("aria-valuetext",q?v:r.eq(v).getEncodedText()),this.handle[0].setAttribute("title",q?v:r.eq(v).getEncodedText()),this.valuebg&&this.valuebg.css("width",o+"%"),this._labels){var z=this.handle.width()/this.slider.width()*100,A=o&&z+(100-z)*o/100,B=100===o?0:Math.min(z+100-A,100);this._labels.each(function(){var b=a(this).is(".ui-slider-label-a");a(this).width((b?A:B)+"%")})}if(!e){var C=!1;if(q?(C=p.val()!==v,p.val(v)):(C=p[0].selectedIndex!==v,p[0].selectedIndex=v),this._trigger("beforechange",b)===!1)return!1;!d&&C&&p.trigger("change")}}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}},a.mobile.behaviors.formReset)),a.mobile.document.bind("pagecreate create",function(b){a.mobile.slider.prototype.enhanceWithin(b.target,!0)})}(a),function(a){a.widget("mobile.rangeslider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:":jqmData(role='rangeslider')",mini:!1,highlight:!0},_create:function(){var b,c=this.element,d=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",e=c.find("input").first(),f=c.find("input").last(),g=c.find("label").first(),h=a.data(e.get(0),"mobileSlider").slider,i=a.data(f.get(0),"mobileSlider").slider,j=a.data(e.get(0),"mobileSlider").handle,k=a('<div class="ui-rangeslider-sliders" />').appendTo(c);c.find("label").length>1&&(b=c.find("label").last().hide()),e.addClass("ui-rangeslider-first"),f.addClass("ui-rangeslider-last"),c.addClass(d),h.appendTo(k),i.appendTo(k),g.prependTo(c),j.prependTo(i),a.extend(this,{_inputFirst:e,_inputLast:f,_sliderFirst:h,_sliderLast:i,_targetVal:null,_sliderTarget:!1,_sliders:k,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(j,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var a=this;setTimeout(function(){a._updateHighlight()},0)},_dragFirstHandle:function(b){return a.data(this._inputFirst.get(0),"mobileSlider").dragging=!0,a.data(this._inputFirst.get(0),"mobileSlider").refresh(b),!1},_slidedrag:function(b){var c=a(b.target).is(this._inputFirst),d=c?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&c||"last"===this._proxy&&!c?(a.data(d.get(0),"mobileSlider").dragging=!0,a.data(d.get(0),"mobileSlider").refresh(b),!1):void 0},_slidestop:function(b){var c=a(b.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",c?1:"")},_slidebeforestart:function(b){this._sliderTarget=!1,a(b.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=a(b.target).val())},_setOption:function(a){this._superApply(a),this.refresh()},refresh:function(){var a=this.element,b=this.options;a.find("input").slider({theme:b.theme,trackTheme:b.trackTheme,disabled:b.disabled,mini:b.mini,highlight:b.highlight}).slider("refresh"),this._updateHighlight()},_change:function(b){if("keyup"===b.type)return this._updateHighlight(),!1;var c=this,d=parseFloat(this._inputFirst.val(),10),e=parseFloat(this._inputLast.val(),10),f=a(b.target).hasClass("ui-rangeslider-first"),g=f?this._inputFirst:this._inputLast,h=f?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===b.type&&!a(b.target).hasClass("ui-slider-handle"))g.blur();else if("mousedown"===b.type)return;return d>e&&!this._sliderTarget?(g.val(f?e:d).slider("refresh"),this._trigger("normalize")):d>e&&(g.val(this._targetVal).slider("refresh"),setTimeout(function(){h.val(f?d:e).slider("refresh"),a.data(h.get(0),"mobileSlider").handle.focus(),c._sliderFirst.css("z-index",f?"":1),c._trigger("normalize")},0),this._proxy=f?"first":"last"),d===e?(a.data(g.get(0),"mobileSlider").handle.css("z-index",1),a.data(h.get(0),"mobileSlider").handle.css("z-index",0)):(a.data(h.get(0),"mobileSlider").handle.css("z-index",""),a.data(g.get(0),"mobileSlider").handle.css("z-index","")),this._updateHighlight(),d>=e?!1:void 0},_updateHighlight:function(){var b=parseInt(a.data(this._inputFirst.get(0),"mobileSlider").handle.get(0).style.left,10),c=parseInt(a.data(this._inputLast.get(0),"mobileSlider").handle.get(0).style.left,10),d=c-b;this.element.find(".ui-slider-bg").css({"margin-left":b+"%",width:d+"%"})},_destroy:function(){this.element.removeClass("ui-rangeslider ui-mini").find("label").show(),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}}),a.widget("mobile.rangeslider",a.mobile.rangeslider,a.mobile.behaviors.formReset),a(c).bind("pagecreate create",function(b){a.mobile.rangeslider.prototype.enhanceWithin(b.target,!0)})}(a),function(a){a.widget("mobile.selectmenu",a.mobile.widget,a.extend({options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",dividerTheme:"b",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var b="";~this.element[0].className.indexOf("ui-btn-left")&&(b=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(b=" ui-btn-right"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+b+"'>"),this.selectID=this.select.attr("id"),this.label=a("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.select,"c"))},_destroy:function(){var a=this.element.parents(".ui-select");a.length>0&&(a.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(a.is(".ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(a),a.remove())},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var c=this,d=this.options,e=d.inline||this.select.jqmData("inline"),f=d.mini||this.select.jqmData("mini"),g=d.icon?d.iconpos||this.select.jqmData("iconpos"):!1,h=(-1===this.select[0].selectedIndex?0:this.select[0].selectedIndex,this.button.insertBefore(this.select).buttonMarkup({theme:d.theme,icon:d.icon,iconpos:g,inline:e,corners:d.corners,shadow:d.shadow,iconshadow:d.iconshadow,mini:f}));this.setButtonText(),d.nativeMenu&&b.opera&&b.opera.version&&h.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(h.addClass("ui-li-has-count"))),(d.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){c.refresh(),d.nativeMenu&&this.blur()}),this._handleFormReset(),this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){b.button.addClass(a.mobile.focusClass)}).bind("blur",function(){b.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",function(){b.button.removeClass("ui-btn-down-"+b.options.theme)}),b.button.bind("vmousedown",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.label.bind("click focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.select.bind("focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.button.bind("mouseup",function(){b.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},0)}),b.select.bind("blur",function(){b.options.preventFocusZoom&&a.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,d=this.selected(),e=this.placeholder,f=a(c.createElement("span"));this.button.find(".ui-btn-text").html(function(){return e=d.length?d.map(function(){return a(this).text()}).get().join(", "):b.placeholder,f.text(e).addClass(b.select.attr("class")).addClass(d.attr("class"))})},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},_reset:function(){this.refresh()},refresh:function(){this.setButtonText(),this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}},a.mobile.behaviors.formReset)),a.mobile.document.bind("pagecreate create",function(b){a.mobile.selectmenu.prototype.enhanceWithin(b.target,!0)})}(a),function(a,d){function e(a,b,c,d){var e=d;return e=b>a?c+(a-b)/2:Math.min(Math.max(c,d-b/2),c+a-b)}function f(){var c=a.mobile.window;return{x:c.scrollLeft(),y:c.scrollTop(),cx:b.innerWidth||c.width(),cy:b.innerHeight||c.height()}}a.widget("mobile.popup",a.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!a.mobile.browser.oldIE},_eatEventAndClose:function(a){return a.preventDefault(),a.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var a=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),a>this._ui.screen.height()&&this._ui.screen.height(a)},_handleWindowKeyUp:function(b){return this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE?this._eatEventAndClose(b):void 0},_expectResizeEvent:function(){var b=f();if(this._resizeData){if(b.x===this._resizeData.winCoords.x&&b.y===this._resizeData.winCoords.y&&b.cx===this._resizeData.winCoords.cx&&b.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(a.proxy(this,"_resizeTimeout"),200),winCoords:b},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var a=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=setTimeout(function(){a._ignoreResizeTo=0},1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(b){var d,e=b.target,f=this._ui;if(this._isOpen){if(e!==f.container[0]){if(d=a(b.target),0===d.parents().filter(f.container[0]).length)return a(c.activeElement).one("focus",function(){d.blur()}),f.focusElement.focus(),b.preventDefault(),b.stopImmediatePropagation(),!1;f.focusElement[0]===f.container[0]&&(f.focusElement=d)}this._ignoreResizeEvents()}},_create:function(){var b={screen:a("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:a("<div style='display: none;'><!-- placeholder --></div>"),container:a("<div class='ui-popup-container ui-popup-hidden'></div>")},c=this.element.closest(".ui-page"),d=this.element.attr("id"),e=this.options;e.history=e.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled,0===c.length&&(c=a("body")),e.container=e.container||a.mobile.pageContainer||c,c.append(b.screen),b.container.insertAfter(b.screen),b.placeholder.insertAfter(this.element),d&&(b.screen.attr("id",d+"-screen"),b.container.attr("id",d+"-popup"),b.placeholder.html("<!-- placeholder for "+d+" -->")),b.container.append(this.element),b.focusElement=b.container,this.element.addClass("ui-popup"),a.extend(this,{_scrollTop:0,_page:c,_ui:b,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),this._applyTheme(this.element,e.theme,"body"),this._applyTheme(this._ui.screen,e.overlayTheme,"overlay"),this._applyTransition(e.transition),this.element.toggleClass("ui-overlay-shadow",e.shadow).toggleClass("ui-corner-all",e.corners),this._setTolerance(e.tolerance),b.screen.bind("vclick",a.proxy(this,"_eatEventAndClose")),this._on(a.mobile.window,{orientationchange:a.proxy(this,"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")}),this._on(a.mobile.document,{focusin:a.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(a,b,c){for(var d,e=(a.attr("class")||"").split(" "),f=null,g=String(b);e.length>0;){if(f=e.pop(),d=new RegExp("^ui-"+c+"-([a-z])$").exec(f),d&&d.length>1){f=d[1];break}f=null}b!==f&&(a.removeClass("ui-"+c+"-"+f),null!==b&&"none"!==b&&a.addClass("ui-"+c+"-"+g))},_setTheme:function(a){this._applyTheme(this.element,a,"body")},_setOverlayTheme:function(a){this._applyTheme(this._ui.screen,a,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(a){this.element.toggleClass("ui-overlay-shadow",a)},_setCorners:function(a){this.element.toggleClass("ui-corner-all",a)},_applyTransition:function(b){this._ui.container.removeClass(this._fallbackTransition),b&&"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(a){this._currentTransition||this._applyTransition(a)},_setTolerance:function(b){var c={t:30,r:15,b:30,l:15};if(b!==d){var e=String(b).split(",");switch(a.each(e,function(a,b){e[a]=parseInt(b,10)}),e.length){case 1:isNaN(e[0])||(c.t=c.r=c.b=c.l=e[0]);break;case 2:isNaN(e[0])||(c.t=c.b=e[0]),isNaN(e[1])||(c.l=c.r=e[1]);break;case 4:isNaN(e[0])||(c.t=e[0]),isNaN(e[1])||(c.r=e[1]),isNaN(e[2])||(c.b=e[2]),isNaN(e[3])||(c.l=e[3])}}this._tolerance=c},_setOption:function(a,b){var c="_set"+a.charAt(0).toUpperCase()+a.slice(1);this[c]!==d&&this[c](b),this._super(a,b)},_placementCoords:function(a){var b,d,g=f(),h={x:this._tolerance.l,y:g.y+this._tolerance.t,cx:g.cx-this._tolerance.l-this._tolerance.r,cy:g.cy-this._tolerance.t-this._tolerance.b};this._ui.container.css("max-width",h.cx),b={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},d={x:e(h.cx,b.cx,h.x,a.x),y:e(h.cy,b.cy,h.y,a.y)},d.y=Math.max(0,d.y);var i=c.documentElement,j=c.body,k=Math.max(i.clientHeight,j.scrollHeight,j.offsetHeight,i.scrollHeight,i.offsetHeight);return d.y-=Math.min(d.y,Math.max(0,d.y+b.cy-k)),{left:d.x,top:d.y}},_createPrereqs:function(b,c,d){var e,f=this;e={screen:a.Deferred(),container:a.Deferred()},e.screen.then(function(){e===f._prereqs&&b()}),e.container.then(function(){e===f._prereqs&&c()}),a.when(e.screen,e.container).done(function(){e===f._prereqs&&(f._prereqs=null,d())}),f._prereqs=e},_animate:function(b){return this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd),b.prereqs.screen.resolve(),b.transition&&"none"!==b.transition&&(b.applyTransition&&this._applyTransition(b.transition),this._fallbackTransition)?(this._ui.container.animationComplete(a.proxy(b.prereqs.container,"resolve")).addClass(b.containerClassToAdd).removeClass(b.classToRemove),void 0):(this._ui.container.removeClass(b.classToRemove),b.prereqs.container.resolve(),void 0)},_desiredCoords:function(b){var c,d=null,e=f(),g=b.x,h=b.y,i=b.positionTo;if(i&&"origin"!==i)if("window"===i)g=e.cx/2+e.x,h=e.cy/2+e.y;else{try{d=a(i)}catch(j){d=null}d&&(d.filter(":visible"),0===d.length&&(d=null))}return d&&(c=d.offset(),g=c.left+d.outerWidth()/2,h=c.top+d.outerHeight()/2),("number"!==a.type(g)||isNaN(g))&&(g=e.cx/2+e.x),("number"!==a.type(h)||isNaN(h))&&(h=e.cy/2+e.y),{x:g,y:h}},_reposition:function(a){a={x:a.x,y:a.y,positionTo:a.positionTo},this._trigger("beforeposition",d,a),this._ui.container.offset(this._placementCoords(this._desiredCoords(a)))},reposition:function(a){this._isOpen&&this._reposition(a)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),this._trigger("afteropen")},_open:function(b){var c=a.extend({},this.options,b),d=function(){var a=navigator.userAgent,b=a.match(/AppleWebKit\/([0-9\.]+)/),c=!!b&&b[1],d=a.match(/Android (\d+(?:\.\d+))/),e=!!d&&d[1],f=a.indexOf("Chrome")>-1;return null!==d&&"4.0"===e&&c&&c>534.13&&!f?!0:!1}();this._createPrereqs(a.noop,a.noop,a.proxy(this,"_openPrereqsComplete")),this._currentTransition=c.transition,this._applyTransition(c.transition),this.options.theme||this._setTheme(this._page.jqmData("theme")||a.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-hidden"),this._reposition(c),this.options.overlayTheme&&d&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:c.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){var b=this._ui.container;b.removeAttr("tabindex"),a.mobile.popup.active=d,a(":focus",b[0]).add(b[0]).blur(),this._trigger("afterclose")},_close:function(b){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(a.proxy(this,"_closePrereqScreen"),a.proxy(this,"_closePrereqContainer"),a.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:b?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none"),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){a.mobile.popup.active===this?(this.element.one("popupafterclose",a.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(c,d){var e,f,g=this.options,h=!1;b.scrollTo(0,this._scrollTop),c&&"pagebeforechange"===c.type&&d&&(e="string"==typeof d.toPage?d.toPage:d.toPage.jqmData("url"),e=a.mobile.path.parseUrl(e),f=e.pathname+e.search+e.hash,this._myUrl!==a.mobile.path.makeUrlAbsolute(f)?h=!0:c.preventDefault()),g.container.unbind(g.closeEvents),this.element.undelegate(g.closeLinkSelector,g.closeLinkEvents),this._close(h)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,a.proxy(this,"_closePopup"))},open:function(c){var d,e,f,g,h,i,j=this,k=this.options;if(!a.mobile.popup.active){if(a.mobile.popup.active=this,this._scrollTop=a.mobile.window.scrollTop(),!k.history)return j._open(c),j._bindContainerClose(),j.element.delegate(k.closeLinkSelector,k.closeLinkEvents,function(a){j.close(),a.preventDefault()}),void 0;if(i=a.mobile.urlHistory,e=a.mobile.dialogHashKey,f=a.mobile.activePage,g=f.is(".ui-dialog"),this._myUrl=d=i.getActive().url,h=d.indexOf(e)>-1&&!g&&i.activeIndex>0)return j._open(c),j._bindContainerClose(),void 0;-1!==d.indexOf(e)||g?d=a.mobile.path.parseLocation().hash+e:d+=d.indexOf("#")>-1?e:"#"+e,0===i.activeIndex&&d===i.initialDst&&(d+=e),a(b).one("beforenavigate",function(a){a.preventDefault(),j._open(c),j._bindContainerClose()
}),this.urlAltered=!0,a.mobile.navigate(d,{role:"dialog"})}},close:function(){a.mobile.popup.active===this&&(this._scrollTop=a.mobile.window.scrollTop(),this.options.history&&this.urlAltered?(a.mobile.back(),this.urlAltered=!1):this._closePopup())}}),a.mobile.popup.handleLink=function(b){var c,d=b.closest(":jqmData(role='page')"),e=0===d.length?a("body"):d,f=a(a.mobile.path.parseUrl(b.attr("href")).hash,e[0]);f.data("mobile-popup")&&(c=b.offset(),f.popup("open",{x:c.left+b.outerWidth()/2,y:c.top+b.outerHeight()/2,transition:b.jqmData("transition"),positionTo:b.jqmData("position-to")})),setTimeout(function(){var c=b.parent().parent();c.hasClass("ui-li")&&(b=c.parent()),b.removeClass(a.mobile.activeBtnClass)},300)},a.mobile.document.bind("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())}),a.mobile.document.bind("pagecreate create",function(b){a.mobile.popup.prototype.enhanceWithin(b.target,!0)})}(a),function(a,b){var d=function(d){var e,f,g,h=(d.select,d._destroy),i=d.selectID,j=i?i:(a.mobile.ns||"")+"uuid-"+d.uuid,k=j+"-listbox",l=j+"-dialog",m=d.label,n=d.select.closest(".ui-page"),o=d._selectOptions(),p=d.isMultiple=d.select[0].multiple,q=i+"-button",r=i+"-menu",s=a("<div data-"+a.mobile.ns+"role='dialog' id='"+l+"' data-"+a.mobile.ns+"theme='"+d.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+d.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+m.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),t=a("<div id='"+k+"' class='ui-selectmenu'>").insertAfter(d.select).popup({theme:d.options.overlayTheme}),u=a("<ul>",{"class":"ui-selectmenu-list",id:r,role:"listbox","aria-labelledby":q}).attr("data-"+a.mobile.ns+"theme",d.options.theme).attr("data-"+a.mobile.ns+"divider-theme",d.options.dividerTheme).appendTo(t),v=a("<div>",{"class":"ui-header ui-bar-"+d.options.theme}).prependTo(t),w=a("<h1>",{"class":"ui-title"}).appendTo(v);d.isMultiple&&(g=a("<a>",{text:d.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(v).buttonMarkup()),a.extend(d,{select:d.select,selectID:i,buttonId:q,menuId:r,popupID:k,dialogID:l,thisPage:n,menuPage:s,label:m,selectOptions:o,isMultiple:p,theme:d.options.theme,listbox:t,list:u,header:v,headerTitle:w,headerClose:g,menuPageContent:e,menuPageClose:f,placeholder:"",build:function(){var c=this,e=function(a){return a.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")};c.refresh(),c._origTabIndex===b&&(c._origTabIndex=null===c.select[0].getAttribute("tabindex")?!1:c.select.attr("tabindex")),c.select.attr("tabindex","-1").focus(function(){a(this).blur(),c.button.focus()}),c.button.bind("vclick keydown",function(b){c.options.disabled||c.isOpen||("vclick"===b.type||b.keyCode&&(b.keyCode===a.mobile.keyCode.ENTER||b.keyCode===a.mobile.keyCode.SPACE))&&(c._decideFormat(),"overlay"===c.menuType?c.button.attr("href","#"+e(c.popupID)).attr("data-"+(a.mobile.ns||"")+"rel","popup"):c.button.attr("href","#"+e(c.dialogID)).attr("data-"+(a.mobile.ns||"")+"rel","dialog"),c.isOpen=!0)}),c.list.attr("role","listbox").bind("focusin",function(b){a(b.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(b){a(b.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(b){var e=c.select[0].selectedIndex,f=c.list.find("li:not(.ui-li-divider)").index(this),g=c._selectOptions().eq(f)[0];g.selected=c.isMultiple?!g.selected:!0,c.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",g.selected).toggleClass("ui-icon-checkbox-off",!g.selected),(c.isMultiple||e!==f)&&c.select.trigger("change"),c.isMultiple?c.list.find("li:not(.ui-li-divider)").eq(f).addClass("ui-btn-down-"+d.options.theme).find("a").first().focus():c.close(),b.preventDefault()}).keydown(function(b){var c,e,f=a(b.target),g=f.closest("li");switch(b.keyCode){case 38:return c=g.prev().not(".ui-selectmenu-placeholder"),c.is(".ui-li-divider")&&(c=c.prev()),c.length&&(f.blur().attr("tabindex","-1"),c.addClass("ui-btn-down-"+d.options.theme).find("a").first().focus()),!1;case 40:return e=g.next(),e.is(".ui-li-divider")&&(e=e.next()),e.length&&(f.blur().attr("tabindex","-1"),e.addClass("ui-btn-down-"+d.options.theme).find("a").first().focus()),!1;case 13:case 32:return f.trigger("click"),!1}}),c.menuPage.bind("pagehide",function(){a.mobile._bindPageRemove.call(c.thisPage)}),c.listbox.bind("popupafterclose",function(){c.close()}),c.isMultiple&&c.headerClose.click(function(){return"overlay"===c.menuType?(c.close(),!1):void 0}),c.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var a=this.list.find("li"),b=this._selectOptions();return b.text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(b){{var c,d=this;this.element,this.isMultiple}(b||this._isRebuildRequired())&&d._buildList(),c=this.selectedIndices(),d.setButtonText(),d.setButtonCount(),d.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",!1).each(function(b){if(a.inArray(b,c)>-1){var e=a(this);e.attr("aria-selected",!0),d.isMultiple?e.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):e.is(".ui-selectmenu-placeholder")?e.next().addClass(a.mobile.activeBtnClass):e.addClass(a.mobile.activeBtnClass)}})},close:function(){if(!this.options.disabled&&this.isOpen){var a=this;"page"===a.menuType?(a.menuPage.dialog("close"),a.list.appendTo(a.listbox)):a.listbox.popup("close"),a._focusButton(),a.isOpen=!1}},open:function(){this.button.click()},_decideFormat:function(){function b(){var b=c.list.find("."+a.mobile.activeBtnClass+" a");0===b.length&&(b=c.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a")),b.first().focus().closest("li").addClass("ui-btn-down-"+d.options.theme)}{var c=this,e=a.mobile.window,f=c.list.parent(),g=f.outerHeight(),h=(f.outerWidth(),a("."+a.mobile.activePageClass),e.scrollTop()),i=c.button.offset().top,j=e.height();e.width()}g>j-80||!a.support.scrollTop?(c.menuPage.appendTo(a.mobile.pageContainer).page(),c.menuPageContent=s.find(".ui-content"),c.menuPageClose=s.find(".ui-header a"),c.thisPage.unbind("pagehide.remove"),0===h&&i>j&&c.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",i)}),c.menuPage.one("pageshow",function(){b()}).one("pagehide",function(){c.close()}),c.menuType="page",c.menuPageContent.append(c.list),c.menuPage.find("div .ui-title").text(c.label.text())):(c.menuType="overlay",c.listbox.one("popupafteropen",b))},_buildList:function(){var b=this,d=this.options,e=this.placeholder,f=!0,g=b.isMultiple?"checkbox-off":"false";b.list.empty().filter(".ui-listview").listview("destroy");for(var h,i=b.select.find("option"),j=i.length,k=this.select[0],l="data-"+a.mobile.ns,m=l+"option-index",n=l+"icon",o=l+"role",p=l+"placeholder",q=c.createDocumentFragment(),r=!1,s=0;j>s;s++,r=!1){var t=i[s],u=a(t),v=t.parentNode,w=u.text(),x=c.createElement("a"),y=[];if(x.setAttribute("href","#"),x.appendChild(c.createTextNode(w)),v!==k&&"optgroup"===v.nodeName.toLowerCase()){var z=v.getAttribute("label");if(z!==h){var A=c.createElement("li");A.setAttribute(o,"list-divider"),A.setAttribute("role","option"),A.setAttribute("tabindex","-1"),A.appendChild(c.createTextNode(z)),q.appendChild(A),h=z}}!f||t.getAttribute("value")&&0!==w.length&&!u.jqmData("placeholder")||(f=!1,r=!0,null===t.getAttribute(p)&&(this._removePlaceholderAttr=!0),t.setAttribute(p,!0),d.hidePlaceholderMenuItems&&y.push("ui-selectmenu-placeholder"),e!==w&&(e=b.placeholder=w));var B=c.createElement("li");t.disabled&&(y.push("ui-disabled"),B.setAttribute("aria-disabled",!0)),B.setAttribute(m,s),B.setAttribute(n,g),r&&B.setAttribute(p,!0),B.className=y.join(" "),B.setAttribute("role","option"),x.setAttribute("tabindex","-1"),B.appendChild(x),q.appendChild(B)}b.list[0].appendChild(q),this.isMultiple||e.length?this.headerTitle.text(this.placeholder):this.header.hide(),b.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.close(),this._origTabIndex!==b&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+a.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove(),h.apply(this,arguments)}})};a.mobile.document.bind("selectmenubeforecreate",function(b){var c=a(b.target).data("mobile-selectmenu");c.options.nativeMenu||0!==c.element.parents(":jqmData(role='popup')").length||d(c)})}(a),function(a,b){a.widget("mobile.controlgroup",a.mobile.widget,a.extend({options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var c=this.element,d={inner:a("<div class='ui-controlgroup-controls'></div>"),legend:a("<div role='heading' class='ui-controlgroup-label'></div>")},e=c.children("legend"),f=this;c.wrapInner(d.inner),e.length&&d.legend.append(e).insertBefore(c.children(0)),c.addClass("ui-corner-all ui-controlgroup"),a.extend(this,{_initialRefresh:!0}),a.each(this.options,function(a,c){f.options[a]=b,f._setOption(a,c,!0)})},_init:function(){this.refresh()},_setOption:function(c,d){var e="_set"+c.charAt(0).toUpperCase()+c.slice(1);this[e]!==b&&this[e](d),this._super(c,d),this.element.attr("data-"+(a.mobile.ns||"")+c.replace(/([A-Z])/,"-$1").toLowerCase(),d)},_setType:function(a){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+a),this.refresh()},_setCorners:function(a){this.element.toggleClass("ui-corner-all",a)},_setShadow:function(a){this.element.toggleClass("ui-shadow",a)},_setMini:function(a){this.element.toggleClass("ui-mini",a)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var b=this.element.find(".ui-btn").not(".ui-slider-handle"),c=this._initialRefresh;a.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(b,this.options.excludeInvisible?this._getVisibles(b,c):b,c),this._initialRefresh=!1}},a.mobile.behaviors.addFirstLastClasses)),a(function(){a.mobile.document.bind("pagecreate create",function(b){a.mobile.controlgroup.prototype.enhanceWithin(b.target,!0)})})}(a),function(a){a(c).bind("pagecreate create",function(b){a(b.target).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var b=this,d=a(this).attr("href"),e=d.substring(1);b.setAttribute("aria-haspopup",!0),b.setAttribute("aria-owns",e),b.setAttribute("aria-expanded",!1),a(c).on("popupafteropen",d,function(){b.setAttribute("aria-expanded",!0)}).on("popupafterclose",d,function(){b.setAttribute("aria-expanded",!1)})}).end().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(a),function(a,b){a.widget("mobile.fixedtoolbar",a.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!a.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var b=this,c=b.options,d=b.element,e=d.is(":jqmData(role='header')")?"header":"footer",f=d.closest(".ui-page");return c.supportBlacklist()?(b.destroy(),void 0):(d.addClass("ui-"+e+"-fixed"),c.fullscreen?(d.addClass("ui-"+e+"-fullscreen"),f.addClass("ui-page-"+e+"-fullscreen")):f.addClass("ui-page-"+e+"-fixed"),a.extend(this,{_thisPage:null}),b._addTransitionClass(),b._bindPageEvents(),b._bindToggleHandlers(),void 0)},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page"),this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var b=this.options;b.disablePageZoom&&a.mobile.zoom.disable(!0),b.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage),this.options.updatePagePadding&&this._on(a.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(b,c){var d=this.options;if(d.disablePageZoom&&a.mobile.zoom.enable(!0),d.updatePagePadding&&this._off(a.mobile.window,"throttledresize"),d.trackPersistentToolbars){var e=a(".ui-footer-fixed:jqmData(id)",this._thisPage),f=a(".ui-header-fixed:jqmData(id)",this._thisPage),g=e.length&&c.nextPage&&a(".ui-footer-fixed:jqmData(id='"+e.jqmData("id")+"')",c.nextPage)||a(),h=f.length&&c.nextPage&&a(".ui-header-fixed:jqmData(id='"+f.jqmData("id")+"')",c.nextPage)||a();(g.length||h.length)&&(g.add(h).appendTo(a.mobile.pageContainer),c.nextPage.one("pageshow",function(){h.prependTo(this),g.appendTo(this)}))}},_visible:!0,updatePagePadding:function(c){var d=this.element,e=d.is(".ui-header"),f=parseFloat(d.css(e?"top":"bottom"));this.options.fullscreen||(c=c&&c.type===b&&c||this._thisPage||d.closest(".ui-page"),a(c).css("padding-"+(e?"top":"bottom"),d.outerHeight()+f))},_useTransition:function(b){var c=a.mobile.window,d=this.element,e=c.scrollTop(),f=d.height(),g=d.closest(".ui-page").height(),h=a.mobile.getScreenHeight(),i=d.is(":jqmData(role='header')")?"header":"footer";return!b&&(this.options.transition&&"none"!==this.options.transition&&("header"===i&&!this.options.fullscreen&&e>f||"footer"===i&&!this.options.fullscreen&&g-f>e+h)||this.options.fullscreen)},show:function(a){var b="ui-fixed-hidden",c=this.element;this._useTransition(a)?c.removeClass("out "+b).addClass("in").animationComplete(function(){c.removeClass("in")}):c.removeClass(b),this._visible=!0},hide:function(a){var b="ui-fixed-hidden",c=this.element,d="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(a)?c.addClass(d).removeClass("in").animationComplete(function(){c.addClass(b).removeClass(d)}):c.addClass(b).removeClass(d),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var b,c,d=this,e=d.options,f=d.element,g=!0;f.closest(".ui-page").bind("vclick",function(b){e.tapToggle&&!a(b.target).closest(e.tapToggleBlacklist).length&&d.toggle()}).bind("focusin focusout",function(f){screen.width<1025&&a(f.target).is(e.hideDuringFocus)&&!a(f.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==f.type||g?"focusin"===f.type&&g&&(clearTimeout(b),g=!1,c=setTimeout(function(){d.hide()},0)):(g=!0,clearTimeout(c),b=setTimeout(function(){d.show()},0)))})},_destroy:function(){var a=this.element,b=a.is(".ui-header");a.closest(".ui-page").css("padding-"+(b?"top":"bottom"),""),a.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),a.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),a.mobile.document.bind("pagecreate create",function(b){a(b.target).jqmData("fullscreen")&&a(a.mobile.fixedtoolbar.prototype.options.initSelector,b.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),a.mobile.fixedtoolbar.prototype.enhanceWithin(b.target)})}(a),function(a){a.widget("mobile.fixedtoolbar",a.mobile.fixedtoolbar,{_create:function(){this._super(),this._workarounds()},_workarounds:function(){var a=navigator.userAgent,b=navigator.platform,c=a.match(/AppleWebKit\/([0-9]+)/),d=!!c&&c[1],e=null,f=this;if(b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1||b.indexOf("iPod")>-1)e="ios";else{if(!(a.indexOf("Android")>-1))return;e="android"}if("ios"===e)f._bindScrollWorkaround();else{if(!("android"===e&&d&&534>d))return;f._bindScrollWorkaround(),f._bindListThumbWorkaround()}},_viewportOffset:function(){var b=this.element,c=b.is(".ui-header"),d=Math.abs(b.offset().top-a.mobile.window.scrollTop());return c||(d=Math.round(d-a.mobile.window.height()+b.outerHeight())-60),d},_bindScrollWorkaround:function(){var b=this;this._on(a.mobile.window,{scrollstop:function(){var a=b._viewportOffset();a>2&&b._visible&&b._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var b=parseFloat(a(".ui-page-active").css("padding-bottom"));a(".ui-page-active").css("padding-bottom",b+1+"px"),setTimeout(function(){a(".ui-page-active").css("padding-bottom",b+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(a),function(a,d){a.widget("mobile.panel",a.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var b=this,c=b.element,d=c.closest(":jqmData(role='page')"),e=function(){var b=a.data(d[0],"mobilePage").options.theme,c="ui-body-"+b;return c},f=function(){var a=c.find("."+b.options.classes.panelInner);return 0===a.length&&(a=c.children().wrapAll('<div class="'+b.options.classes.panelInner+'" />').parent()),a},g=function(){var c=d.find("."+b.options.classes.contentWrap);return 0===c.length&&(c=d.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+b.options.classes.contentWrap+" "+e()+'" />').parent(),a.support.cssTransform3d&&b.options.animate&&c.addClass(b.options.classes.animate)),c},h=function(){var c=d.find("."+b.options.classes.contentFixedToolbar);return 0===c.length&&(c=d.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(b.options.classes.contentFixedToolbar),a.support.cssTransform3d&&b.options.animate&&c.addClass(b.options.classes.animate)),c};a.extend(this,{_panelID:c.attr("id"),_closeLink:c.find(":jqmData(rel='close')"),_page:c.closest(":jqmData(role='page')"),_pageTheme:e(),_panelInner:f(),_wrapper:g(),_fixedToolbar:h()}),b._addPanelClasses(),b._wrapper.addClass(this.options.classes.contentWrapClosed),b._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed),b._page.addClass(b.options.classes.pagePanel),a.support.cssTransform3d&&b.options.animate&&this.element.addClass(b.options.classes.animate),b._bindUpdateLayout(),b._bindCloseEvents(),b._bindLinkListeners(),b._bindPageEvents(),b.options.dismissible&&b._createModal(),b._bindSwipeEvents()},_createModal:function(){var b=this;b._modal=a("<div class='"+b.options.classes.modal+"' data-panelid='"+b._panelID+"'></div>").on("mousedown",function(){b.close()}).appendTo(this._page)},_getPosDisplayClasses:function(a){return a+"-position-"+this.options.position+" "+a+"-display-"+this.options.display},_getPanelClasses:function(){var a=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(a+=" ui-body-"+this.options.theme),this.options.positionFixed&&(a+=" "+this.options.classes.panelFixed),a},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var a=this;a._closeLink.on("click.panel",function(b){return b.preventDefault(),a.close(),!1}),a.element.on("click.panel","a:jqmData(ajax='false')",function(){a.close()})},_positionPanel:function(){var b=this,c=b._panelInner.outerHeight(),d=c>a.mobile.getScreenHeight();d||!b.options.positionFixed?(d&&(b._unfixPanel(),a.mobile.resetActivePageHeight(c)),b._scrollIntoView(c)):b._fixPanel()},_scrollIntoView:function(c){c<a(b).scrollTop()&&b.scrollTo(0,0)},_bindFixListener:function(){this._on(a(b),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(a(b),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var a=this;a.element.on("updatelayout",function(){a._open&&a._positionPanel()})},_bindLinkListeners:function(){var b=this;b._page.on("click.panel","a",function(c){if(this.href.split("#")[1]===b._panelID&&b._panelID!==d){c.preventDefault();var e,f=a(this);return f.hasClass("ui-link")||(e=f.parent().parent(),e.hasClass("ui-li")&&(f=e.parent()),f.addClass(a.mobile.activeBtnClass),b.element.one("panelopen panelclose",function(){f.removeClass(a.mobile.activeBtnClass)})),b.toggle(),!1}})},_bindSwipeEvents:function(){var a=this,b=a._modal?a.element.add(a._modal):a.element;a.options.swipeClose&&("left"===a.options.position?b.on("swipeleft.panel",function(){a.close()}):b.on("swiperight.panel",function(){a.close()}))},_bindPageEvents:function(){var a=this;a._page.on("panelbeforeopen",function(b){a._open&&b.target!==a.element[0]&&a.close()}).on("pagehide",function(){a._open&&a.close(!0)}).on("keyup.panel",function(b){27===b.keyCode&&a._open&&a.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(b){if(!this._open){var c=this,d=c.options,e=function(){c._page.off("panelclose"),c._page.jqmData("panel","open"),!b&&a.support.cssTransform3d&&d.animate?c.element.add(c._wrapper).on(c._transitionEndEvents,f):setTimeout(f,0),c.options.theme&&"overlay"!==c.options.display&&c._page.removeClass(c._pageTheme).addClass("ui-body-"+c.options.theme),c.element.removeClass(d.classes.panelClosed).addClass(d.classes.panelOpen),c._positionPanel(),c.options.theme&&"overlay"!==c.options.display&&c._wrapper.css("min-height",c._page.css("min-height")),c._contentWrapOpenClasses=c._getPosDisplayClasses(d.classes.contentWrap),c._wrapper.removeClass(d.classes.contentWrapClosed).addClass(c._contentWrapOpenClasses+" "+d.classes.contentWrapOpen),c._fixedToolbarOpenClasses=c._getPosDisplayClasses(d.classes.contentFixedToolbar),c._fixedToolbar.removeClass(d.classes.contentFixedToolbarClosed).addClass(c._fixedToolbarOpenClasses+" "+d.classes.contentFixedToolbarOpen),c._modalOpenClasses=c._getPosDisplayClasses(d.classes.modal)+" "+d.classes.modalOpen,c._modal&&c._modal.addClass(c._modalOpenClasses)},f=function(){c.element.add(c._wrapper).off(c._transitionEndEvents,f),c._page.addClass(d.classes.pagePanelOpen),c._bindFixListener(),c._trigger("open")};this.element.closest(".ui-page-active").length<0&&(b=!0),c._trigger("beforeopen"),"open"===c._page.jqmData("panel")?c._page.on("panelclose",function(){e()}):e(),c._open=!0}},close:function(b){if(this._open){var c=this.options,d=this,e=function(){!b&&a.support.cssTransform3d&&c.animate?d.element.add(d._wrapper).on(d._transitionEndEvents,f):setTimeout(f,0),d._page.removeClass(c.classes.pagePanelOpen),d.element.removeClass(c.classes.panelOpen),d._wrapper.removeClass(c.classes.contentWrapOpen),d._fixedToolbar.removeClass(c.classes.contentFixedToolbarOpen),d._modal&&d._modal.removeClass(d._modalOpenClasses)},f=function(){d.options.theme&&"overlay"!==d.options.display&&(d._page.removeClass("ui-body-"+d.options.theme).addClass(d._pageTheme),d._wrapper.css("min-height","")),d.element.add(d._wrapper).off(d._transitionEndEvents,f),d.element.addClass(c.classes.panelClosed),d._wrapper.removeClass(d._contentWrapOpenClasses).addClass(c.classes.contentWrapClosed),d._fixedToolbar.removeClass(d._fixedToolbarOpenClasses).addClass(c.classes.contentFixedToolbarClosed),d._fixPanel(),d._unbindFixListener(),a.mobile.resetActivePageHeight(),d._page.jqmRemoveData("panel"),d._trigger("close")};this.element.closest(".ui-page-active").length<0&&(b=!0),d._trigger("beforeclose"),e(),d._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var b=this.options.classes,c=this.options.theme,d=this.element.siblings("."+b.panel).length;d?this._open&&(this._wrapper.removeClass(b.contentWrapOpen),this._fixedToolbar.removeClass(b.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(b.pagePanelOpen),c&&this._page.removeClass("ui-body-"+c).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(b.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(b.pagePanelOpen),c&&this._page.removeClass("ui-body-"+c).addClass(this._pageTheme),a.mobile.resetActivePageHeight())),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),b.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._closeLink.off("click.panel"),this._modal&&this._modal.remove(),this.element.off(this._transitionEndEvents).removeClass([b.panelUnfixed,b.panelClosed,b.panelOpen].join(" "))}}),a(c).bind("pagecreate create",function(b){a.mobile.panel.prototype.enhanceWithin(b.target)})}(a),function(a,b){a.widget("mobile.table",a.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var a=this;a.refresh(!0)},refresh:function(c){var d=this,e=this.element.find("thead tr");c&&this.element.addClass(this.options.classes.table),d.headers=this.element.find("tr:eq(0)").children(),d.allHeaders=d.headers.add(e.children()),e.each(function(){var f=0;a(this).children().each(function(){var g=parseInt(a(this).attr("colspan"),10),h=":nth-child("+(f+1)+")";if(a(this).jqmData("colstart",f+1),g)for(var i=0;g-1>i;i++)f++,h+=", :nth-child("+(f+1)+")";c===b&&a(this).jqmData("cells",""),a(this).jqmData("cells",d.element.find("tr").not(e.eq(0)).not(this).children(h)),f++})}),c===b&&this.element.trigger("refresh")}}),a.mobile.document.bind("pagecreate create",function(b){a.mobile.table.prototype.enhanceWithin(b.target)})}(a),function(a,b){a.mobile.table.prototype.options.mode="columntoggle",a.mobile.table.prototype.options.columnBtnTheme=null,a.mobile.table.prototype.options.columnPopupTheme=null,a.mobile.table.prototype.options.columnBtnText="Columns...",a.mobile.table.prototype.options.classes=a.extend(a.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"}),a.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(c){var d,e,f,g,h=a(this),i=h.data("mobile-table"),j=c.type,k=i.options,l=a.mobile.ns,m=(h.attr("id")||k.classes.popup)+"-popup";"columntoggle"===k.mode&&("refresh"!==j&&(i.element.addClass(k.classes.columnToggleTable),d=a("<a href='#"+m+"' class='"+k.classes.columnBtn+"' data-"+l+"rel='popup' data-"+l+"mini='true'>"+k.columnBtnText+"</a>"),e=a("<div data-"+l+"role='popup' data-"+l+"role='fieldcontain' class='"+k.classes.popup+"' id='"+m+"'></div>"),f=a("<fieldset data-"+l+"role='controlgroup'></fieldset>")),i.headers.not("td").each(function(b){var c=a(this).jqmData("priority"),d=a(this).add(a(this).jqmData("cells"));c&&(d.addClass(k.classes.priorityPrefix+c),"refresh"!==j?a("<label><input type='checkbox' checked />"+a(this).text()+"</label>").appendTo(f).children(0).jqmData("cells",d).checkboxradio({theme:k.columnPopupTheme}):a("#"+m+" fieldset div:eq("+b+")").find("input").jqmData("cells",d))}),"refresh"!==j&&f.appendTo(e),g=f===b?a("#"+m+" fieldset"):f,"refresh"!==j&&(g.on("change","input",function(){this.checked?a(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):a(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")}),d.insertBefore(h).buttonMarkup({theme:k.columnBtnTheme}),e.insertBefore(h).popup()),i.update=function(){g.find("input").each(function(){this.checked?(this.checked="table-cell"===a(this).jqmData("cells").eq(0).css("display"),"refresh"===j&&a(this).jqmData("cells").addClass("ui-table-cell-visible")):a(this).jqmData("cells").addClass("ui-table-cell-hidden"),a(this).checkboxradio("refresh")})},a.mobile.window.on("throttledresize",i.update),i.update())})}(a),function(a){a.mobile.table.prototype.options.mode="reflow",a.mobile.table.prototype.options.classes=a.extend(a.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"}),a.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(b){var c=a(this),d=b.type,e=c.data("mobile-table"),f=e.options;if("reflow"===f.mode){"refresh"!==d&&e.element.addClass(f.classes.reflowTable);var g=a(e.allHeaders.get().reverse());g.each(function(){var b=a(this).jqmData("cells"),c=a(this).jqmData("colstart"),d=b.not(this).filter("thead th").length&&" ui-table-cell-label-top",e=a(this).text();if(""!==e)if(d){var g=parseInt(a(this).attr("colspan"),10),h="";g&&(h="td:nth-child("+g+"n + "+c+")"),b.filter(h).prepend("<b class='"+f.classes.cellLabels+d+"'>"+e+"</b>")}else b.prepend("<b class='"+f.classes.cellLabels+"'>"+e+"</b>")})}})}(a),function(a,b){function c(a){e=a.originalEvent,i=e.accelerationIncludingGravity,f=Math.abs(i.x),g=Math.abs(i.y),h=Math.abs(i.z),!b.orientation&&(f>7||(h>6&&8>g||8>h&&g>6)&&f>5)?j.enabled&&j.disable():j.enabled||j.enable()}a.mobile.iosorientationfixEnabled=!0;var d=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(d)&&d.indexOf("AppleWebKit")>-1))return a.mobile.iosorientationfixEnabled=!1,void 0;var e,f,g,h,i,j=a.mobile.zoom;a.mobile.document.on("mobileinit",function(){a.mobile.iosorientationfixEnabled&&a.mobile.window.bind("orientationchange.iosorientationfix",j.enable).bind("devicemotion.iosorientationfix",c)})}(a,this),function(a,b){function d(){e.removeClass("ui-mobile-rendering")}var e=a("html"),f=(a("head"),a.mobile.window);a(b.document).trigger("mobileinit"),a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),e.addClass("ui-mobile ui-mobile-rendering"),setTimeout(d,5e3),a.extend(a.mobile,{initializePage:function(){var b=a.mobile.path,e=a(":jqmData(role='page'), :jqmData(role='dialog')"),g=b.stripHash(b.stripQueryParams(b.parseLocation().hash)),h=c.getElementById(g);e.length||(e=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)),e.each(function(){var b=a(this);b.jqmData("url")||b.attr("data-"+a.mobile.ns+"url",b.attr("id")||location.pathname+location.search)}),a.mobile.firstPage=e.first(),a.mobile.pageContainer=a.mobile.firstPage.parent().addClass("ui-mobile-viewport"),a.mobile.navreadyDeferred.resolve(),f.trigger("pagecontainercreate"),a.mobile.showPageLoadingMsg(),d(),a.mobile.hashListeningEnabled&&a.mobile.path.isHashValid(location.hash)&&(a(h).is(':jqmData(role="page")')||a.mobile.path.isPath(g)||g===a.mobile.dialogHashKey)?a.event.special.navigate.isPushStateEnabled()?(a.mobile.navigate.history.stack=[],a.mobile.navigate(a.mobile.path.isPath(location.hash)?location.hash:location.href)):f.trigger("hashchange",[!0]):(a.mobile.path.isHashValid(location.hash)&&(a.mobile.urlHistory.initialDst=g.replace("#","")),a.event.special.navigate.isPushStateEnabled()&&a.mobile.navigate.navigator.squash(b.parseLocation().href),a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))
}}),a(function(){b.scrollTo(0,1),a.mobile.defaultHomeScroll=a.support.scrollTop&&1!==a.mobile.window.scrollTop()?1:0,a.mobile.autoInitializePage&&a.mobile.initializePage(),f.load(a.mobile.silentScroll),a.support.cssPointerEvents||a.mobile.document.delegate(".ui-disabled","vclick",function(a){a.preventDefault(),a.stopImmediatePropagation()})}))}(a,this)}),function(a){function b(a,b){return function(c){return i(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function e(a){g(this,a)}function f(a){var b=a.years||a.year||a.y||0,c=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,f=a.hours||a.hour||a.h||0,g=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,i=a.milliseconds||a.millisecond||a.ms||0;this._input=a,this._milliseconds=i+1e3*h+6e4*g+36e5*f,this._days=e+7*d,this._months=c+12*b,this._data={},this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function i(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function j(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&H.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a,b){var c,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function m(a){return a?eb[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function n(a,b){return b.abbr=a,L[a]||(L[a]=new d),L[a].set(b),L[a]}function o(a){if(!a)return H.fn._lang;if(!L[a]&&M)try{require("./lang/"+a)}catch(b){return H.fn._lang}return L[a]}function p(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function q(a){var b,c,d=a.match(P);for(b=0,c=d.length;c>b;b++)d[b]=ib[d[b]]?ib[d[b]]:p(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function r(a,b){function c(b){return a.lang().longDateFormat(b)||b}for(var d=5;d--&&Q.test(b);)b=b.replace(Q,c);return fb[b]||(fb[b]=q(b)),fb[b](a)}function s(a,b){switch(a){case"DDDD":return T;case"YYYY":return U;case"YYYYY":return V;case"S":case"SS":case"SSS":case"DDD":return S;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return W;case"a":case"A":return o(b._l)._meridiemParse;case"X":return Z;case"Z":case"ZZ":return X;case"T":return Y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return R;default:return new RegExp(a.replace("\\",""))}}function t(a){var b=(X.exec(a)||[])[0],c=(b+"").match(bb)||["-",0,0],d=+(60*c[1])+~~c[2];return"+"===c[0]?-d:d}function u(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":e[1]=null==b?0:~~b-1;break;case"MMM":case"MMMM":d=o(c._l).monthsParse(b),null!=d?e[1]=d:c._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=b&&(e[2]=~~b);break;case"YY":e[0]=~~b+(~~b>68?1900:2e3);break;case"YYYY":case"YYYYY":e[0]=~~b;break;case"a":case"A":c._isPm=o(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[3]=~~b;break;case"m":case"mm":e[4]=~~b;break;case"s":case"ss":e[5]=~~b;break;case"S":case"SS":case"SSS":e[6]=~~(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=t(b)}null==b&&(c._isValid=!1)}function v(a){var b,c,d=[];if(!a._d){for(b=0;7>b;b++)a._a[b]=d[b]=null==a._a[b]?2===b?1:0:a._a[b];d[3]+=~~((a._tzm||0)/60),d[4]+=~~((a._tzm||0)%60),c=new Date(0),a._useUTC?(c.setUTCFullYear(d[0],d[1],d[2]),c.setUTCHours(d[3],d[4],d[5],d[6])):(c.setFullYear(d[0],d[1],d[2]),c.setHours(d[3],d[4],d[5],d[6])),a._d=c}}function w(a){var b,c,d=a._f.match(P),e=a._i;for(a._a=[],b=0;b<d.length;b++)c=(s(d[b],a).exec(e)||[])[0],c&&(e=e.slice(e.indexOf(c)+c.length)),ib[d[b]]&&u(d[b],c,a);e&&(a._il=e),a._isPm&&a._a[3]<12&&(a._a[3]+=12),a._isPm===!1&&12===a._a[3]&&(a._a[3]=0),v(a)}function x(a){var b,c,d,f,h,i=99;for(f=0;f<a._f.length;f++)b=g({},a),b._f=a._f[f],w(b),c=new e(b),h=l(b._a,c.toArray()),c._il&&(h+=c._il.length),i>h&&(i=h,d=c);g(a,d)}function y(a){var b,c=a._i,d=$.exec(c);if(d){for(a._f="YYYY-MM-DD"+(d[2]||" "),b=0;4>b;b++)if(ab[b][1].exec(c)){a._f+=ab[b][0];break}X.exec(c)&&(a._f+=" Z"),w(a)}else a._d=new Date(c)}function z(b){var c=b._i,d=N.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?y(b):k(c)?(b._a=c.slice(0),v(b)):b._d=c instanceof Date?new Date(+c):new Date(c)}function A(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function B(a,b,c){var d=K(Math.abs(a)/1e3),e=K(d/60),f=K(e/60),g=K(f/24),h=K(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",K(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,A.apply({},i)}function C(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=H(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function D(a){var b=a._i,c=a._f;return null===b||""===b?null:("string"==typeof b&&(a._i=b=o().preparse(b)),H.isMoment(b)?(a=g({},b),a._d=new Date(+b._d)):c?k(c)?x(a):w(a):z(a),new e(a))}function E(a,b){H.fn[a]=H.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),H.updateOffset(this),this):this._d["get"+c+b]()}}function F(a){H.duration.fn[a]=function(){return this._data[a]}}function G(a,b){H.duration.fn["as"+a]=function(){return+this/b}}for(var H,I,J="2.1.0",K=Math.round,L={},M="undefined"!=typeof module&&module.exports,N=/^\/?Date\((\-?\d+)/i,O=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,P=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,Q=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,R=/\d\d?/,S=/\d{1,3}/,T=/\d{3}/,U=/\d{1,4}/,V=/[+\-]?\d{1,6}/,W=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,X=/Z|[\+\-]\d\d:?\d\d/i,Y=/T/i,Z=/[\+\-]?\d+(\.\d{1,3})?/,$=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,_="YYYY-MM-DDTHH:mm:ssZ",ab=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bb=/([\+\-]|\d\d)/gi,cb="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),db={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},eb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},fb={},gb="DDD w W M D d".split(" "),hb="M D H h m s w W".split(" "),ib={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return i(this.year()%100,2)},YYYY:function(){return i(this.year(),4)},YYYYY:function(){return i(this.year(),5)},gg:function(){return i(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return i(this.weekYear(),5)},GG:function(){return i(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return i(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return i(~~(this.milliseconds()/10),2)},SSS:function(){return i(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(a/60),2)+":"+i(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};gb.length;)I=gb.pop(),ib[I+"o"]=c(ib[I],I);for(;hb.length;)I=hb.pop(),ib[I+I]=b(ib[I],2);for(ib.DDDD=b(ib.DDD,3),d.prototype={set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=H([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=H([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return C(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},H=function(a,b,c){return D({_i:a,_f:b,_l:c,_isUTC:!1})},H.utc=function(a,b,c){return D({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b})},H.unix=function(a){return H(1e3*a)},H.duration=function(a,b){var c,d,e=H.isDuration(a),g="number"==typeof a,h=e?a._input:g?{}:a,i=O.exec(a);return g?b?h[b]=a:h.milliseconds=a:i&&(c="-"===i[1]?-1:1,h={y:0,d:~~i[2]*c,h:~~i[3]*c,m:~~i[4]*c,s:~~i[5]*c,ms:~~i[6]*c}),d=new f(h),e&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},H.version=J,H.defaultFormat=_,H.updateOffset=function(){},H.lang=function(a,b){return a?(b?n(a,b):L[a]||o(a),H.duration.fn._lang=H.fn._lang=o(a),void 0):H.fn._lang._abbr},H.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),o(a)},H.isMoment=function(a){return a instanceof e},H.isDuration=function(a){return a instanceof f},H.fn=e.prototype={clone:function(){return H(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return r(H(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!l(this._a,(this._isUTC?H.utc(this._a):H(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=r(this,a||H.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?H.duration(+b,a):H.duration(a,b),j(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?H.duration(+b,a):H.duration(a,b),j(this,c,-1),this},diff:function(a,b,c){var d,e,f=this._isUTC?H(a).zone(this._offset||0):H(a).local(),g=6e4*(this.zone()-f.zone());return b=m(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-H(this).startOf("month")-(f-H(f).startOf("month")))/d,e-=6e4*(this.zone()-H(this).startOf("month").zone()-(f.zone()-H(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:h(e)},from:function(a,b){return H.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(H(),a)},calendar:function(){var a=this.diff(H().startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-b}):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),H.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=m(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),this},endOf:function(a){return this.startOf(a).add(a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+H(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+H(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+H(a).startOf(b)},min:function(a){return a=H.apply(null,arguments),this>a?this:a},max:function(a){return a=H.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=t(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&j(this,H.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return H.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=K((H(this).startOf("day")-H(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=C(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=C(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=C(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},lang:function(b){return b===a?this._lang:(this._lang=o(b),this)}},I=0;I<cb.length;I++)E(cb[I].toLowerCase().replace(/s$/,""),cb[I]);E("year","FullYear"),H.fn.days=H.fn.day,H.fn.months=H.fn.month,H.fn.weeks=H.fn.week,H.fn.isoWeeks=H.fn.isoWeek,H.fn.toJSON=H.fn.toISOString,H.duration.fn=f.prototype={_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,i=this._data;i.milliseconds=e%1e3,a=h(e/1e3),i.seconds=a%60,b=h(a/60),i.minutes=b%60,c=h(b/60),i.hours=c%24,f+=h(c/24),i.days=f%30,g+=h(f/30),i.months=g%12,d=h(g/12),i.years=d},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(a){var b=+this,c=B(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=H.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=H.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=m(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=m(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:H.fn.lang};for(I in db)db.hasOwnProperty(I)&&(G(I,db[I]),F(I.toLowerCase()));G("Weeks",6048e5),H.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},H.lang("en",{ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),M&&(module.exports=H),"undefined"==typeof ender&&(this.moment=H),"function"==typeof define&&define.amd&&define("moment",[],function(){return H})}.call(this),function(a){a.Parse=a.Parse||{},a.Parse.VERSION="js1.2.12"}(this),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?(this._wrapped=a,void 0):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.4";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?null:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f},x.bind=function(a,b){if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:new RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=++H+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(a){a.Parse=a.Parse||{};var b=a.Parse;"undefined"!=typeof exports&&exports._?(b._=exports._.noConflict(),b.localStorage=require("localStorage"),b.XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest,exports.Parse=b):(b._=_.noConflict(),"undefined"!=typeof localStorage&&(b.localStorage=localStorage),"undefined"!=typeof XMLHttpRequest&&(b.XMLHttpRequest=XMLHttpRequest)),"undefined"!=typeof $&&(b.$=$);
var c=function(){},d=function(a,d,e){var f;return f=d&&d.hasOwnProperty("constructor")?d.constructor:function(){a.apply(this,arguments)},b._.extend(f,a),c.prototype=a.prototype,f.prototype=new c,d&&b._.extend(f.prototype,d),e&&b._.extend(f,e),f.prototype.constructor=f,f.__super__=a.prototype,f};b.serverURL="https://api.parse.com","undefined"!=typeof process&&process.versions&&process.versions.node&&(b._isNode=!0),b.initialize=function(a,c,d){if(d)throw"Parse.initialize() was passed a Master Key, which is only allowed from within Node.js.";b._initialize(a,c)},b._initialize=function(a,c,d){b.applicationId=a,b.javaScriptKey=c,b.masterKey=d,b._useMasterKey=!1},b._isNode&&(b.initialize=b._initialize,b.Cloud=b.Cloud||{},b.Cloud.useMasterKey=function(){b._useMasterKey=!0}),b._getParsePath=function(a){if(!b.applicationId)throw"You need to call Parse.initialize before using Parse.";if(a||(a=""),!b._.isString(a))throw"Tried to get a localStorage path that wasn't a String.";return"/"===a[0]&&(a=a.substring(1)),"Parse/"+b.applicationId+"/"+a},b._installationId=null,b._getInstallationId=function(){if(b._installationId)return b._installationId;var a=b._getParsePath("installationId");if(b._installationId=b.localStorage.getItem(a),!b._installationId||""===b._installationId){var c=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};b._installationId=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c(),b.localStorage.setItem(a,b._installationId)}return b._installationId},b._parseDate=function(a){var b=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),c=b.exec(a);if(!c)return null;var d=c[1]||0,e=(c[2]||1)-1,f=c[3]||0,g=c[4]||0,h=c[5]||0,i=c[6]||0,j=c[8]||0;return new Date(Date.UTC(d,e,f,g,h,i,j))},b._ajaxIE8=function(a,c,d){var e=new b.Promise,f=new XDomainRequest;return f.onload=function(){var a;try{a=JSON.parse(f.responseText)}catch(b){e.reject(b)}a&&e.resolve(a)},f.onerror=f.ontimeout=function(){e.reject(f)},f.onprogress=function(){},f.open(a,c),f.send(d),e},b._ajax=function(a,c,d,e,f){var g={success:e,error:f};if("undefined"!=typeof XDomainRequest)return b._ajaxIE8(a,c,d)._thenRunCallbacks(g);var h=new b.Promise,i=!1,j=new b.XMLHttpRequest;return j.onreadystatechange=function(){if(4===j.readyState){if(i)return;if(i=!0,j.status>=200&&j.status<300){var a;try{a=JSON.parse(j.responseText)}catch(b){h.reject(b)}a&&h.resolve(a,j.status,j)}else h.reject(j)}},j.open(a,c,!0),j.setRequestHeader("Content-Type","text/plain"),b._isNode&&j.setRequestHeader("User-Agent","Parse/"+b.VERSION+" (NodeJS "+process.versions.node+")"),j.send(d),h._thenRunCallbacks(g)},b._extend=function(a,b){var c=d(this,a,b);return c.extend=this.extend,c},b._request=function(a){var c=a.route,d=a.className,e=a.objectId,f=a.method,g=a.useMasterKey,h=a.data;if(!b.applicationId)throw"You must specify your applicationId using Parse.initialize.";if(!b.javaScriptKey&&!b.masterKey)throw"You must specify a key using Parse.initialize.";if("batch"!==c&&"classes"!==c&&"events"!==c&&"files"!==c&&"functions"!==c&&"login"!==c&&"push"!==c&&"requestPasswordReset"!==c&&"users"!==c&&"jobs"!==c)throw"Bad route: '"+c+"'.";var i=b.serverURL;"/"!==i.charAt(i.length-1)&&(i+="/"),i+="1/"+c,d&&(i+="/"+d),e&&(i+="/"+e),h=b._.clone(h||{}),"POST"!==f&&(h._method=f,f="POST"),b._.isUndefined(g)&&(g=b._useMasterKey),h._ApplicationId=b.applicationId,g?h._MasterKey=b.masterKey:h._JavaScriptKey=b.javaScriptKey,h._ClientVersion=b.VERSION,h._InstallationId=b._getInstallationId();var j=b.User.current();j&&j._sessionToken&&(h._SessionToken=j._sessionToken);var k=JSON.stringify(h);return b._ajax(f,i,k).then(null,function(a){var c;if(a&&a.responseText)try{var d=JSON.parse(a.responseText);d&&(c=new b.Error(d.code,d.error))}catch(e){}return c=c||new b.Error(-1,a.responseText),b.Promise.error(c)})},b._getValue=function(a,c){return a&&a[c]?b._.isFunction(a[c])?a[c]():a[c]:null},b._encode=function(a,c,d){var e=b._;if(a instanceof b.Object){if(d)throw"Parse.Objects not allowed here";if(!c||e.include(c,a)||!a._hasData)return a._toPointer();if(!a.dirty())return c=c.concat(a),b._encode(a._toFullJSON(c),c,d);throw"Tried to save an object with a pointer to a new, unsaved object."}if(a instanceof b.ACL)return a.toJSON();if(e.isDate(a))return{__type:"Date",iso:a.toJSON()};if(a instanceof b.GeoPoint)return a.toJSON();if(e.isArray(a))return e.map(a,function(a){return b._encode(a,c,d)});if(e.isRegExp(a))return a.source;if(a instanceof b.Relation)return a.toJSON();if(a instanceof b.Op)return a.toJSON();if(a instanceof b.File){if(!a.url())throw"Tried to save an object containing an unsaved file.";return{__type:"File",name:a.name(),url:a.url()}}if(e.isObject(a)){var f={};return b._objectEach(a,function(a,e){f[e]=b._encode(a,c,d)}),f}return a},b._decode=function(a,c){var d=b._;if(!d.isObject(c))return c;if(d.isArray(c))return b._arrayEach(c,function(a,d){c[d]=b._decode(d,a)}),c;if(c instanceof b.Object)return c;if(c instanceof b.File)return c;if(c instanceof b.Op)return c;if(c.__op)return b.Op._decode(c);if("Pointer"===c.__type){var e=b.Object._create(c.className);return e._finishFetch({objectId:c.objectId},!1),e}if("Object"===c.__type){var f=c.className;delete c.__type,delete c.className;var g=b.Object._create(f);return g._finishFetch(c,!0),g}if("Date"===c.__type)return b._parseDate(c.iso);if("GeoPoint"===c.__type)return new b.GeoPoint({latitude:c.latitude,longitude:c.longitude});if("ACL"===a)return c instanceof b.ACL?c:new b.ACL(c);if("Relation"===c.__type){var h=new b.Relation(null,a);return h.targetClassName=c.className,h}if("File"===c.__type){var i=new b.File(c.name);return i._url=c.url,i}return b._objectEach(c,function(a,d){c[d]=b._decode(d,a)}),c},b._arrayEach=b._.each,b._traverse=function(a,c,d){if(a instanceof b.Object){if(d=d||[],b._.indexOf(d,a)>=0)return;return d.push(a),b._traverse(a.attributes,c,d),c(a)}return a instanceof b.Relation||a instanceof b.File?c(a):b._.isArray(a)?(b._.each(a,function(e,f){var g=b._traverse(e,c,d);g&&(a[f]=g)}),c(a)):b._.isObject(a)?(b._each(a,function(e,f){var g=b._traverse(e,c,d);g&&(a[f]=g)}),c(a)):c(a)},b._objectEach=b._each=function(a,c){var d=b._;d.isObject(a)?d.each(d.keys(a),function(b){c(a[b],b)}):d.each(a,c)},b._isNullOrUndefined=function(a){return b._.isNull(a)||b._.isUndefined(a)}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Analytics=b.Analytics||{},c.extend(b.Analytics,{track:function(a,d){if(!a||0===a.trim().length)throw"A name for the custom event must be provided";return c.each(d,function(a,b){if(!c.isString(b)||!c.isString(a))throw'track() dimensions expects keys and values of type "string".'}),b._request({route:"events",className:a,method:"POST",data:{dimensions:d}})}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Error=function(a,b){this.code=a,this.message=b},c.extend(b.Error,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,AGGREGATE_ERROR:600})}(this),function(){var a=this,b=a.Parse||(a.Parse={}),c=/\s+/,d=Array.prototype.slice;b.Events={on:function(a,b,d){var e,f,g,h,i;if(!b)return this;for(a=a.split(c),e=this._callbacks||(this._callbacks={}),f=a.shift();f;)i=e[f],g=i?i.tail:{},g.next=h={},g.context=d,g.callback=b,e[f]={tail:h,next:i?i.next:g},f=a.shift();return this},off:function(a,b,d){var e,f,g,h,i,j;if(f=this._callbacks){if(!(a||b||d))return delete this._callbacks,this;for(a=a?a.split(c):_.keys(f),e=a.shift();e;)if(g=f[e],delete f[e],g&&(b||d)){for(h=g.tail,g=g.next;g!==h;)i=g.callback,j=g.context,(b&&i!==b||d&&j!==d)&&this.on(e,i,j),g=g.next;e=a.shift()}return this}},trigger:function(a){var b,e,f,g,h,i,j;if(!(f=this._callbacks))return this;for(i=f.all,a=a.split(c),j=d.call(arguments,1),b=a.shift();b;){if(e=f[b])for(g=e.tail;(e=e.next)!==g;)e.callback.apply(e.context||this,j);if(e=i)for(g=e.tail,h=[b].concat(j);(e=e.next)!==g;)e.callback.apply(e.context||this,h);b=a.shift()}return this}},b.Events.bind=b.Events.on,b.Events.unbind=b.Events.off}.call(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.GeoPoint=function(a,d){c.isArray(a)?(b.GeoPoint._validate(a[0],a[1]),this.latitude=a[0],this.longitude=a[1]):c.isObject(a)?(b.GeoPoint._validate(a.latitude,a.longitude),this.latitude=a.latitude,this.longitude=a.longitude):c.isNumber(a)&&c.isNumber(d)?(b.GeoPoint._validate(a,d),this.latitude=a,this.longitude=d):(this.latitude=0,this.longitude=0);var e=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return e._latitude}),this.__defineGetter__("longitude",function(){return e._longitude}),this.__defineSetter__("latitude",function(a){b.GeoPoint._validate(a,e.longitude),e._latitude=a}),this.__defineSetter__("longitude",function(a){b.GeoPoint._validate(e.latitude,a),e._longitude=a}))},b.GeoPoint._validate=function(a,b){if(-90>a)throw"Parse.GeoPoint latitude "+a+" < -90.0.";if(a>90)throw"Parse.GeoPoint latitude "+a+" > 90.0.";if(-180>b)throw"Parse.GeoPoint longitude "+b+" < -180.0.";if(b>180)throw"Parse.GeoPoint longitude "+b+" > 180.0."},b.GeoPoint.current=function(a){var c=new b.Promise;return navigator.geolocation.getCurrentPosition(function(a){c.resolve(new b.GeoPoint({latitude:a.coords.latitude,longitude:a.coords.longitude}))},function(a){c.reject(a)}),c._thenRunCallbacks(a)},b.GeoPoint.prototype={toJSON:function(){return b.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(a){var b=Math.PI/180,c=this.latitude*b,d=this.longitude*b,e=a.latitude*b,f=a.longitude*b,g=c-e,h=d-f,i=Math.sin(g/2),j=Math.sin(h/2),k=i*i+Math.cos(c)*Math.cos(e)*j*j;return k=Math.min(1,k),2*Math.asin(Math.sqrt(k))},kilometersTo:function(a){return 6371*this.radiansTo(a)},milesTo:function(a){return 3958.8*this.radiansTo(a)}}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._,d="*";b.ACL=function(a){var d=this;if(d.permissionsById={},c.isObject(a))if(a instanceof b.User)d.setReadAccess(a,!0),d.setWriteAccess(a,!0);else{if(c.isFunction(a))throw"Parse.ACL() called with a function.  Did you forget ()?";b._objectEach(a,function(a,e){if(!c.isString(e))throw"Tried to create an ACL with an invalid userId.";d.permissionsById[e]={},b._objectEach(a,function(a,b){if("read"!==b&&"write"!==b)throw"Tried to create an ACL with an invalid permission type.";if(!c.isBoolean(a))throw"Tried to create an ACL with an invalid permission value.";d.permissionsById[e][b]=a})})}},b.ACL.prototype.toJSON=function(){return c.clone(this.permissionsById)},b.ACL.prototype._setAccess=function(a,d,e){if(d instanceof b.User?d=d.id:d instanceof b.Role&&(d="role:"+d.getName()),!c.isString(d))throw"userId must be a string.";if(!c.isBoolean(e))throw"allowed must be either true or false.";var f=this.permissionsById[d];if(!f){if(!e)return;f={},this.permissionsById[d]=f}e?this.permissionsById[d][a]=!0:(delete f[a],c.isEmpty(f)&&delete f[d])},b.ACL.prototype._getAccess=function(a,c){c instanceof b.User?c=c.id:c instanceof b.Role&&(c="role:"+c.getName());var d=this.permissionsById[c];return d?d[a]?!0:!1:!1},b.ACL.prototype.setReadAccess=function(a,b){this._setAccess("read",a,b)},b.ACL.prototype.getReadAccess=function(a){return this._getAccess("read",a)},b.ACL.prototype.setWriteAccess=function(a,b){this._setAccess("write",a,b)},b.ACL.prototype.getWriteAccess=function(a){return this._getAccess("write",a)},b.ACL.prototype.setPublicReadAccess=function(a){this.setReadAccess(d,a)},b.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(d)},b.ACL.prototype.setPublicWriteAccess=function(a){this.setWriteAccess(d,a)},b.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(d)},b.ACL.prototype.getRoleReadAccess=function(a){if(a instanceof b.Role&&(a=a.getName()),c.isString(a))return this.getReadAccess("role:"+a);throw"role must be a Parse.Role or a String"},b.ACL.prototype.getRoleWriteAccess=function(a){if(a instanceof b.Role&&(a=a.getName()),c.isString(a))return this.getWriteAccess("role:"+a);throw"role must be a Parse.Role or a String"},b.ACL.prototype.setRoleReadAccess=function(a,d){if(a instanceof b.Role&&(a=a.getName()),c.isString(a))return this.setReadAccess("role:"+a,d),void 0;throw"role must be a Parse.Role or a String"},b.ACL.prototype.setRoleWriteAccess=function(a,d){if(a instanceof b.Role&&(a=a.getName()),c.isString(a))return this.setWriteAccess("role:"+a,d),void 0;throw"role must be a Parse.Role or a String"}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Op=function(){this._initialize.apply(this,arguments)},b.Op.prototype={_initialize:function(){}},c.extend(b.Op,{_extend:b._extend,_opDecoderMap:{},_registerDecoder:function(a,c){b.Op._opDecoderMap[a]=c},_decode:function(a){var c=b.Op._opDecoderMap[a.__op];return c?c(a):void 0}}),b.Op._registerDecoder("Batch",function(a){var c=null;return b._arrayEach(a.ops,function(a){a=b.Op._decode(a),c=a._mergeWithPrevious(c)}),c}),b.Op.Set=b.Op._extend({_initialize:function(a){this._value=a},value:function(){return this._value},toJSON:function(){return b._encode(this.value())},_mergeWithPrevious:function(){return this},_estimate:function(){return this.value()}}),b.Op._UNSET={},b.Op.Unset=b.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(){return this},_estimate:function(){return b.Op._UNSET}}),b.Op._registerDecoder("Delete",function(){return new b.Op.Unset}),b.Op.Increment=b.Op._extend({_initialize:function(a){this._amount=a},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)return new b.Op.Set(this.amount());if(a instanceof b.Op.Set)return new b.Op.Set(a.value()+this.amount());if(a instanceof b.Op.Increment)return new b.Op.Increment(this.amount()+a.amount());throw"Op is invalid after previous op."}return this},_estimate:function(a){return a?a+this.amount():this.amount()}}),b.Op._registerDecoder("Increment",function(a){return new b.Op.Increment(a.amount)}),b.Op.Add=b.Op._extend({_initialize:function(a){this._objects=a},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:b._encode(this.objects())}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)return new b.Op.Set(this.objects());if(a instanceof b.Op.Set)return new b.Op.Set(this._estimate(a.value()));if(a instanceof b.Op.Add)return new b.Op.Add(a.objects().concat(this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(a){return a?a.concat(this.objects()):c.clone(this.objects())}}),b.Op._registerDecoder("Add",function(a){return new b.Op.Add(b._decode(void 0,a.objects))}),b.Op.AddUnique=b.Op._extend({_initialize:function(a){this._objects=c.uniq(a)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:b._encode(this.objects())}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)return new b.Op.Set(this.objects());if(a instanceof b.Op.Set)return new b.Op.Set(this._estimate(a.value()));if(a instanceof b.Op.AddUnique)return new b.Op.AddUnique(this._estimate(a.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(a){if(a){var d=c.clone(a);return b._arrayEach(this.objects(),function(a){if(a instanceof b.Object&&a.id){var e=c.find(d,function(c){return c instanceof b.Object&&c.id===a.id});if(e){var f=c.indexOf(d,e);d[f]=a}else d.push(a)}else c.contains(d,a)||d.push(a)}),d}return c.clone(this.objects())}}),b.Op._registerDecoder("AddUnique",function(a){return new b.Op.AddUnique(b._decode(void 0,a.objects))}),b.Op.Remove=b.Op._extend({_initialize:function(a){this._objects=c.uniq(a)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:b._encode(this.objects())}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)return a;if(a instanceof b.Op.Set)return new b.Op.Set(this._estimate(a.value()));if(a instanceof b.Op.Remove)return new b.Op.Remove(c.union(a.objects(),this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(a){if(a){var d=c.difference(a,this.objects());return b._arrayEach(this.objects(),function(a){a instanceof b.Object&&a.id&&(d=c.reject(d,function(c){return c instanceof b.Object&&c.id===a.id}))}),d}return[]}}),b.Op._registerDecoder("Remove",function(a){return new b.Op.Remove(b._decode(void 0,a.objects))}),b.Op.Relation=b.Op._extend({_initialize:function(a,d){this._targetClassName=null;var e=this,f=function(a){if(a instanceof b.Object){if(!a.id)throw"You can't add an unsaved Parse.Object to a relation.";if(e._targetClassName||(e._targetClassName=a.className),e._targetClassName!==a.className)throw"Tried to create a Parse.Relation with 2 different types: "+e._targetClassName+" and "+a.className+".";return a.id}return a};this.relationsToAdd=c.uniq(c.map(a,f)),this.relationsToRemove=c.uniq(c.map(d,f))},added:function(){var a=this;return c.map(this.relationsToAdd,function(c){var d=b.Object._create(a._targetClassName);return d.id=c,d})},removed:function(){var a=this;return c.map(this.relationsToRemove,function(c){var d=b.Object._create(a._targetClassName);return d.id=c,d})},toJSON:function(){var a=null,b=null,d=this,e=function(a){return{__type:"Pointer",className:d._targetClassName,objectId:a}},f=null;return this.relationsToAdd.length>0&&(f=c.map(this.relationsToAdd,e),a={__op:"AddRelation",objects:f}),this.relationsToRemove.length>0&&(f=c.map(this.relationsToRemove,e),b={__op:"RemoveRelation",objects:f}),a&&b?{__op:"Batch",ops:[a,b]}:a||b||{}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)throw"You can't modify a relation after deleting it.";if(a instanceof b.Op.Relation){if(a._targetClassName&&a._targetClassName!==this._targetClassName)throw"Related object must be of class "+a._targetClassName+", but "+this._targetClassName+" was passed in.";var d=c.union(c.difference(a.relationsToAdd,this.relationsToRemove),this.relationsToAdd),e=c.union(c.difference(a.relationsToRemove,this.relationsToAdd),this.relationsToRemove),f=new b.Op.Relation(d,e);return f._targetClassName=this._targetClassName,f}throw"Op is invalid after previous op."}return this},_estimate:function(a,c,d){if(a){if(a instanceof b.Relation){if(this._targetClassName)if(a.targetClassName){if(a.targetClassName!==this._targetClassName)throw"Related object must be a "+a.targetClassName+", but a "+this._targetClassName+" was passed in."}else a.targetClassName=this._targetClassName;return a}throw"Op is invalid after previous op."}var e=new b.Relation(c,d);e.targetClassName=this._targetClassName}}),b.Op._registerDecoder("AddRelation",function(a){return new b.Op.Relation(b._decode(void 0,a.objects),[])}),b.Op._registerDecoder("RemoveRelation",function(a){return new b.Op.Relation([],b._decode(void 0,a.objects))})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Relation=function(a,b){this.parent=a,this.key=b,this.targetClassName=null},b.Relation.prototype={_ensureParentAndKey:function(a,b){if(this.parent=this.parent||a,this.key=this.key||b,this.parent!==a)throw"Internal Error. Relation retrieved from two different Objects.";if(this.key!==b)throw"Internal Error. Relation retrieved from two different keys."},add:function(a){c.isArray(a)||(a=[a]);var d=new b.Op.Relation(a,[]);this.parent.set(this.key,d),this.targetClassName=d._targetClassName},remove:function(a){c.isArray(a)||(a=[a]);var d=new b.Op.Relation([],a);this.parent.set(this.key,d),this.targetClassName=d._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var a,c;return this.targetClassName?(a=b.Object._getSubclass(this.targetClassName),c=new b.Query(a)):(a=b.Object._getSubclass(this.parent.className),c=new b.Query(a),c._extraOptions.redirectClassNameForKey=this.key),c._addCondition("$relatedTo","object",this.parent._toPointer()),c._addCondition("$relatedTo","key",this.key),c}}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Promise=function(){this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[]},c.extend(b.Promise,{is:function(a){return a&&a.then&&c.isFunction(a.then)},as:function(){var a=new b.Promise;return a.resolve.apply(a,arguments),a},error:function(){var a=new b.Promise;return a.reject.apply(a,arguments),a},when:function(a){var c;c=a&&b._isNullOrUndefined(a.length)?arguments:a;var d=c.length,e=!1,f=[],g=[];if(f.length=c.length,g.length=c.length,0===d)return b.Promise.as.apply(this,f);var h=new b.Promise,i=function(){d-=1,0===d&&(e?h.reject(g):h.resolve.apply(h,f))};return b._arrayEach(c,function(a,c){b.Promise.is(a)?a.then(function(a){f[c]=a,i()},function(a){g[c]=a,e=!0,i()}):(f[c]=a,i())}),h},_continueWhile:function(a,c){return a()?c().then(function(){return b.Promise._continueWhile(a,c)}):b.Promise.as()}}),c.extend(b.Promise.prototype,{resolve:function(){if(this._resolved||this._rejected)throw"A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._resolved=!0,this._result=arguments;var a=arguments;b._arrayEach(this._resolvedCallbacks,function(b){b.apply(this,a)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},reject:function(a){if(this._resolved||this._rejected)throw"A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._rejected=!0,this._error=a,b._arrayEach(this._rejectedCallbacks,function(b){b(a)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},then:function(a,c){var d=new b.Promise,e=function(){var c=arguments;a&&(c=[a.apply(this,c)]),1===c.length&&b.Promise.is(c[0])?c[0].then(function(){d.resolve.apply(d,arguments)},function(a){d.reject(a)}):d.resolve.apply(d,c)},f=function(a){var e=[];c?(e=[c(a)],1===e.length&&b.Promise.is(e[0])?e[0].then(function(){d.resolve.apply(d,arguments)},function(a){d.reject(a)}):d.reject(e[0])):d.reject(a)};return this._resolved?e.apply(this,this._result):this._rejected?f(this._error):(this._resolvedCallbacks.push(e),this._rejectedCallbacks.push(f)),d},_thenRunCallbacks:function(a,d){var e;if(c.isFunction(a)){var f=a;e={success:function(a){f(a,null)},error:function(a){f(null,a)}}}else e=c.clone(a);return e=e||{},this.then(function(a){return e.success?e.success.apply(this,arguments):d&&d.trigger("sync",d,a,e),b.Promise.as.apply(b.Promise,arguments)},function(a){return e.error?c.isUndefined(d)?e.error(a):e.error(d,a):d&&d.trigger("error",d,a,e),b.Promise.error(a)})},_continueWith:function(a){return this.then(function(){return a(arguments,null)},function(b){return a(null,b)})}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._,d=function(a){if(26>a)return String.fromCharCode(65+a);if(52>a)return String.fromCharCode(97+(a-26));if(62>a)return String.fromCharCode(48+(a-52));if(62===a)return"+";if(63===a)return"/";throw"Tried to encode large digit "+a+" in base64."},e=function(a){var b=[];return b.length=Math.ceil(a.length/3),c.times(b.length,function(c){var e=a[3*c],f=a[3*c+1]||0,g=a[3*c+2]||0,h=3*c+1<a.length,i=3*c+2<a.length;b[c]=[d(e>>2&63),d(e<<4&48|f>>4&15),h?d(f<<2&60|g>>6&3):"=",i?d(63&g):"="].join("")}),b.join("")},f={ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",asc:"text/plain",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bcpio:"application/x-bcpio",bin:"application/octet-stream",bmp:"image/bmp",cdf:"application/x-netcdf",cgm:"image/cgm","class":"application/octet-stream",cpio:"application/x-cpio",cpt:"application/mac-compactpro",csh:"application/x-csh",css:"text/css",dcr:"application/x-director",dif:"video/x-dv",dir:"application/x-director",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",docm:"application/vnd.ms-word.document.macroEnabled.12",dotm:"application/vnd.ms-word.template.macroEnabled.12",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",dxr:"application/x-director",eps:"application/postscript",etx:"text/x-setext",exe:"application/octet-stream",ez:"application/andrew-inset",gif:"image/gif",gram:"application/srgs",grxml:"application/srgs+xml",gtar:"application/x-gtar",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htm:"text/html",html:"text/html",ice:"x-conference/x-cooltalk",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",jnlp:"application/x-java-jnlp-file",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/x-javascript",kar:"audio/midi",latex:"application/x-latex",lha:"application/octet-stream",lzh:"application/octet-stream",m3u:"audio/x-mpegurl",m4a:"audio/mp4a-latm",m4b:"audio/mp4a-latm",m4p:"audio/mp4a-latm",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",mac:"image/x-macpaint",man:"application/x-troff-man",mathml:"application/mathml+xml",me:"application/x-troff-me",mesh:"model/mesh",mid:"audio/midi",midi:"audio/midi",mif:"application/vnd.mif",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",ms:"application/x-troff-ms",msh:"model/mesh",mxu:"video/vnd.mpegurl",nc:"application/x-netcdf",oda:"application/oda",ogg:"application/ogg",pbm:"image/x-portable-bitmap",pct:"image/pict",pdb:"chemical/x-pdb",pdf:"application/pdf",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pic:"image/pict",pict:"image/pict",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",pntg:"image/x-macpaint",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",ps:"application/postscript",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",roff:"application/x-troff",rtf:"text/rtf",rtx:"text/richtext",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",silo:"model/mesh",sit:"application/x-stuffit",skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",smi:"application/smil",smil:"application/smil",snd:"audio/basic",so:"application/octet-stream",spl:"application/x-futuresplash",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",swf:"application/x-shockwave-flash",t:"application/x-troff",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tif:"image/tiff",tiff:"image/tiff",tr:"application/x-troff",tsv:"text/tab-separated-values",txt:"text/plain",ustar:"application/x-ustar",vcd:"application/x-cdlink",vrml:"model/vrml",vxml:"application/voicexml+xml",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wbmxl:"application/vnd.wap.wbxml",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wrl:"model/vrml",xbm:"image/x-xbitmap",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xslt:"application/xslt+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",zip:"application/zip"},g=function(a,c){var d=new b.Promise;if("undefined"==typeof FileReader)return b.Promise.error(new b.Error(-1,"Attempted to use a FileReader on an unsupported browser."));var e=new FileReader;return e.onloadend=function(){if(2!==e.readyState)return d.reject(new b.Error(-1,"Error reading file.")),void 0;var a=e.result,f=/^data:([^;]*);base64,(.*)$/.exec(a);return f?(d.resolve(f[2],c||f[1]),void 0):(d.reject(new b.Error(-1,"Unable to interpret data URL: "+a)),void 0)},e.readAsDataURL(a),d};b.File=function(a,d,h){this._name=a;var i=/\.([^.]*)$/.exec(a);i&&(i=i[1].toLowerCase());var j=h||f[i]||"text/plain";if(c.isArray(d))this._source=b.Promise.as(e(d),j);else if(d&&d.base64)this._source=b.Promise.as(d.base64,j);else if("undefined"!=typeof File&&d instanceof File)this._source=g(d,h);else if(c.isString(d))throw"Creating a Parse.File from a String is not yet supported."},b.File.prototype={name:function(){return this._name},url:function(){return this._url},save:function(a){a=a||{};var c=this;return c._previousSave||(c._previousSave=c._source.then(function(d,e){var f={base64:d,_ContentType:e};return b._request({route:"files",className:c._name,method:"POST",data:f,useMasterKey:a.useMasterKey})}).then(function(a){return c._name=a.name,c._url=a.url,c})),c._previousSave._thenRunCallbacks(a)}}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Object=function(a,d){if(c.isString(a))return b.Object._create.apply(this,arguments);a=a||{},d&&d.parse&&(a=this.parse(a));var e=b._getValue(this,"defaults");if(e&&(a=c.extend({},e,a)),d&&d.collection&&(this.collection=d.collection),this._serverData={},this._opSetQueue=[{}],this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=c.uniqueId("c"),this.changed={},this._silent={},this._pending={},!this.set(a,{silent:!0}))throw new Error("Can't create an invalid Parse.Object");this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=c.clone(this.attributes),this.initialize.apply(this,arguments)},b.Object.saveAll=function(a,c){return c=c||{},b.Object._deepSaveAsync(a,{useMasterKey:c.useMasterKey})._thenRunCallbacks(c)},b.Object.destroyAll=function(a,d){d=d||{};var e=function(a){a.trigger("destroy",a,a.collection,d)},f=[],g=function(a){var g=b.Promise.as();return a.length>0&&(g=g.then(function(){return b._request({route:"batch",method:"POST",useMasterKey:d.useMasterKey,data:{requests:c.map(a,function(a){return{method:"DELETE",path:"/1/classes/"+a.className+"/"+a.id}})}})}).then(function(c){b._arrayEach(a,function(a,g){if(c[g].success&&d.wait)e(a);
else if(c[g].error){var h=new b.Error(c[g].error.code,c[g].error.error);h.object=a,f.push(h)}})})),g},h=b.Promise.as(),i=[];return b._arrayEach(a,function(b,c){if(b.id&&d.wait||e(b),b.id&&i.push(b),20===i.length||c+1===a.length){var f=i;i=[],h=h.then(function(){return g(f)})}}),h.then(function(){if(0===f.length)return!0;var a=new b.Error(b.Error.AGGREGATE_ERROR,"Error deleting an object in destroyAll");return a.errors=f,b.Promise.error(a)})._thenRunCallbacks(d)},c.extend(b.Object.prototype,b.Events,{_existed:!1,initialize:function(){},toJSON:function(){var a=this._toFullJSON();return b._arrayEach(["__type","className"],function(b){delete a[b]}),a},_toFullJSON:function(a){var d=c.clone(this.attributes);return b._objectEach(d,function(c,e){d[e]=b._encode(c,a)}),b._objectEach(this._operations,function(a,b){d[b]=a}),c.has(this,"id")&&(d.objectId=this.id),c.has(this,"createdAt")&&(d.createdAt=c.isDate(this.createdAt)?this.createdAt.toJSON():this.createdAt),c.has(this,"updatedAt")&&(d.updatedAt=c.isDate(this.updatedAt)?this.updatedAt.toJSON():this.updatedAt),d.__type="Object",d.className=this.className,d},_refreshCache:function(){var a=this;a._refreshingCache||(a._refreshingCache=!0,b._objectEach(this.attributes,function(d,e){d instanceof b.Object?d._refreshCache():c.isObject(d)&&a._resetCacheForKey(e)&&a.set(e,new b.Op.Set(d),{silent:!0})}),delete a._refreshingCache)},dirty:function(a){this._refreshCache();var b=c.last(this._opSetQueue);return a?b[a]?!0:!1:this.id?c.keys(b).length>0?!0:!1:!0},_toPointer:function(){if(!this.id)throw new Error("Can't serialize an unsaved Parse.Object");return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(a){return this.attributes[a]},relation:function(a){var c=this.get(a);if(c){if(!(c instanceof b.Relation))throw"Called relation() on non-relation field "+a;return c._ensureParentAndKey(this,a),c}return new b.Relation(this,a)},escape:function(a){var d=this._escapedAttributes[a];if(d)return d;var e,f=this.attributes[a];return e=b._isNullOrUndefined(f)?"":c.escape(f.toString()),this._escapedAttributes[a]=e,e},has:function(a){return!b._isNullOrUndefined(this.attributes[a])},_mergeMagicFields:function(a){var d=this,e=["id","objectId","createdAt","updatedAt"];b._arrayEach(e,function(e){a[e]&&("objectId"===e?d.id=a[e]:d[e]="createdAt"!==e&&"updatedAt"!==e||c.isDate(a[e])?a[e]:b._parseDate(a[e]),delete a[e])})},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var a=c.first(this._opSetQueue);this._opSetQueue=c.rest(this._opSetQueue);var d=c.first(this._opSetQueue);b._objectEach(a,function(b,c){var e=a[c],f=d[c];e&&f?d[c]=f._mergeWithPrevious(e):e&&(d[c]=e)}),this._saving=this._saving-1},_finishSave:function(a){var d={};b._traverse(this.attributes,function(a){a instanceof b.Object&&a.id&&a._hasData&&(d[a.id]=a)});var e=c.first(this._opSetQueue);this._opSetQueue=c.rest(this._opSetQueue),this._applyOpSet(e,this._serverData),this._mergeMagicFields(a);var f=this;b._objectEach(a,function(a,c){f._serverData[c]=b._decode(c,a);var e=b._traverse(f._serverData[c],function(a){return a instanceof b.Object&&d[a.id]?d[a.id]:void 0});e&&(f._serverData[c]=e)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(a,c){this._opSetQueue=[{}],this._mergeMagicFields(a);var d=this;b._objectEach(a,function(a,c){d._serverData[c]=b._decode(c,a)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=c},_applyOpSet:function(a,c){var d=this;b._objectEach(a,function(a,e){c[e]=a._estimate(c[e],d,e),c[e]===b.Op._UNSET&&delete c[e]})},_resetCacheForKey:function(a){var d=this.attributes[a];if(!(!c.isObject(d)||d instanceof b.Object||d instanceof b.File)){d=d.toJSON?d.toJSON():d;var e=JSON.stringify(d);if(this._hashedJSON[a]!==e)return this._hashedJSON[a]=e,!0}return!1},_rebuildEstimatedDataForKey:function(a){var c=this;delete this.attributes[a],this._serverData[a]&&(this.attributes[a]=this._serverData[a]),b._arrayEach(this._opSetQueue,function(d){var e=d[a];e&&(c.attributes[a]=e._estimate(c.attributes[a],c,a),c.attributes[a]===b.Op._UNSET?delete c.attributes[a]:c._resetCacheForKey(a))})},_rebuildAllEstimatedData:function(){var a=this,d=c.clone(this.attributes);this.attributes=c.clone(this._serverData),b._arrayEach(this._opSetQueue,function(c){a._applyOpSet(c,a.attributes),b._objectEach(c,function(b,c){a._resetCacheForKey(c)})}),b._objectEach(d,function(b,c){a.attributes[c]!==b&&a.trigger("change:"+c,a,a.attributes[c],{})}),b._objectEach(this.attributes,function(b,e){c.has(d,e)||a.trigger("change:"+e,a,b,{})})},set:function(a,d,e){var f;if(c.isObject(a)||b._isNullOrUndefined(a)?(f=a,b._objectEach(f,function(a,c){f[c]=b._decode(c,a)}),e=d):(f={},f[a]=b._decode(a,d)),e=e||{},!f)return this;f instanceof b.Object&&(f=f.attributes),e.unset&&b._objectEach(f,function(a,c){f[c]=new b.Op.Unset});var g=c.clone(f),h=this;if(b._objectEach(g,function(a,c){a instanceof b.Op&&(g[c]=a._estimate(h.attributes[c],h,c),g[c]===b.Op._UNSET&&delete g[c])}),!this._validate(f,e))return!1;this._mergeMagicFields(f),e.changes={};{var i=this._escapedAttributes;this._previousAttributes||{}}return b._arrayEach(c.keys(f),function(a){var d=f[a];d instanceof b.Relation&&(d.parent=h),d instanceof b.Op||(d=new b.Op.Set(d));var g=!0;d instanceof b.Op.Set&&c.isEqual(h.attributes[a],d.value)&&(g=!1),g&&(delete i[a],e.silent?h._silent[a]=!0:e.changes[a]=!0);var j=c.last(h._opSetQueue);j[a]=d._mergeWithPrevious(j[a]),h._rebuildEstimatedDataForKey(a),g?(h.changed[a]=h.attributes[a],e.silent||(h._pending[a]=!0)):(delete h.changed[a],delete h._pending[a])}),e.silent||this.change(e),this},unset:function(a,b){return b=b||{},b.unset=!0,this.set(a,null,b)},increment:function(a,d){return(c.isUndefined(d)||c.isNull(d))&&(d=1),this.set(a,new b.Op.Increment(d))},add:function(a,c){return this.set(a,new b.Op.Add([c]))},addUnique:function(a,c){return this.set(a,new b.Op.AddUnique([c]))},remove:function(a,c){return this.set(a,new b.Op.Remove([c]))},op:function(a){return c.last(this._opSetQueue)[a]},clear:function(a){a=a||{},a.unset=!0;var b=c.extend(this.attributes,this._operations);return this.set(b,a)},_getSaveJSON:function(){var a=c.clone(c.first(this._opSetQueue));return b._objectEach(a,function(b,c){a[c]=b.toJSON()}),a},_canBeSerialized:function(){return b.Object._canBeSerializedAsValue(this.attributes)},fetch:function(a){var c=this;a=a||{};var d=b._request({method:"GET",route:"classes",className:this.className,objectId:this.id,useMasterKey:a.useMasterKey});return d.then(function(a,b,d){return c._finishFetch(c.parse(a,b,d),!0),c})._thenRunCallbacks(a,this)},save:function(a,d,e){var f,g,h;if(c.isObject(a)||b._isNullOrUndefined(a)?(f=a,h=d):(f={},f[a]=d,h=e),!h&&f){var i=c.reject(f,function(a,b){return c.include(["success","error","wait"],b)});if(0===i.length){var j=!0;if(c.has(f,"success")&&!c.isFunction(f.success)&&(j=!1),c.has(f,"error")&&!c.isFunction(f.error)&&(j=!1),j)return this.save(null,f)}}h=c.clone(h)||{},h.wait&&(g=c.clone(this.attributes));var k=c.clone(h)||{};k.wait&&(k.silent=!0);var l;if(k.error=function(a,b){l=b},f&&!this.set(f,k))return b.Promise.error(l)._thenRunCallbacks(h,this);var m=this;m._refreshCache();var n=[],o=[];return b.Object._findUnsavedChildren(m.attributes,n,o),n.length+o.length>0?b.Object._deepSaveAsync(this.attributes,{useMasterKey:h.useMasterKey}).then(function(){return m.save(null,h)},function(a){return b.Promise.error(a)._thenRunCallbacks(h,m)}):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||b.Promise.as(),this._allPreviousSaves=this._allPreviousSaves._continueWith(function(){var a=m.id?"PUT":"POST",d=m._getSaveJSON(),e="classes",i=m.className;"_User"!==m.className||m.id||(e="users",i=null);var j=b._request({route:e,className:i,objectId:m.id,method:a,useMasterKey:h.useMasterKey,data:d});return j=j.then(function(a,b,d){var e=m.parse(a,b,d);return h.wait&&(e=c.extend(f||{},e)),m._finishSave(e),h.wait&&m.set(g,k),m},function(a){return m._cancelSave(),b.Promise.error(a)})._thenRunCallbacks(h,m)}),this._allPreviousSaves)},destroy:function(a){a=a||{};var c=this,d=function(){c.trigger("destroy",c,c.collection,a)};if(!this.id)return d();a.wait||d();var e=b._request({route:"classes",className:this.className,objectId:this.id,method:"DELETE",useMasterKey:a.useMasterKey});return e.then(function(){return a.wait&&d(),c})._thenRunCallbacks(a,this)},parse:function(a,d){var e=c.clone(a);return c(["createdAt","updatedAt"]).each(function(a){e[a]&&(e[a]=b._parseDate(e[a]))}),e.updatedAt||(e.updatedAt=e.createdAt),d&&(this._existed=201!==d),e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(a){a=a||{};var d=this._changing;this._changing=!0;var e=this;b._objectEach(this._silent,function(a){e._pending[a]=!0});var f=c.extend({},a.changes,this._silent);if(this._silent={},b._objectEach(f,function(b,c){e.trigger("change:"+c,e,e.get(c),a)}),d)return this;for(var g=function(a,b){e._pending[b]||e._silent[b]||delete e.changed[b]};!c.isEmpty(this._pending);)this._pending={},this.trigger("change",this,a),b._objectEach(this.changed,g),e._previousAttributes=c.clone(this.attributes);return this._changing=!1,this},existed:function(){return this._existed},hasChanged:function(a){return arguments.length?this.changed&&c.has(this.changed,a):!c.isEmpty(this.changed)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var d={},e=this._previousAttributes;return b._objectEach(a,function(a,b){c.isEqual(e[b],a)||(d[b]=a)}),d},previous:function(a){return arguments.length&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(a){return!c.has(a,"ACL")||a.ACL instanceof b.ACL?!1:new b.Error(b.Error.OTHER_CAUSE,"ACL must be a Parse.ACL.")},_validate:function(a,b){if(b.silent||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validate(a,b);return d?(b&&b.error?b.error(this,d,b):this.trigger("error",this,d,b),!1):!0},getACL:function(){return this.get("ACL")},setACL:function(a,b){return this.set("ACL",a,b)}}),b.Object._getSubclass=function(a){if(!c.isString(a))throw"Parse.Object._getSubclass requires a string argument.";var d=b.Object._classMap[a];return d||(d=b.Object.extend(a),b.Object._classMap[a]=d),d},b.Object._create=function(a,c,d){var e=b.Object._getSubclass(a);return new e(c,d)},b.Object._classMap={},b.Object._extend=b._extend,b.Object.extend=function(a,d,e){if(!c.isString(a)){if(a&&c.has(a,"className"))return b.Object.extend(a.className,a,d);throw new Error("Parse.Object.extend's first argument should be the className.")}"User"===a&&(a="_User");var f=null;if(c.has(b.Object._classMap,a)){var g=b.Object._classMap[a];f=g._extend(d,e)}else d=d||{},d.className=a,f=this._extend(d,e);return f.extend=function(d){if(c.isString(d)||d&&c.has(d,"className"))return b.Object.extend.apply(f,arguments);var e=[a].concat(b._.toArray(arguments));return b.Object.extend.apply(f,e)},b.Object._classMap[a]=f,f},b.Object._findUnsavedChildren=function(a,c,d){b._traverse(a,function(a){return a instanceof b.Object?(a._refreshCache(),a.dirty()&&c.push(a),void 0):a instanceof b.File?(a.url()||d.push(a),void 0):void 0})},b.Object._canBeSerializedAsValue=function(a){if(a instanceof b.Object)return!!a.id;if(a instanceof b.File)return!0;var d=!0;return c.isArray(a)?b._arrayEach(a,function(a){b.Object._canBeSerializedAsValue(a)||(d=!1)}):c.isObject(a)&&b._objectEach(a,function(a){b.Object._canBeSerializedAsValue(a)||(d=!1)}),d},b.Object._deepSaveAsync=function(a,d){var e=[],f=[];b.Object._findUnsavedChildren(a,e,f);var g=b.Promise.as();c.each(f,function(a){g=g.then(function(){return a.save(d)})});var h=c.uniq(e),i=c.uniq(h);return g.then(function(){return b.Promise._continueWhile(function(){return i.length>0},function(){var a=[],e=[];if(b._arrayEach(i,function(b){return a.length>20?(e.push(b),void 0):(b._canBeSerialized()?a.push(b):e.push(b),void 0)}),i=e,0===a.length)return b.Promise.error(new b.Error(b.Error.OTHER_CAUSE,"Tried to save a batch with a cycle."));var f=b.Promise.when(c.map(a,function(a){return a._allPreviousSaves||b.Promise.as()})),g=new b.Promise;return b._arrayEach(a,function(a){a._allPreviousSaves=g}),f._continueWith(function(){return b._request({route:"batch",method:"POST",useMasterKey:d.useMasterKey,data:{requests:c.map(a,function(a){var b=a._getSaveJSON(),c="POST",d="/1/classes/"+a.className;return a.id&&(d=d+"/"+a.id,c="PUT"),a._startSave(),{method:c,path:d,body:b}})}}).then(function(c,d,e){var f;return b._arrayEach(a,function(a,b){c[b].success?a._finishSave(a.parse(c[b].success,d,e)):(f=f||c[b].error,a._cancelSave())}),f?b.Promise.error(new b.Error(f.code,f.error)):void 0}).then(function(a){return g.resolve(a),a},function(a){return g.reject(a),b.Promise.error(a)})})})}).then(function(){return a})}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Role=b.Object.extend("_Role",{constructor:function(a,d){c.isString(a)&&d instanceof b.ACL?(b.Object.prototype.constructor.call(this,null,null),this.setName(a),this.setACL(d)):b.Object.prototype.constructor.call(this,a,d)},getName:function(){return this.get("name")},setName:function(a,b){return this.set("name",a,b)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(a,d){if("name"in a&&a.name!==this.getName()){var e=a.name;if(this.id&&this.id!==a.objectId)return new b.Error(b.Error.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!c.isString(e))return new b.Error(b.Error.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(e))return new b.Error(b.Error.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return b.Object.prototype.validate?b.Object.prototype.validate.call(this,a,d):!1}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Collection=function(a,b){b=b||{},b.comparator&&(this.comparator=b.comparator),b.model&&(this.model=b.model),b.query&&(this.query=b.query),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,{silent:!0,parse:b.parse})},c.extend(b.Collection.prototype,b.Events,{model:b.Object,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,d){var e,f,g,h,i,j,k={},l={};for(d=d||{},a=c.isArray(a)?a.slice():[a],e=0,g=a.length;g>e;e++){if(a[e]=this._prepareModel(a[e],d),h=a[e],!h)throw new Error("Can't add an invalid model to a collection");if(i=h.cid,k[i]||this._byCid[i])throw new Error("Duplicate cid: can't add the same model to a collection twice");if(j=h.id,!b._isNullOrUndefined(j)&&(l[j]||this._byId[j]))throw new Error("Duplicate id: can't add the same model to a collection twice");l[j]=h,k[i]=h}for(e=0;g>e;e++)(h=a[e]).on("all",this._onModelEvent,this),this._byCid[h.cid]=h,h.id&&(this._byId[h.id]=h);if(this.length+=g,f=b._isNullOrUndefined(d.at)?this.models.length:d.at,this.models.splice.apply(this.models,[f,0].concat(a)),this.comparator&&this.sort({silent:!0}),d.silent)return this;for(e=0,g=this.models.length;g>e;e++)h=this.models[e],k[h.cid]&&(d.index=e,h.trigger("add",h,this,d));return this},remove:function(a,b){var d,e,f,g;for(b=b||{},a=c.isArray(a)?a.slice():[a],d=0,e=a.length;e>d;d++)g=this.getByCid(a[d])||this.get(a[d]),g&&(delete this._byId[g.id],delete this._byCid[g.cid],f=this.indexOf(g),this.models.splice(f,1),this.length--,b.silent||(b.index=f,g.trigger("remove",g,this,b)),this._removeReference(g));return this},get:function(a){return a&&this._byId[a.id||a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){if(a=a||{},!this.comparator)throw new Error("Cannot sort a set without a comparator");var b=c.bind(this.comparator,this);return 1===this.comparator.length?this.models=this.sortBy(b):this.models.sort(b),a.silent||this.trigger("reset",this,a),this},pluck:function(a){return c.map(this.models,function(b){return b.get(a)})},reset:function(a,c){var d=this;return a=a||[],c=c||{},b._arrayEach(this.models,function(a){d._removeReference(a)}),this._reset(),this.add(a,{silent:!0,parse:c.parse}),c.silent||this.trigger("reset",this,c),this},fetch:function(a){a=c.clone(a)||{},void 0===a.parse&&(a.parse=!0);var d=this,e=this.query||new b.Query(this.model);return e.find({useMasterKey:a.useMasterKey}).then(function(b){return a.add?d.add(b,a):d.reset(b,a),d})._thenRunCallbacks(a,this)},create:function(a,b){var d=this;if(b=b?c.clone(b):{},a=this._prepareModel(a,b),!a)return!1;b.wait||d.add(a,b);var e=b.success;return b.success=function(c,f){b.wait&&d.add(c,b),e?e(c,f):c.trigger("sync",a,f,b)},a.save(null,b),a},parse:function(a){return a},chain:function(){return c(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(a,c){if(a instanceof b.Object)a.collection||(a.collection=this);else{var d=a;c.collection=this,a=new this.model(d,c),a._validate(a.attributes,c)||(a=!1)}return a},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&"change:objectId"===a&&(delete this._byId[b.previous("objectId")],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});var d=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];b._arrayEach(d,function(a){b.Collection.prototype[a]=function(){return c[a].apply(c,[this.models].concat(c.toArray(arguments)))}}),b.Collection.extend=b._extend}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.View=function(a){this.cid=c.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var d=/^(\S+)\s*(.*)$/,e=["model","collection","el","id","attributes","className","tagName"];c.extend(b.View.prototype,b.Events,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(a,c,d){var e=document.createElement(a);return c&&b.$(e).attr(c),d&&b.$(e).html(d),e},setElement:function(a,c){return this.$el=b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(a=a||b._getValue(this,"events")){this.undelegateEvents();var e=this;b._objectEach(a,function(b,f){if(c.isFunction(b)||(b=e[a[f]]),!b)throw new Error('Event "'+a[f]+'" does not exist');var g=f.match(d),h=g[1],i=g[2];b=c.bind(b,e),h+=".delegateEvents"+e.cid,""===i?e.$el.bind(h,b):e.$el.delegate(i,h,b)})}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=c.extend({},this.options,a));var b=this;c.each(e,function(c){a[c]&&(b[c]=a[c])}),this.options=a},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var a=b._getValue(this,"attributes")||{};this.id&&(a.id=this.id),this.className&&(a["class"]=this.className),this.setElement(this.make(this.tagName,a),!1)}}}),b.View.extend=b._extend}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.User=b.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(a){a.sessionToken&&(this._sessionToken=a.sessionToken,delete a.sessionToken),b.User.__super__._mergeMagicFields.call(this,a)},_cleanupAuthData:function(){if(this.isCurrent()){var a=this.get("authData");a&&b._objectEach(this.get("authData"),function(b,c){a[c]||delete a[c]})}},_synchronizeAllAuthData:function(){var a=this.get("authData");if(a){var c=this;b._objectEach(this.get("authData"),function(a,b){c._synchronizeAuthData(b)})}},_synchronizeAuthData:function(a){if(this.isCurrent()){var d;c.isString(a)?(d=a,a=b.User._authProviders[d]):d=a.getAuthType();var e=this.get("authData");if(e&&a){var f=a.restoreAuthentication(e[d]);f||this._unlinkFrom(a)}}},_handleSaveResult:function(a){a&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),(a||this.isCurrent())&&b.User._saveCurrentUser(this)},_linkWith:function(a,d){var e;if(c.isString(a)?(e=a,a=b.User._authProviders[a]):e=a.getAuthType(),c.has(d,"authData")){var f=this.get("authData")||{};f[e]=d.authData,this.set("authData",f);var g=c.clone(d)||{};return g.success=function(a){a._handleSaveResult(!0),d.success&&d.success.apply(this,arguments)},this.save({authData:f},g)}var h=this,i=new b.Promise;return a.authenticate({success:function(a,b){h._linkWith(a,{authData:b,success:d.success,error:d.error}).then(function(){i.resolve(h)})},error:function(a,b){d.error&&d.error(h,b),i.reject(b)}}),i},_unlinkFrom:function(a,d){var e;c.isString(a)?(e=a,a=b.User._authProviders[a]):e=a.getAuthType();var f=c.clone(d),g=this;return f.authData=null,f.success=function(){g._synchronizeAuthData(a),d.success&&d.success.apply(this,arguments)},this._linkWith(a,f)},_isLinked:function(a){var b;b=c.isString(a)?a:a.getAuthType();var d=this.get("authData")||{};return!!d[b]},_logOutWithAll:function(){var a=this.get("authData");if(a){var c=this;b._objectEach(this.get("authData"),function(a,b){c._logOutWith(b)})}},_logOutWith:function(a){this.isCurrent()&&(c.isString(a)&&(a=b.User._authProviders[a]),a&&a.deauthenticate&&a.deauthenticate())},signUp:function(a,d){var e;d=d||{};var f=a&&a.username||this.get("username");if(!f||""===f)return e=new b.Error(b.Error.OTHER_CAUSE,"Cannot sign up user with an empty name."),d&&d.error&&d.error(this,e),b.Promise.error(e);var g=a&&a.password||this.get("password");if(!g||""===g)return e=new b.Error(b.Error.OTHER_CAUSE,"Cannot sign up user with an empty password."),d&&d.error&&d.error(this,e),b.Promise.error(e);var h=c.clone(d);return h.success=function(a){a._handleSaveResult(!0),d.success&&d.success.apply(this,arguments)},this.save(a,h)},logIn:function(a){var c=this;a=a||{};var d=b._request({route:"login",method:"GET",useMasterKey:a.useMasterKey,data:this.toJSON()});return d.then(function(a,b,d){var e=c.parse(a,b,d);return c._finishFetch(e),c._handleSaveResult(!0),c})._thenRunCallbacks(a,this)},save:function(a,d,e){var f,g;c.isObject(a)||c.isNull(a)||c.isUndefined(a)?(f=a,g=d):(f={},f[a]=d,g=e),g=g||{};var h=c.clone(g);return h.success=function(a){a._handleSaveResult(!1),g.success&&g.success.apply(this,arguments)},b.Object.prototype.save.call(this,f,h)},fetch:function(a){var d=a?c.clone(a):{};return d.success=function(b){b._handleSaveResult(!1),a&&a.success&&a.success.apply(this,arguments)},b.Object.prototype.fetch.call(this,d)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},setUsername:function(a,b){return this.set("username",a,b)},setPassword:function(a,b){return this.set("password",a,b)},getEmail:function(){return this.get("email")},setEmail:function(a,b){return this.set("email",a,b)},authenticated:function(){return!!this._sessionToken&&b.User.current()&&b.User.current().id===this.id}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(a,c,d,e){d=d||{},d.username=a,d.password=c;var f=b.Object._create("_User");return f.signUp(d,e)},logIn:function(a,c,d){var e=b.Object._create("_User");return e._finishFetch({username:a,password:c}),e.logIn(d)},logOut:function(){null!==b.User._currentUser&&(b.User._currentUser._logOutWithAll(),b.User._currentUser._isCurrentUser=!1),b.User._currentUserMatchesDisk=!0,b.User._currentUser=null,b.localStorage.removeItem(b._getParsePath(b.User._CURRENT_USER_KEY))},requestPasswordReset:function(a,c){c=c||{};var d=b._request({route:"requestPasswordReset",method:"POST",useMasterKey:c.useMasterKey,data:{email:a}});return d._thenRunCallbacks(c)},current:function(){if(b.User._currentUser)return b.User._currentUser;if(b.User._currentUserMatchesDisk)return b.User._currentUser;b.User._currentUserMatchesDisk=!0;var a=b.localStorage.getItem(b._getParsePath(b.User._CURRENT_USER_KEY));if(!a)return null;b.User._currentUser=b.Object._create("_User"),b.User._currentUser._isCurrentUser=!0;var c=JSON.parse(a);return b.User._currentUser.id=c._id,delete c._id,b.User._currentUser._sessionToken=c._sessionToken,delete c._sessionToken,b.User._currentUser.set(c),b.User._currentUser._synchronizeAllAuthData(),b.User._currentUser._refreshCache(),b.User._currentUser._opSetQueue=[{}],b.User._currentUser},_saveCurrentUser:function(a){b.User._currentUser!==a&&b.User.logOut(),a._isCurrentUser=!0,b.User._currentUser=a,b.User._currentUserMatchesDisk=!0;var c=a.toJSON();c._id=a.id,c._sessionToken=a._sessionToken,b.localStorage.setItem(b._getParsePath(b.User._CURRENT_USER_KEY),JSON.stringify(c))},_registerAuthenticationProvider:function(a){b.User._authProviders[a.getAuthType()]=a,b.User.current()&&b.User.current()._synchronizeAuthData(a.getAuthType())},_logInWith:function(a,c){var d=b.Object._create("_User");return d._linkWith(a,c)}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Query=function(a){c.isString(a)&&(a=b.Object._getSubclass(a)),this.objectClass=a,this.className=a.prototype.className,this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}},b.Query.or=function(){var a=c.toArray(arguments),d=null;b._arrayEach(a,function(a){if(c.isNull(d)&&(d=a.className),d!==a.className)throw"All queries must be for the same class"});var e=new b.Query(d);return e._orQuery(a),e},b.Query.prototype={get:function(a,c){var d=this;return d.equalTo("objectId",a),d.first().then(function(a){if(a)return a;var c=new b.Error(b.Error.OBJECT_NOT_FOUND,"Object not found.");return b.Promise.error(c)})._thenRunCallbacks(c,null)},toJSON:function(){var a={where:this._where};return this._include.length>0&&(a.include=this._include.join(",")),this._select&&(a.keys=this._select.join(",")),this._limit>=0&&(a.limit=this._limit),this._skip>0&&(a.skip=this._skip),void 0!==this._order&&(a.order=this._order),b._objectEach(this._extraOptions,function(b,c){a[c]=b}),a},find:function(a){var d=this;a=a||{};var e=b._request({route:"classes",className:this.className,method:"GET",useMasterKey:a.useMasterKey,data:this.toJSON()});return e.then(function(a){return c.map(a.results,function(c){var e;return e=a.className?new b.Object(a.className):new d.objectClass,e._finishFetch(c,!0),e})})._thenRunCallbacks(a)},count:function(a){var c=this;a=a||{};var d=this.toJSON();d.limit=0,d.count=1;var e=b._request({route:"classes",className:c.className,method:"GET",useMasterKey:a.useMasterKey,data:d});return e.then(function(a){return a.count})._thenRunCallbacks(a)},first:function(a){var d=this;a=a||{};var e=this.toJSON();e.limit=1;var f=b._request({route:"classes",className:this.className,method:"GET",useMasterKey:a.useMasterKey,data:e});return f.then(function(a){return c.map(a.results,function(a){var b=new d.objectClass;return b._finishFetch(a,!0),b})[0]})._thenRunCallbacks(a)},collection:function(a,d){return d=d||{},new b.Collection(a,c.extend(d,{model:this.objectClass,query:this}))},skip:function(a){return this._skip=a,this},limit:function(a){return this._limit=a,this},equalTo:function(a,d){return c.isUndefined(d)?this.doesNotExist(a):(this._where[a]=b._encode(d),this)},_addCondition:function(a,c,d){return this._where[a]||(this._where[a]={}),this._where[a][c]=b._encode(d),this},notEqualTo:function(a,b){return this._addCondition(a,"$ne",b),this},lessThan:function(a,b){return this._addCondition(a,"$lt",b),this},greaterThan:function(a,b){return this._addCondition(a,"$gt",b),this},lessThanOrEqualTo:function(a,b){return this._addCondition(a,"$lte",b),this},greaterThanOrEqualTo:function(a,b){return this._addCondition(a,"$gte",b),this},containedIn:function(a,b){return this._addCondition(a,"$in",b),this},notContainedIn:function(a,b){return this._addCondition(a,"$nin",b),this},containsAll:function(a,b){return this._addCondition(a,"$all",b),this},exists:function(a){return this._addCondition(a,"$exists",!0),this},doesNotExist:function(a){return this._addCondition(a,"$exists",!1),this},matches:function(a,b,c){return this._addCondition(a,"$regex",b),c||(c=""),b.ignoreCase&&(c+="i"),b.multiline&&(c+="m"),c&&c.length&&this._addCondition(a,"$options",c),this},matchesQuery:function(a,b){var c=b.toJSON();return c.className=b.className,this._addCondition(a,"$inQuery",c),this},doesNotMatchQuery:function(a,b){var c=b.toJSON();return c.className=b.className,this._addCondition(a,"$notInQuery",c),this},matchesKeyInQuery:function(a,b,c){var d=c.toJSON();return d.className=c.className,this._addCondition(a,"$select",{key:b,query:d}),this},doesNotMatchKeyInQuery:function(a,b,c){var d=c.toJSON();return d.className=c.className,this._addCondition(a,"$dontSelect",{key:b,query:d}),this},_orQuery:function(a){var b=c.map(a,function(a){return a.toJSON().where});return this._where.$or=b,this},_quote:function(a){return"\\Q"+a.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(a,b){return this._addCondition(a,"$regex",this._quote(b)),this},startsWith:function(a,b){return this._addCondition(a,"$regex","^"+this._quote(b)),this},endsWith:function(a,b){return this._addCondition(a,"$regex",this._quote(b)+"$"),this},ascending:function(a){return this._order=a,this},descending:function(a){return this._order="-"+a,this},near:function(a,c){return c instanceof b.GeoPoint||(c=new b.GeoPoint(c)),this._addCondition(a,"$nearSphere",c),this},withinRadians:function(a,b,c){return this.near(a,b),this._addCondition(a,"$maxDistance",c),this},withinMiles:function(a,b,c){return this.withinRadians(a,b,c/3958.8)},withinKilometers:function(a,b,c){return this.withinRadians(a,b,c/6371)},withinGeoBox:function(a,c,d){return c instanceof b.GeoPoint||(c=new b.GeoPoint(c)),d instanceof b.GeoPoint||(d=new b.GeoPoint(d)),this._addCondition(a,"$within",{$box:[c,d]}),this},include:function(){var a=this;return b._arrayEach(arguments,function(b){c.isArray(b)?a._include=a._include.concat(b):a._include.push(b)}),this},select:function(){var a=this;return this._select=this._select||[],b._arrayEach(arguments,function(b){c.isArray(b)?a._select=a._select.concat(b):a._select.push(b)}),this},each:function(a,d){if(d=d||{},this._order||this._skip||this._limit>=0){var e="Cannot iterate on a query with sort, skip, or limit.";return b.Promise.error(e)._thenRunCallbacks(d)}var f=(new b.Promise,new b.Query(this.objectClass));f._limit=d.batchSize||100,f._where=c.clone(this._where),f._include=c.clone(this._include),f.ascending("objectId");var g=!1;return b.Promise._continueWhile(function(){return!g},function(){return f.find().then(function(c){var d=b.Promise.as();return b._.each(c,function(b){d=d.then(function(){return a(b)})}),d.then(function(){c.length>=f._limit?f.greaterThan("objectId",c[c.length-1].id):g=!0})})})._thenRunCallbacks(d)}}}(this),function(a){a.Parse=a.Parse||{};var b,c,d=a.Parse,e=d._,f=!1,g={authenticate:function(a){var c=this;FB.login(function(b){b.authResponse?a.success&&a.success(c,{id:b.authResponse.userID,access_token:b.authResponse.accessToken,expiration_date:new Date(1e3*b.authResponse.expiresIn+(new Date).getTime()).toJSON()}):a.error&&a.error(c,b)},{scope:b})},restoreAuthentication:function(a){if(a){var b={userID:a.id,accessToken:a.access_token,expiresIn:(d._parseDate(a.expiration_date).getTime()-(new Date).getTime())/1e3},f=e.clone(c);f.authResponse=b,f.status=!1;var g=FB.getAuthResponse();g&&g.userID!==b.userID&&FB.logout(),FB.init(f)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}};d.FacebookUtils={init:function(a){if("undefined"==typeof FB)throw"The Facebook JavaScript SDK must be loaded before calling init.";
if(c=e.clone(a)||{},c.status&&"undefined"!=typeof console){var b=console.warn||console.log||function(){};b.call(console,"The 'status' flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.")}c.status=!1,FB.init(c),d.User._registerAuthenticationProvider(g),f=!0},isLinked:function(a){return a._isLinked("facebook")},logIn:function(a,c){if(!a||e.isString(a)){if(!f)throw"You must initialize FacebookUtils before calling logIn.";return b=a,d.User._logInWith("facebook",c)}var g=e.clone(c)||{};return g.authData=a,d.User._logInWith("facebook",g)},link:function(a,c,d){if(!c||e.isString(c)){if(!f)throw"You must initialize FacebookUtils before calling link.";return b=c,a._linkWith("facebook",d)}var g=e.clone(d)||{};return g.authData=c,a._linkWith("facebook",g)},unlink:function(a,b){if(!f)throw"You must initialize FacebookUtils before calling unlink.";return a._unlinkFrom("facebook",b)}}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl")};var d=/^[#\/]/,e=/msie [\w.]+/;b.History.started=!1,c.extend(b.History.prototype,b.Events,{interval:50,getHash:function(a){var b=a?a.location:window.location,c=b.href.match(/#(.*)$/);return c?c[1]:""},getFragment:function(a,c){if(b._isNullOrUndefined(a))if(this._hasPushState||c){a=window.location.pathname;var e=window.location.search;e&&(a+=e)}else a=this.getHash();return a.indexOf(this.options.root)||(a=a.substr(this.options.root.length)),a.replace(d,"")},start:function(a){if(b.History.started)throw new Error("Parse.history has already been started");b.History.started=!0,this.options=c.extend({},{root:"/"},this.options,a),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var f=this.getFragment(),g=document.documentMode,h=e.exec(navigator.userAgent.toLowerCase())&&(!g||7>=g);h&&(this.iframe=b.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(f)),this._hasPushState?b.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!h?b.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=window.setInterval(this.checkUrl,this.interval)),this.fragment=f;var i=window.location,j=i.pathname===this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!j?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&j&&i.hash&&(this.fragment=this.getHash().replace(d,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){b.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),window.clearInterval(this._checkUrlInterval),b.History.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(a){var b=this.fragment=this.getFragment(a),d=c.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0});return d},navigate:function(a,c){if(!b.History.started)return!1;c&&c!==!0||(c={trigger:c});var e=(a||"").replace(d,"");if(this.fragment!==e){if(this._hasPushState){0!==e.indexOf(this.options.root)&&(e=this.options.root+e),this.fragment=e;var f=c.replace?"replaceState":"pushState";window.history[f]({},document.title,e)}else this._wantsHashChange?(this.fragment=e,this._updateHash(window.location,e,c.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(c.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,c.replace))):window.location.assign(this.options.root+a);c.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.toString().replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash=b}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Router=function(a){a=a||{},a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var d=/:\w+/g,e=/\*\w+/g,f=/[\-\[\]{}()+?.,\\\^\$\|#\s]/g;c.extend(b.Router.prototype,b.Events,{initialize:function(){},route:function(a,d,e){return b.history=b.history||new b.History,c.isRegExp(a)||(a=this._routeToRegExp(a)),e||(e=this[d]),b.history.route(a,c.bind(function(c){var f=this._extractParameters(a,c);e&&e.apply(this,f),this.trigger.apply(this,["route:"+d].concat(f)),b.history.trigger("route",this,d,f)},this)),this},navigate:function(a,c){b.history.navigate(a,c)},_bindRoutes:function(){if(this.routes){var a=[];for(var b in this.routes)this.routes.hasOwnProperty(b)&&a.unshift([b,this.routes[b]]);for(var c=0,d=a.length;d>c;c++)this.route(a[c][0],a[c][1],this[a[c][1]])}},_routeToRegExp:function(a){return a=a.replace(f,"\\$&").replace(d,"([^/]+)").replace(e,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}}),b.Router.extend=b._extend}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Cloud=b.Cloud||{},c.extend(b.Cloud,{run:function(a,c,d){d=d||{};var e=b._request({route:"functions",className:a,method:"POST",useMasterKey:d.useMasterKey,data:b._encode(c,null,!0)});return e.then(function(a){return b._decode(null,a).result})._thenRunCallbacks(d)}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse;b.Installation=b.Object.extend("_Installation"),b.Push=b.Push||{},b.Push.send=function(a,c){if(c=c||{},a.where&&(a.where=a.where.toJSON().where),a.push_time&&(a.push_time=a.push_time.toJSON()),a.expiration_time&&(a.expiration_time=a.expiration_time.toJSON()),a.expiration_time&&a.expiration_time_interval)throw"Both expiration_time and expiration_time_interval can't be set";var d=b._request({route:"push",method:"POST",data:a,useMasterKey:c.useMasterKey});return d._thenRunCallbacks(c)}}(this),function(a){a.Parse=a.Parse||{},a.Parse.VERSION="js1.2.8"}(this),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?(this._wrapped=a,void 0):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.4";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?null:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;d.computed>g&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;e>c.call(d,a[h])?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);d>e;)f[e++]=a,a+=c;return f},x.bind=function(a,b){if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==b+"";case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),x.isFunction=function(a){return"function"==typeof a},x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=++H+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(a){a.Parse=a.Parse||{};var b=a.Parse;"undefined"!=typeof exports&&exports._?(b._=exports._.noConflict(),b.localStorage=require("localStorage"),b.XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest,exports.Parse=b):(b._=_.noConflict(),"undefined"!=typeof localStorage&&(b.localStorage=localStorage),"undefined"!=typeof XMLHttpRequest&&(b.XMLHttpRequest=XMLHttpRequest)),"undefined"!=typeof $&&(b.$=$);var c=function(){},d=function(a,d,e){var f;return f=d&&d.hasOwnProperty("constructor")?d.constructor:function(){a.apply(this,arguments)},b._.extend(f,a),c.prototype=a.prototype,f.prototype=new c,d&&b._.extend(f.prototype,d),e&&b._.extend(f,e),f.prototype.constructor=f,f.__super__=a.prototype,f};b.serverURL="https://api.parse.com","undefined"!=typeof process&&process.versions&&process.versions.node&&(b._isNode=!0),b.initialize=function(a,c,d){if(d)throw"Parse.initialize() was passed a Master Key, which is only allowed from within Node.js.";b._initialize(a,c)},b._initialize=function(a,c,d){b.applicationId=a,b.javaScriptKey=c,b.masterKey=d,b._useMasterKey=!1},b._isNode&&(b.initialize=b._initialize,b.Cloud=b.Cloud||{},b.Cloud.useMasterKey=function(){b._useMasterKey=!0}),b._getParsePath=function(a){if(!b.applicationId)throw"You need to call Parse.initialize before using Parse.";if(a||(a=""),!b._.isString(a))throw"Tried to get a localStorage path that wasn't a String.";return"/"===a[0]&&(a=a.substring(1)),"Parse/"+b.applicationId+"/"+a},b._installationId=null,b._getInstallationId=function(){if(b._installationId)return b._installationId;var a=b._getParsePath("installationId");if(b._installationId=b.localStorage.getItem(a),!b._installationId||""===b._installationId){var c=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};b._installationId=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c(),b.localStorage.setItem(a,b._installationId)}return b._installationId},b._parseDate=function(a){var b=RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),c=b.exec(a);if(!c)return null;var d=c[1]||0,e=(c[2]||1)-1,f=c[3]||0,g=c[4]||0,h=c[5]||0,i=c[6]||0,j=c[8]||0;return new Date(Date.UTC(d,e,f,g,h,i,j))},b._ajaxIE8=function(a,c,d){var e=new b.Promise,f=new XDomainRequest;return f.onload=function(){var a;try{a=JSON.parse(f.responseText)}catch(b){e.reject(b)}a&&e.resolve(a)},f.onerror=f.ontimeout=function(){e.reject(f)},f.onprogress=function(){},f.open(a,c),f.send(d),e},b._ajax=function(a,c,d,e,f){var g={success:e,error:f};if("undefined"!=typeof XDomainRequest)return b._ajaxIE8(a,c,d)._thenRunCallbacks(g);var h=new b.Promise,i=!1,j=new b.XMLHttpRequest;return j.onreadystatechange=function(){if(4===j.readyState){if(i)return;if(i=!0,j.status>=200&&300>j.status){var a;try{a=JSON.parse(j.responseText)}catch(b){h.reject(b)}a&&h.resolve(a,j.status,j)}else h.reject(j)}},j.open(a,c,!0),j.setRequestHeader("Content-Type","text/plain"),b._isNode&&j.setRequestHeader("User-Agent","Parse/"+b.VERSION+" (NodeJS "+process.versions.node+")"),j.send(d),h._thenRunCallbacks(g)},b._extend=function(a,b){var c=d(this,a,b);return c.extend=this.extend,c},b._request=function(a,c,d,e,f){if(!b.applicationId)throw"You must specify your applicationId using Parse.initialize";if(!b.javaScriptKey&&!b.masterKey)throw"You must specify a key using Parse.initialize";if("batch"!==a&&"classes"!==a&&"files"!==a&&"functions"!==a&&"login"!==a&&"push"!==a&&"requestPasswordReset"!==a&&"users"!==a)throw"Bad route: '"+a+"'.";var g=b.serverURL;"/"!==g.charAt(g.length-1)&&(g+="/"),g+="1/"+a,c&&(g+="/"+c),d&&(g+="/"+d),f=b._.clone(f||{}),"POST"!==e&&(f._method=e,e="POST"),f._ApplicationId=b.applicationId,b._useMasterKey?f._MasterKey=b.masterKey:f._JavaScriptKey=b.javaScriptKey,f._ClientVersion=b.VERSION,f._InstallationId=b._getInstallationId();var h=b.User.current();h&&h._sessionToken&&(f._SessionToken=h._sessionToken);var i=JSON.stringify(f);return b._ajax(e,g,i).then(null,function(a){var c;if(a&&a.responseText)try{var d=JSON.parse(a.responseText);d&&(c=new b.Error(d.code,d.error))}catch(e){}return c=c||new b.Error(-1,a.responseText),b.Promise.error(c)})},b._getValue=function(a,c){return a&&a[c]?b._.isFunction(a[c])?a[c]():a[c]:null},b._encode=function(a,c,d){var e=b._;if(a instanceof b.Object){if(d)throw"Parse.Objects not allowed here";if(!c||e.include(c,a)||!a._hasData)return a._toPointer();if(!a.dirty())return c=c.concat(a),b._encode(a._toFullJSON(c),c,d);throw"Tried to save an object with a pointer to a new, unsaved object."}if(a instanceof b.ACL)return a.toJSON();if(e.isDate(a))return{__type:"Date",iso:a.toJSON()};if(a instanceof b.GeoPoint)return a.toJSON();if(e.isArray(a))return e.map(a,function(a){return b._encode(a,c,d)});if(e.isRegExp(a))return a.source;if(a instanceof b.Relation)return a.toJSON();if(a instanceof b.Op)return a.toJSON();if(a instanceof b.File){if(!a.url())throw"Tried to save an object containing an unsaved file.";return{__type:"File",name:a.name(),url:a.url()}}if(e.isObject(a)){var f={};return b._objectEach(a,function(a,e){f[e]=b._encode(a,c,d)}),f}return a},b._decode=function(a,c){var d=b._;if(!d.isObject(c))return c;if(d.isArray(c))return b._arrayEach(c,function(a,d){c[d]=b._decode(d,a)}),c;if(c instanceof b.Object)return c;if(c instanceof b.File)return c;if(c instanceof b.Op)return c;if(c.__op)return b.Op._decode(c);if("Pointer"===c.__type){var e=b.Object._create(c.className);return e._finishFetch({objectId:c.objectId},!1),e}if("Object"===c.__type){var f=c.className;delete c.__type,delete c.className;var g=b.Object._create(f);return g._finishFetch(c,!0),g}if("Date"===c.__type)return b._parseDate(c.iso);if("GeoPoint"===c.__type)return new b.GeoPoint({latitude:c.latitude,longitude:c.longitude});if("ACL"===a)return c instanceof b.ACL?c:new b.ACL(c);if("Relation"===c.__type){var h=new b.Relation(null,a);return h.targetClassName=c.className,h}if("File"===c.__type){var i=new b.File(c.name);return i._url=c.url,i}return b._objectEach(c,function(a,d){c[d]=b._decode(d,a)}),c},b._arrayEach=b._.each,b._traverse=function(a,c,d){if(a instanceof b.Object){if(d=d||[],b._.indexOf(d,a)>=0)return;return d.push(a),b._traverse(a.attributes,c,d),c(a)}return a instanceof b.Relation||a instanceof b.File?c(a):b._.isArray(a)?(b._.each(a,function(e,f){var g=b._traverse(e,c,d);g&&(a[f]=g)}),c(a)):b._.isObject(a)?(b._each(a,function(e,f){var g=b._traverse(e,c,d);g&&(a[f]=g)}),c(a)):c(a)},b._objectEach=b._each=function(a,c){var d=b._;d.isObject(a)?d.each(d.keys(a),function(b){c(a[b],b)}):d.each(a,c)},b._isNullOrUndefined=function(a){return b._.isNull(a)||b._.isUndefined(a)}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Error=function(a,b){this.code=a,this.message=b},c.extend(b.Error,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252})}(this),function(){var a=this,b=a.Parse||(a.Parse={}),c=/\s+/,d=Array.prototype.slice;b.Events={on:function(a,b,d){var e,f,g,h,i;if(!b)return this;for(a=a.split(c),e=this._callbacks||(this._callbacks={}),f=a.shift();f;)i=e[f],g=i?i.tail:{},g.next=h={},g.context=d,g.callback=b,e[f]={tail:h,next:i?i.next:g},f=a.shift();return this},off:function(a,b,d){var e,f,g,h,i,j;if(f=this._callbacks){if(!(a||b||d))return delete this._callbacks,this;for(a=a?a.split(c):_.keys(f),e=a.shift();e;)if(g=f[e],delete f[e],g&&(b||d)){for(h=g.tail,g=g.next;g!==h;)i=g.callback,j=g.context,(b&&i!==b||d&&j!==d)&&this.on(e,i,j),g=g.next;e=a.shift()}return this}},trigger:function(a){var b,e,f,g,h,i,j;if(!(f=this._callbacks))return this;for(i=f.all,a=a.split(c),j=d.call(arguments,1),b=a.shift();b;){if(e=f[b])for(g=e.tail;(e=e.next)!==g;)e.callback.apply(e.context||this,j);if(e=i)for(g=e.tail,h=[b].concat(j);(e=e.next)!==g;)e.callback.apply(e.context||this,h);b=a.shift()}return this}},b.Events.bind=b.Events.on,b.Events.unbind=b.Events.off}.call(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.GeoPoint=function(a,d){c.isArray(a)?(b.GeoPoint._validate(a[0],a[1]),this.latitude=a[0],this.longitude=a[1]):c.isObject(a)?(b.GeoPoint._validate(a.latitude,a.longitude),this.latitude=a.latitude,this.longitude=a.longitude):c.isNumber(a)&&c.isNumber(d)?(b.GeoPoint._validate(a,d),this.latitude=a,this.longitude=d):(this.latitude=0,this.longitude=0);var e=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return e._latitude}),this.__defineGetter__("longitude",function(){return e._longitude}),this.__defineSetter__("latitude",function(a){b.GeoPoint._validate(a,e.longitude),e._latitude=a}),this.__defineSetter__("longitude",function(a){b.GeoPoint._validate(e.latitude,a),e._longitude=a}))},b.GeoPoint._validate=function(a,b){if(-90>a)throw"Parse.GeoPoint latitude "+a+" < -90.0.";if(a>90)throw"Parse.GeoPoint latitude "+a+" > 90.0.";if(-180>b)throw"Parse.GeoPoint longitude "+b+" < -180.0.";if(b>180)throw"Parse.GeoPoint longitude "+b+" > 180.0."},b.GeoPoint.current=function(a){var c=new b.Promise;return navigator.geolocation.getCurrentPosition(function(a){c.resolve(new b.GeoPoint({latitude:a.coords.latitude,longitude:a.coords.longitude}))},function(a){c.reject(a)}),c._thenRunCallbacks(a)},b.GeoPoint.prototype={toJSON:function(){return b.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(a){var b=Math.PI/180,c=this.latitude*b,d=this.longitude*b,e=a.latitude*b,f=a.longitude*b,g=c-e,h=d-f,i=Math.sin(g/2),j=Math.sin(h/2),k=i*i+Math.cos(c)*Math.cos(e)*j*j;return k=Math.min(1,k),2*Math.asin(Math.sqrt(k))},kilometersTo:function(a){return 6371*this.radiansTo(a)},milesTo:function(a){return 3958.8*this.radiansTo(a)}}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._,d="*";b.ACL=function(a){var d=this;if(d.permissionsById={},c.isObject(a))if(a instanceof b.User)d.setReadAccess(a,!0),d.setWriteAccess(a,!0);else{if(c.isFunction(a))throw"Parse.ACL() called with a function.  Did you forget ()?";b._objectEach(a,function(a,e){if(!c.isString(e))throw"Tried to create an ACL with an invalid userId.";d.permissionsById[e]={},b._objectEach(a,function(a,b){if("read"!==b&&"write"!==b)throw"Tried to create an ACL with an invalid permission type.";if(!c.isBoolean(a))throw"Tried to create an ACL with an invalid permission value.";d.permissionsById[e][b]=a})})}},b.ACL.prototype.toJSON=function(){return c.clone(this.permissionsById)},b.ACL.prototype._setAccess=function(a,d,e){if(d instanceof b.User?d=d.id:d instanceof b.Role&&(d="role:"+d.getName()),!c.isString(d))throw"userId must be a string.";if(!c.isBoolean(e))throw"allowed must be either true or false.";var f=this.permissionsById[d];if(!f){if(!e)return;f={},this.permissionsById[d]=f}e?this.permissionsById[d][a]=!0:(delete f[a],c.isEmpty(f)&&delete f[d])},b.ACL.prototype._getAccess=function(a,c){c instanceof b.User?c=c.id:c instanceof b.Role&&(c="role:"+c.getName());var d=this.permissionsById[c];return d?d[a]?!0:!1:!1},b.ACL.prototype.setReadAccess=function(a,b){this._setAccess("read",a,b)},b.ACL.prototype.getReadAccess=function(a){return this._getAccess("read",a)},b.ACL.prototype.setWriteAccess=function(a,b){this._setAccess("write",a,b)},b.ACL.prototype.getWriteAccess=function(a){return this._getAccess("write",a)
},b.ACL.prototype.setPublicReadAccess=function(a){this.setReadAccess(d,a)},b.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(d)},b.ACL.prototype.setPublicWriteAccess=function(a){this.setWriteAccess(d,a)},b.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(d)},b.ACL.prototype.getRoleReadAccess=function(a){if(a instanceof b.Role&&(a=a.getName()),c.isString(a))return this.getReadAccess("role:"+a);throw"role must be a Parse.Role or a String"},b.ACL.prototype.getRoleWriteAccess=function(a){if(a instanceof b.Role&&(a=a.getName()),c.isString(a))return this.getWriteAccess("role:"+a);throw"role must be a Parse.Role or a String"},b.ACL.prototype.setRoleReadAccess=function(a,d){if(a instanceof b.Role&&(a=a.getName()),c.isString(a))return this.setReadAccess("role:"+a,d),void 0;throw"role must be a Parse.Role or a String"},b.ACL.prototype.setRoleWriteAccess=function(a,d){if(a instanceof b.Role&&(a=a.getName()),c.isString(a))return this.setWriteAccess("role:"+a,d),void 0;throw"role must be a Parse.Role or a String"}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Op=function(){this._initialize.apply(this,arguments)},b.Op.prototype={_initialize:function(){}},c.extend(b.Op,{_extend:b._extend,_opDecoderMap:{},_registerDecoder:function(a,c){b.Op._opDecoderMap[a]=c},_decode:function(a){var c=b.Op._opDecoderMap[a.__op];return c?c(a):void 0}}),b.Op._registerDecoder("Batch",function(a){var c=null;return b._arrayEach(a.ops,function(a){a=b.Op._decode(a),c=a._mergeWithPrevious(c)}),c}),b.Op.Set=b.Op._extend({_initialize:function(a){this._value=a},value:function(){return this._value},toJSON:function(){return b._encode(this.value())},_mergeWithPrevious:function(){return this},_estimate:function(){return this.value()}}),b.Op._UNSET={},b.Op.Unset=b.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(){return this},_estimate:function(){return b.Op._UNSET}}),b.Op._registerDecoder("Delete",function(){return new b.Op.Unset}),b.Op.Increment=b.Op._extend({_initialize:function(a){this._amount=a},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)return new b.Op.Set(this.amount());if(a instanceof b.Op.Set)return new b.Op.Set(a.value()+this.amount());if(a instanceof b.Op.Increment)return new b.Op.Increment(this.amount()+a.amount());throw"Op is invalid after previous op."}return this},_estimate:function(a){return a?a+this.amount():this.amount()}}),b.Op._registerDecoder("Increment",function(a){return new b.Op.Increment(a.amount)}),b.Op.Add=b.Op._extend({_initialize:function(a){this._objects=a},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:b._encode(this.objects())}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)return new b.Op.Set(this.objects());if(a instanceof b.Op.Set)return new b.Op.Set(this._estimate(a.value()));if(a instanceof b.Op.Add)return new b.Op.Add(a.objects().concat(this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(a){return a?a.concat(this.objects()):c.clone(this.objects())}}),b.Op._registerDecoder("Add",function(a){return new b.Op.Add(b._decode(void 0,a.objects))}),b.Op.AddUnique=b.Op._extend({_initialize:function(a){this._objects=c.uniq(a)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:b._encode(this.objects())}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)return new b.Op.Set(this.objects());if(a instanceof b.Op.Set)return new b.Op.Set(this._estimate(a.value()));if(a instanceof b.Op.AddUnique)return new b.Op.AddUnique(this._estimate(a.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(a){if(a){var d=c.clone(a);return b._arrayEach(this.objects(),function(a){if(a instanceof b.Object&&a.id){var e=c.find(d,function(c){return c instanceof b.Object&&c.id===a.id});if(e){var f=c.indexOf(d,e);d[f]=a}else d.push(a)}else c.contains(d,a)||d.push(a)}),d}return c.clone(this.objects())}}),b.Op._registerDecoder("AddUnique",function(a){return new b.Op.AddUnique(b._decode(void 0,a.objects))}),b.Op.Remove=b.Op._extend({_initialize:function(a){this._objects=c.uniq(a)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:b._encode(this.objects())}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)return a;if(a instanceof b.Op.Set)return new b.Op.Set(this._estimate(a.value()));if(a instanceof b.Op.Remove)return new b.Op.Remove(c.union(a.objects(),this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(a){if(a){var d=c.difference(a,this.objects());return b._arrayEach(this.objects(),function(a){a instanceof b.Object&&a.id&&(d=c.reject(d,function(c){return c instanceof b.Object&&c.id===a.id}))}),d}return[]}}),b.Op._registerDecoder("Remove",function(a){return new b.Op.Remove(b._decode(void 0,a.objects))}),b.Op.Relation=b.Op._extend({_initialize:function(a,d){this._targetClassName=null;var e=this,f=function(a){if(a instanceof b.Object){if(!a.id)throw"You can't add an unsaved Parse.Object to a relation.";if(e._targetClassName||(e._targetClassName=a.className),e._targetClassName!==a.className)throw"Tried to create a Parse.Relation with 2 different types: "+e._targetClassName+" and "+a.className+".";return a.id}return a};this.relationsToAdd=c.uniq(c.map(a,f)),this.relationsToRemove=c.uniq(c.map(d,f))},added:function(){var a=this;return c.map(this.relationsToAdd,function(c){var d=b.Object._create(a._targetClassName);return d.id=c,d})},removed:function(){var a=this;return c.map(this.relationsToRemove,function(c){var d=b.Object._create(a._targetClassName);return d.id=c,d})},toJSON:function(){var a=null,b=null,d=this,e=function(a){return{__type:"Pointer",className:d._targetClassName,objectId:a}},f=null;return this.relationsToAdd.length>0&&(f=c.map(this.relationsToAdd,e),a={__op:"AddRelation",objects:f}),this.relationsToRemove.length>0&&(f=c.map(this.relationsToRemove,e),b={__op:"RemoveRelation",objects:f}),a&&b?{__op:"Batch",ops:[a,b]}:a||b||{}},_mergeWithPrevious:function(a){if(a){if(a instanceof b.Op.Unset)throw"You can't modify a relation after deleting it.";if(a instanceof b.Op.Relation){if(a._targetClassName&&a._targetClassName!==this._targetClassName)throw"Related object must be of class "+a._targetClassName+", but "+this._targetClassName+" was passed in.";var d=c.union(c.difference(a.relationsToAdd,this.relationsToRemove),this.relationsToAdd),e=c.union(c.difference(a.relationsToRemove,this.relationsToAdd),this.relationsToRemove),f=new b.Op.Relation(d,e);return f._targetClassName=this._targetClassName,f}throw"Op is invalid after previous op."}return this},_estimate:function(a,c,d){if(a){if(a instanceof b.Relation){if(this._targetClassName)if(a.targetClassName){if(a.targetClassName!==this._targetClassName)throw"Related object must be a "+a.targetClassName+", but a "+this._targetClassName+" was passed in."}else a.targetClassName=this._targetClassName;return a}throw"Op is invalid after previous op."}var e=new b.Relation(c,d);e.targetClassName=this._targetClassName}}),b.Op._registerDecoder("AddRelation",function(a){return new b.Op.Relation(b._decode(void 0,a.objects),[])}),b.Op._registerDecoder("RemoveRelation",function(a){return new b.Op.Relation([],b._decode(void 0,a.objects))})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Relation=function(a,b){this.parent=a,this.key=b,this.targetClassName=null},b.Relation.prototype={_ensureParentAndKey:function(a,b){if(this.parent=this.parent||a,this.key=this.key||b,this.parent!==a)throw"Internal Error. Relation retrieved from two different Objects.";if(this.key!==b)throw"Internal Error. Relation retrieved from two different keys."},add:function(a){c.isArray(a)||(a=[a]);var d=new b.Op.Relation(a,[]);this.parent.set(this.key,d),this.targetClassName=d._targetClassName},remove:function(a){c.isArray(a)||(a=[a]);var d=new b.Op.Relation([],a);this.parent.set(this.key,d),this.targetClassName=d._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var a,c;return this.targetClassName?(a=b.Object._getSubclass(this.targetClassName),c=new b.Query(a)):(a=b.Object._getSubclass(this.parent.className),c=new b.Query(a),c._extraOptions.redirectClassNameForKey=this.key),c._addCondition("$relatedTo","object",this.parent._toPointer()),c._addCondition("$relatedTo","key",this.key),c}}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Promise=function(){this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[]},c.extend(b.Promise,{is:function(a){return a&&a.then&&c.isFunction(a.then)},as:function(){var a=new b.Promise;return a.resolve.apply(a,arguments),a},error:function(){var a=new b.Promise;return a.reject.apply(a,arguments),a},when:function(a){var c;c=a&&b._isNullOrUndefined(a.length)?arguments:a;var d=c.length,e=!1,f=[],g=[];if(f.length=c.length,g.length=c.length,0===d)return b.Promise.as.apply(this,f);var h=new b.Promise,i=function(){d-=1,0===d&&(e?h.reject(g):h.resolve.apply(h,f))};return b._arrayEach(c,function(a,c){b.Promise.is(a)?a.then(function(a){f[c]=a,i()},function(a){g[c]=a,e=!0,i()}):(f[c]=a,i())}),h},_continueWhile:function(a,c){return a()?c().then(function(){return b.Promise._continueWhile(a,c)}):b.Promise.as()}}),c.extend(b.Promise.prototype,{resolve:function(){if(this._resolved||this._rejected)throw"A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._resolved=!0,this._result=arguments;var a=arguments;b._arrayEach(this._resolvedCallbacks,function(b){b.apply(this,a)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},reject:function(a){if(this._resolved||this._rejected)throw"A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._rejected=!0,this._error=a,b._arrayEach(this._rejectedCallbacks,function(b){b(a)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},then:function(a,c){var d=new b.Promise,e=function(){var c=arguments;a&&(c=[a.apply(this,c)]),1===c.length&&b.Promise.is(c[0])?c[0].then(function(){d.resolve.apply(d,arguments)},function(a){d.reject(a)}):d.resolve.apply(d,c)},f=function(a){var e=[];c?(e=[c(a)],1===e.length&&b.Promise.is(e[0])?e[0].then(function(){d.resolve.apply(d,arguments)},function(a){d.reject(a)}):d.reject(e[0])):d.reject(a)};return this._resolved?e.apply(this,this._result):this._rejected?f(this._error):(this._resolvedCallbacks.push(e),this._rejectedCallbacks.push(f)),d},_thenRunCallbacks:function(a,d){var e;if(c.isFunction(a)){var f=a;e={success:function(a){f(a,null)},error:function(a){f(null,a)}}}else e=c.clone(a);return e=e||{},this.then(function(a){return e.success?e.success.apply(this,arguments):d&&d.trigger("sync",d,a,e),b.Promise.as.apply(b.Promise,arguments)},function(a){return e.error?c.isUndefined(d)?e.error(a):e.error(d,a):d&&d.trigger("error",d,a,e),b.Promise.error(a)})},_continueWith:function(a){return this.then(function(){return a(arguments,null)},function(b){return a(null,b)})}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._,d=function(a){if(26>a)return String.fromCharCode(65+a);if(52>a)return String.fromCharCode(97+(a-26));if(62>a)return String.fromCharCode(48+(a-52));if(62===a)return"+";if(63===a)return"/";throw"Tried to encode large digit "+a+" in base64."},e=function(a){var b=[];return b.length=Math.ceil(a.length/3),c.times(b.length,function(c){var e=a[3*c],f=a[3*c+1]||0,g=a[3*c+2]||0,h=a.length>3*c+1,i=a.length>3*c+2;b[c]=[d(63&e>>2),d(48&e<<4|15&f>>4),h?d(60&f<<2|3&g>>6):"=",i?d(63&g):"="].join("")}),b.join("")},f={ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",asc:"text/plain",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bcpio:"application/x-bcpio",bin:"application/octet-stream",bmp:"image/bmp",cdf:"application/x-netcdf",cgm:"image/cgm","class":"application/octet-stream",cpio:"application/x-cpio",cpt:"application/mac-compactpro",csh:"application/x-csh",css:"text/css",dcr:"application/x-director",dif:"video/x-dv",dir:"application/x-director",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",docm:"application/vnd.ms-word.document.macroEnabled.12",dotm:"application/vnd.ms-word.template.macroEnabled.12",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",dxr:"application/x-director",eps:"application/postscript",etx:"text/x-setext",exe:"application/octet-stream",ez:"application/andrew-inset",gif:"image/gif",gram:"application/srgs",grxml:"application/srgs+xml",gtar:"application/x-gtar",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htm:"text/html",html:"text/html",ice:"x-conference/x-cooltalk",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",jnlp:"application/x-java-jnlp-file",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/x-javascript",kar:"audio/midi",latex:"application/x-latex",lha:"application/octet-stream",lzh:"application/octet-stream",m3u:"audio/x-mpegurl",m4a:"audio/mp4a-latm",m4b:"audio/mp4a-latm",m4p:"audio/mp4a-latm",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",mac:"image/x-macpaint",man:"application/x-troff-man",mathml:"application/mathml+xml",me:"application/x-troff-me",mesh:"model/mesh",mid:"audio/midi",midi:"audio/midi",mif:"application/vnd.mif",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",ms:"application/x-troff-ms",msh:"model/mesh",mxu:"video/vnd.mpegurl",nc:"application/x-netcdf",oda:"application/oda",ogg:"application/ogg",pbm:"image/x-portable-bitmap",pct:"image/pict",pdb:"chemical/x-pdb",pdf:"application/pdf",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pic:"image/pict",pict:"image/pict",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",pntg:"image/x-macpaint",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",ps:"application/postscript",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",roff:"application/x-troff",rtf:"text/rtf",rtx:"text/richtext",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",silo:"model/mesh",sit:"application/x-stuffit",skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",smi:"application/smil",smil:"application/smil",snd:"audio/basic",so:"application/octet-stream",spl:"application/x-futuresplash",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",swf:"application/x-shockwave-flash",t:"application/x-troff",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tif:"image/tiff",tiff:"image/tiff",tr:"application/x-troff",tsv:"text/tab-separated-values",txt:"text/plain",ustar:"application/x-ustar",vcd:"application/x-cdlink",vrml:"model/vrml",vxml:"application/voicexml+xml",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wbmxl:"application/vnd.wap.wbxml",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wrl:"model/vrml",xbm:"image/x-xbitmap",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xslt:"application/xslt+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",zip:"application/zip"},g=function(a,c){var d=new b.Promise;if("undefined"==typeof FileReader)return b.Promise.error(new b.Error(-1,"Attempted to use a FileReader on an unsupported browser."));var e=new FileReader;return e.onloadend=function(){if(2!==e.readyState)return d.reject(new b.Error(-1,"Error reading file.")),void 0;var a=e.result,f=/^data:([^;]*);base64,(.*)$/.exec(a);return f?(d.resolve(f[2],c||f[1]),void 0):(d.reject(new b.Error(-1,"Unable to interpret data URL: "+a)),void 0)},e.readAsDataURL(a),d};b.File=function(a,d,h){this._name=a;var i=/\.([^.]*)$/.exec(a);i&&(i=i[1].toLowerCase());var j=h||f[i]||"text/plain";if(c.isArray(d))this._source=b.Promise.as(e(d),j);else if(d&&d.base64)this._source=b.Promise.as(d.base64,j);else if("undefined"!=typeof File&&d instanceof File)this._source=g(d,h);else if(c.isString(d))throw"Creating a Parse.File from a String is not yet supported."},b.File.prototype={name:function(){return this._name},url:function(){return this._url},save:function(a){var c=this;return c._previousSave||(c._previousSave=c._source.then(function(a,d){var e={base64:a,_ContentType:d};return b._request("files",c._name,null,"POST",e)}).then(function(a){return c._name=a.name,c._url=a.url,c})),c._previousSave._thenRunCallbacks(a)}}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Object=function(a,d){if(c.isString(a))return b.Object._create.apply(this,arguments);a=a||{},d&&d.parse&&(a=this.parse(a));var e=b._getValue(this,"defaults");if(e&&(a=c.extend({},e,a)),d&&d.collection&&(this.collection=d.collection),this._serverData={},this._opSetQueue=[{}],this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=c.uniqueId("c"),this.changed={},this._silent={},this._pending={},!this.set(a,{silent:!0}))throw Error("Can't create an invalid Parse.Object");this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=c.clone(this.attributes),this.initialize.apply(this,arguments)},b.Object.saveAll=function(a,c){return b.Object._deepSaveAsync(a)._thenRunCallbacks(c)},c.extend(b.Object.prototype,b.Events,{_existed:!1,initialize:function(){},toJSON:function(){var a=this._toFullJSON();return b._arrayEach(["__type","className"],function(b){delete a[b]}),a},_toFullJSON:function(a){var d=c.clone(this.attributes);return b._objectEach(d,function(c,e){d[e]=b._encode(c,a)}),b._objectEach(this._operations,function(a,b){d[b]=a}),c.has(this,"id")&&(d.objectId=this.id),c.has(this,"createdAt")&&(d.createdAt=c.isDate(this.createdAt)?this.createdAt.toJSON():this.createdAt),c.has(this,"updatedAt")&&(d.updatedAt=c.isDate(this.updatedAt)?this.updatedAt.toJSON():this.updatedAt),d.__type="Object",d.className=this.className,d},_refreshCache:function(){var a=this;a._refreshingCache||(a._refreshingCache=!0,b._objectEach(this.attributes,function(d,e){d instanceof b.Object?d._refreshCache():c.isObject(d)&&a._resetCacheForKey(e)&&a.set(e,new b.Op.Set(d),{silent:!0})}),delete a._refreshingCache)},dirty:function(a){this._refreshCache();var b=c.last(this._opSetQueue);return a?b[a]?!0:!1:this.id?c.keys(b).length>0?!0:!1:!0},_toPointer:function(){if(!this.id)throw Error("Can't serialize an unsaved Parse.Object");return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(a){return this.attributes[a]},relation:function(a){var c=this.get(a);if(c){if(!(c instanceof b.Relation))throw"Called relation() on non-relation field "+a;return c._ensureParentAndKey(this,a),c}return new b.Relation(this,a)},escape:function(a){var d=this._escapedAttributes[a];if(d)return d;var e,f=this.attributes[a];return e=b._isNullOrUndefined(f)?"":c.escape(""+f),this._escapedAttributes[a]=e,e},has:function(a){return!b._isNullOrUndefined(this.attributes[a])},_mergeMagicFields:function(a){var d=this,e=["id","objectId","createdAt","updatedAt"];b._arrayEach(e,function(e){a[e]&&("objectId"===e?d.id=a[e]:d[e]="createdAt"!==e&&"updatedAt"!==e||c.isDate(a[e])?a[e]:b._parseDate(a[e]),delete a[e])})},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var a=c.first(this._opSetQueue);this._opSetQueue=c.rest(this._opSetQueue);var d=c.first(this._opSetQueue);b._objectEach(a,function(b,c){var e=a[c],f=d[c];e&&f?d[c]=f._mergeWithPrevious(e):e&&(d[c]=e)}),this._saving=this._saving-1},_finishSave:function(a){var d={};b._traverse(this.attributes,function(a){a instanceof b.Object&&a.id&&a._hasData&&(d[a.id]=a)});var e=c.first(this._opSetQueue);this._opSetQueue=c.rest(this._opSetQueue),this._applyOpSet(e,this._serverData),this._mergeMagicFields(a);var f=this;b._objectEach(a,function(a,c){f._serverData[c]=b._decode(c,a);var e=b._traverse(f._serverData[c],function(a){return a instanceof b.Object&&d[a.id]?d[a.id]:void 0});e&&(f._serverData[c]=e)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(a,c){this._opSetQueue=[{}],this._mergeMagicFields(a);var d=this;b._objectEach(a,function(a,c){d._serverData[c]=b._decode(c,a)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=c},_applyOpSet:function(a,c){var d=this;b._objectEach(a,function(a,e){c[e]=a._estimate(c[e],d,e),c[e]===b.Op._UNSET&&delete c[e]})},_resetCacheForKey:function(a){var d=this.attributes[a];if(!(!c.isObject(d)||d instanceof b.Object||d instanceof b.File)){d=d.toJSON?d.toJSON():d;var e=JSON.stringify(d);if(this._hashedJSON[a]!==e)return this._hashedJSON[a]=e,!0}return!1},_rebuildEstimatedDataForKey:function(a){var c=this;delete this.attributes[a],this._serverData[a]&&(this.attributes[a]=this._serverData[a]),b._arrayEach(this._opSetQueue,function(d){var e=d[a];e&&(c.attributes[a]=e._estimate(c.attributes[a],c,a),c.attributes[a]===b.Op._UNSET?delete c.attributes[a]:c._resetCacheForKey(a))})},_rebuildAllEstimatedData:function(){var a=this,d=c.clone(this.attributes);this.attributes=c.clone(this._serverData),b._arrayEach(this._opSetQueue,function(c){a._applyOpSet(c,a.attributes),b._objectEach(c,function(b,c){a._resetCacheForKey(c)})}),b._objectEach(d,function(b,c){a.attributes[c]!==b&&a.trigger("change:"+c,a,a.attributes[c],{})}),b._objectEach(this.attributes,function(b,e){c.has(d,e)||a.trigger("change:"+e,a,b,{})})},set:function(a,d,e){var f;if(c.isObject(a)||b._isNullOrUndefined(a)?(f=a,b._objectEach(f,function(a,c){f[c]=b._decode(c,a)}),e=d):(f={},f[a]=b._decode(a,d)),e=e||{},!f)return this;f instanceof b.Object&&(f=f.attributes),e.unset&&b._objectEach(f,function(a,c){f[c]=new b.Op.Unset});var g=c.clone(f),h=this;if(b._objectEach(g,function(a,c){a instanceof b.Op&&(g[c]=a._estimate(h.attributes[c],h,c),g[c]===b.Op._UNSET&&delete g[c])}),!this._validate(f,e))return!1;this._mergeMagicFields(f),e.changes={};var i=this._escapedAttributes;return this._previousAttributes||{},b._arrayEach(c.keys(f),function(a){var d=f[a];d instanceof b.Relation&&(d.parent=h),d instanceof b.Op||(d=new b.Op.Set(d));var g=!0;d instanceof b.Op.Set&&c.isEqual(h.attributes[a],d.value)&&(g=!1),g&&(delete i[a],e.silent?h._silent[a]=!0:e.changes[a]=!0);var j=c.last(h._opSetQueue);j[a]=d._mergeWithPrevious(j[a]),h._rebuildEstimatedDataForKey(a),g?(h.changed[a]=h.attributes[a],e.silent||(h._pending[a]=!0)):(delete h.changed[a],delete h._pending[a])}),e.silent||this.change(e),this},unset:function(a,b){return b=b||{},b.unset=!0,this.set(a,null,b)},increment:function(a,d){return(c.isUndefined(d)||c.isNull(d))&&(d=1),this.set(a,new b.Op.Increment(d))},add:function(a,c){return this.set(a,new b.Op.Add([c]))},addUnique:function(a,c){return this.set(a,new b.Op.AddUnique([c]))},remove:function(a,c){return this.set(a,new b.Op.Remove([c]))},op:function(a){return c.last(this._opSetQueue)[a]},clear:function(a){a=a||{},a.unset=!0;var b=c.extend(this.attributes,this._operations);return this.set(b,a)},_getSaveJSON:function(){var a=c.clone(c.first(this._opSetQueue));return b._objectEach(a,function(b,c){a[c]=b.toJSON()}),a},_canBeSerialized:function(){return b.Object._canBeSerializedAsValue(this.attributes)},fetch:function(a){var c=this,d=b._request("classes",this.className,this.id,"GET");return d.then(function(a,b,d){return c._finishFetch(c.parse(a,b,d),!0),c})._thenRunCallbacks(a,this)},save:function(a,d,e){var f,g,h;if(c.isObject(a)||b._isNullOrUndefined(a)?(f=a,h=d):(f={},f[a]=d,h=e),!h&&f){var i=c.reject(f,function(a,b){return c.include(["success","error","wait"],b)});if(0===i.length){var j=!0;if(c.has(f,"success")&&!c.isFunction(f.success)&&(j=!1),c.has(f,"error")&&!c.isFunction(f.error)&&(j=!1),j)return this.save(null,f)}}h=c.clone(h)||{},h.wait&&(g=c.clone(this.attributes));var k=c.clone(h)||{};k.wait&&(k.silent=!0);var l;if(k.error=function(a,b){l=b},f&&!this.set(f,k))return b.Promise.error(l)._thenRunCallbacks(h,this);var m=this;m._refreshCache();var n=[],o=[];return b.Object._findUnsavedChildren(m.attributes,n,o),n.length+o.length>0?b.Object._deepSaveAsync(this.attributes).then(function(){return m.save(null,h)},function(a){return b.Promise.error(a)._thenRunCallbacks(h,m)}):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||b.Promise.as(),this._allPreviousSaves=this._allPreviousSaves._continueWith(function(){var a=m.id?"PUT":"POST",d=m._getSaveJSON(),e="classes",i=m.className;"_User"!==m.className||m.id||(e="users",i=null);var j=b._request(e,i,m.id,a,d);return j=j.then(function(a,b,d){var e=m.parse(a,b,d);return h.wait&&(e=c.extend(f||{},e)),m._finishSave(e),h.wait&&m.set(g,k),m},function(a){return m._cancelSave(),b.Promise.error(a)})._thenRunCallbacks(h,m)}),this._allPreviousSaves)},destroy:function(a){a=a||{};var c=this,d=function(){c.trigger("destroy",c,c.collection,a)};if(!this.id)return d();a.wait||d();var e=b._request("classes",this.className,this.id,"DELETE");return e.then(function(){return a.wait&&d(),c})._thenRunCallbacks(a,this)},parse:function(a,d){var e=c.clone(a);return c(["createdAt","updatedAt"]).each(function(a){e[a]&&(e[a]=b._parseDate(e[a]))}),e.updatedAt||(e.updatedAt=e.createdAt),d&&(this._existed=201!==d),e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(a){a=a||{};var d=this._changing;this._changing=!0;var e=this;b._objectEach(this._silent,function(a){e._pending[a]=!0});var f=c.extend({},a.changes,this._silent);if(this._silent={},b._objectEach(f,function(b,c){e.trigger("change:"+c,e,e.get(c),a)}),d)return this;for(var g=function(a,b){e._pending[b]||e._silent[b]||delete e.changed[b]};!c.isEmpty(this._pending);)this._pending={},this.trigger("change",this,a),b._objectEach(this.changed,g),e._previousAttributes=c.clone(this.attributes);return this._changing=!1,this},existed:function(){return this._existed},hasChanged:function(a){return arguments.length?this.changed&&c.has(this.changed,a):!c.isEmpty(this.changed)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var d={},e=this._previousAttributes;return b._objectEach(a,function(a,b){c.isEqual(e[b],a)||(d[b]=a)}),d},previous:function(a){return arguments.length&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(a){return!c.has(a,"ACL")||a.ACL instanceof b.ACL?!1:new b.Error(b.Error.OTHER_CAUSE,"ACL must be a Parse.ACL.")},_validate:function(a,b){if(b.silent||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validate(a,b);return d?(b&&b.error?b.error(this,d,b):this.trigger("error",this,d,b),!1):!0},getACL:function(){return this.get("ACL")},setACL:function(a,b){return this.set("ACL",a,b)}}),b.Object._getSubclass=function(a){if(!c.isString(a))throw"Parse.Object._getSubclass requires a string argument.";var d=b.Object._classMap[a];return d||(d=b.Object.extend(a),b.Object._classMap[a]=d),d},b.Object._create=function(a,c,d){var e=b.Object._getSubclass(a);return new e(c,d)},b.Object._classMap={},b.Object._extend=b._extend,b.Object.extend=function(a,d,e){if(!c.isString(a)){if(a&&c.has(a,"className"))return b.Object.extend(a.className,a,d);throw Error("Parse.Object.extend's first argument should be the className.")}"User"===a&&(a="_User");var f=null;if(c.has(b.Object._classMap,a)){var g=b.Object._classMap[a];f=g._extend(d,e)}else d=d||{},d.className=a,f=this._extend(d,e);return f.extend=function(d){if(c.isString(d)||d&&c.has(d,"className"))return b.Object.extend.apply(f,arguments);var e=[a].concat(b._.toArray(arguments));return b.Object.extend.apply(f,e)},b.Object._classMap[a]=f,f},b.Object._findUnsavedChildren=function(a,c,d){b._traverse(a,function(a){return a instanceof b.Object?(a._refreshCache(),a.dirty()&&c.push(a),void 0):a instanceof b.File?(a.url()||d.push(a),void 0):void 0})},b.Object._canBeSerializedAsValue=function(a){var d=!0;return a instanceof b.Object?d=!!a.id:c.isArray(a)?b._arrayEach(a,function(a){b.Object._canBeSerializedAsValue(a)||(d=!1)}):c.isObject(a)&&b._objectEach(a,function(a){b.Object._canBeSerializedAsValue(a)||(d=!1)}),d},b.Object._deepSaveAsync=function(a){var d=[],e=[];b.Object._findUnsavedChildren(a,d,e);var f=b.Promise.as();c.each(e,function(a){f=f.then(function(){return a.save()})});var g=c.uniq(d),h=c.uniq(g);return f.then(function(){return b.Promise._continueWhile(function(){return h.length>0},function(){var a=[],d=[];if(b._arrayEach(h,function(b){return a.length>20?(d.push(b),void 0):(b._canBeSerialized()?a.push(b):d.push(b),void 0)}),h=d,0===a.length)return b.Promise.error(new b.Error(b.Error.OTHER_CAUSE,"Tried to save a batch with a cycle."));var e=b.Promise.when(c.map(a,function(a){return a._allPreviousSaves||b.Promise.as()})),f=new b.Promise;return b._arrayEach(a,function(a){a._allPreviousSaves=f}),e._continueWith(function(){return b._request("batch",null,null,"POST",{requests:c.map(a,function(a){var b=a._getSaveJSON(),c="POST",d="/1/classes/"+a.className;return a.id&&(d=d+"/"+a.id,c="PUT"),a._startSave(),{method:c,path:d,body:b}})}).then(function(c,d,e){var f;return b._arrayEach(a,function(a,b){c[b].success?a._finishSave(a.parse(c[b].success,d,e)):(f=f||c[b].error,a._cancelSave())}),f?b.Promise.error(new b.Error(f.code,f.error)):void 0}).then(function(a){return f.resolve(a),a},function(a){return f.reject(a),b.Promise.error(a)})})})}).then(function(){return a})}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Role=b.Object.extend("_Role",{constructor:function(a,d){c.isString(a)&&d instanceof b.ACL?(b.Object.prototype.constructor.call(this,null,null),this.setName(a),this.setACL(d)):b.Object.prototype.constructor.call(this,a,d)},getName:function(){return this.get("name")},setName:function(a,b){return this.set("name",a,b)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(a,d){if("name"in a&&a.name!==this.getName()){var e=a.name;if(this.id&&this.id!==a.objectId)return new b.Error(b.Error.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!c.isString(e))return new b.Error(b.Error.OTHER_CAUSE,"A role's name must be a String.");
if(!/^[0-9a-zA-Z\-_ ]+$/.test(e))return new b.Error(b.Error.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return b.Object.prototype.validate?b.Object.prototype.validate.call(this,a,d):!1}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Collection=function(a,b){b=b||{},b.comparator&&(this.comparator=b.comparator),b.model&&(this.model=b.model),b.query&&(this.query=b.query),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,{silent:!0,parse:b.parse})},c.extend(b.Collection.prototype,b.Events,{model:b.Object,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,d){var e,f,g,h,i,j,k={},l={};for(d=d||{},a=c.isArray(a)?a.slice():[a],e=0,g=a.length;g>e;e++){if(a[e]=this._prepareModel(a[e],d),h=a[e],!h)throw Error("Can't add an invalid model to a collection");if(i=h.cid,k[i]||this._byCid[i])throw Error("Duplicate cid: can't add the same model to a collection twice");if(j=h.id,!b._isNullOrUndefined(j)&&(l[j]||this._byId[j]))throw Error("Duplicate id: can't add the same model to a collection twice");l[j]=h,k[i]=h}for(e=0;g>e;e++)(h=a[e]).on("all",this._onModelEvent,this),this._byCid[h.cid]=h,h.id&&(this._byId[h.id]=h);if(this.length+=g,f=b._isNullOrUndefined(d.at)?this.models.length:d.at,this.models.splice.apply(this.models,[f,0].concat(a)),this.comparator&&this.sort({silent:!0}),d.silent)return this;for(e=0,g=this.models.length;g>e;e++)h=this.models[e],k[h.cid]&&(d.index=e,h.trigger("add",h,this,d));return this},remove:function(a,b){var d,e,f,g;for(b=b||{},a=c.isArray(a)?a.slice():[a],d=0,e=a.length;e>d;d++)g=this.getByCid(a[d])||this.get(a[d]),g&&(delete this._byId[g.id],delete this._byCid[g.cid],f=this.indexOf(g),this.models.splice(f,1),this.length--,b.silent||(b.index=f,g.trigger("remove",g,this,b)),this._removeReference(g));return this},get:function(a){return a&&this._byId[a.id||a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){if(a=a||{},!this.comparator)throw Error("Cannot sort a set without a comparator");var b=c.bind(this.comparator,this);return 1===this.comparator.length?this.models=this.sortBy(b):this.models.sort(b),a.silent||this.trigger("reset",this,a),this},pluck:function(a){return c.map(this.models,function(b){return b.get(a)})},reset:function(a,c){var d=this;return a=a||[],c=c||{},b._arrayEach(this.models,function(a){d._removeReference(a)}),this._reset(),this.add(a,{silent:!0,parse:c.parse}),c.silent||this.trigger("reset",this,c),this},fetch:function(a){a=c.clone(a)||{},void 0===a.parse&&(a.parse=!0);var d=this,e=this.query||new b.Query(this.model);return e.find().then(function(b){return a.add?d.add(b,a):d.reset(b,a),d})._thenRunCallbacks(a,this)},create:function(a,b){var d=this;if(b=b?c.clone(b):{},a=this._prepareModel(a,b),!a)return!1;b.wait||d.add(a,b);var e=b.success;return b.success=function(c,f){b.wait&&d.add(c,b),e?e(c,f):c.trigger("sync",a,f,b)},a.save(null,b),a},parse:function(a){return a},chain:function(){return c(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(a,c){if(a instanceof b.Object)a.collection||(a.collection=this);else{var d=a;c.collection=this,a=new this.model(d,c),a._validate(a.attributes,c)||(a=!1)}return a},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&"change:objectId"===a&&(delete this._byId[b.previous("objectId")],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});var d=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];b._arrayEach(d,function(a){b.Collection.prototype[a]=function(){return c[a].apply(c,[this.models].concat(c.toArray(arguments)))}}),b.Collection.extend=b._extend}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.View=function(a){this.cid=c.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var d=/^(\S+)\s*(.*)$/,e=["model","collection","el","id","attributes","className","tagName"];c.extend(b.View.prototype,b.Events,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(a,c,d){var e=document.createElement(a);return c&&b.$(e).attr(c),d&&b.$(e).html(d),e},setElement:function(a,c){return this.$el=b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(a=a||b._getValue(this,"events")){this.undelegateEvents();var e=this;b._objectEach(a,function(b,f){if(c.isFunction(b)||(b=e[a[f]]),!b)throw Error('Event "'+a[f]+'" does not exist');var g=f.match(d),h=g[1],i=g[2];b=c.bind(b,e),h+=".delegateEvents"+e.cid,""===i?e.$el.bind(h,b):e.$el.delegate(i,h,b)})}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=c.extend({},this.options,a));var b=this;c.each(e,function(c){a[c]&&(b[c]=a[c])}),this.options=a},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var a=b._getValue(this,"attributes")||{};this.id&&(a.id=this.id),this.className&&(a["class"]=this.className),this.setElement(this.make(this.tagName,a),!1)}}}),b.View.extend=b._extend}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.User=b.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(a){a.sessionToken&&(this._sessionToken=a.sessionToken,delete a.sessionToken),b.User.__super__._mergeMagicFields.call(this,a)},_cleanupAuthData:function(){if(this.isCurrent()){var a=this.get("authData");a&&b._objectEach(this.get("authData"),function(b,c){a[c]||delete a[c]})}},_synchronizeAllAuthData:function(){var a=this.get("authData");if(a){var c=this;b._objectEach(this.get("authData"),function(a,b){c._synchronizeAuthData(b)})}},_synchronizeAuthData:function(a){if(this.isCurrent()){var d;c.isString(a)?(d=a,a=b.User._authProviders[d]):d=a.getAuthType();var e=this.get("authData");if(e&&a){var f=a.restoreAuthentication(e[d]);f||this._unlinkFrom(a)}}},_handleSaveResult:function(a){a&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),(a||this.isCurrent())&&b.User._saveCurrentUser(this)},_linkWith:function(a,d){var e;if(c.isString(a)?(e=a,a=b.User._authProviders[a]):e=a.getAuthType(),c.has(d,"authData")){var f=this.get("authData")||{};f[e]=d.authData,this.set("authData",f);var g=c.clone(d)||{};return g.success=function(a){a._handleSaveResult(!0),d.success&&d.success.apply(this,arguments)},this.save({authData:f},g)}var h=this,i=new b.Promise;return a.authenticate({success:function(a,b){h._linkWith(a,{authData:b,success:d.success,error:d.error}).then(function(){i.resolve(h)})},error:function(a,b){d.error&&d.error(h,b),i.reject(b)}}),i},_unlinkFrom:function(a,d){var e;c.isString(a)?(e=a,a=b.User._authProviders[a]):e=a.getAuthType();var f=c.clone(d),g=this;return f.authData=null,f.success=function(){g._synchronizeAuthData(a),d.success&&d.success.apply(this,arguments)},this._linkWith(a,f)},_isLinked:function(a){var b;b=c.isString(a)?a:a.getAuthType();var d=this.get("authData")||{};return!!d[b]},_logOutWithAll:function(){var a=this.get("authData");if(a){var c=this;b._objectEach(this.get("authData"),function(a,b){c._logOutWith(b)})}},_logOutWith:function(a){this.isCurrent()&&(c.isString(a)&&(a=b.User._authProviders[a]),a&&a.deauthenticate&&a.deauthenticate())},signUp:function(a,d){var e;d=d||{};var f=a&&a.username||this.get("username");if(!f||""===f)return e=new b.Error(b.Error.OTHER_CAUSE,"Cannot sign up user with an empty name."),d&&d.error&&d.error(this,e),b.Promise.error(e);var g=a&&a.password||this.get("password");if(!g||""===g)return e=new b.Error(b.Error.OTHER_CAUSE,"Cannot sign up user with an empty password."),d&&d.error&&d.error(this,e),b.Promise.error(e);var h=c.clone(d);return h.success=function(a){a._handleSaveResult(!0),d.success&&d.success.apply(this,arguments)},this.save(a,h)},logIn:function(a){var c=this,d=b._request("login",null,null,"GET",this.toJSON());return d.then(function(a,b,d){var e=c.parse(a,b,d);return c._finishFetch(e),c._handleSaveResult(!0),c})._thenRunCallbacks(a,this)},save:function(a,d,e){var f,g;c.isObject(a)||c.isNull(a)||c.isUndefined(a)?(f=a,g=d):(f={},f[a]=d,g=e),g=g||{};var h=c.clone(g);return h.success=function(a){a._handleSaveResult(!1),g.success&&g.success.apply(this,arguments)},b.Object.prototype.save.call(this,f,h)},fetch:function(a){var d=a?c.clone(a):{};return d.success=function(b){b._handleSaveResult(!1),a&&a.success&&a.success.apply(this,arguments)},b.Object.prototype.fetch.call(this,d)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},setUsername:function(a,b){return this.set("username",a,b)},setPassword:function(a,b){return this.set("password",a,b)},getEmail:function(){return this.get("email")},setEmail:function(a,b){return this.set("email",a,b)},authenticated:function(){return!!this._sessionToken&&b.User.current()&&b.User.current().id===this.id}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(a,c,d,e){d=d||{},d.username=a,d.password=c;var f=b.Object._create("_User");return f.signUp(d,e)},logIn:function(a,c,d){var e=b.Object._create("_User");return e._finishFetch({username:a,password:c}),e.logIn(d)},logOut:function(){null!==b.User._currentUser&&(b.User._currentUser._logOutWithAll(),b.User._currentUser._isCurrentUser=!1),b.User._currentUserMatchesDisk=!0,b.User._currentUser=null,b.localStorage.removeItem(b._getParsePath(b.User._CURRENT_USER_KEY))},requestPasswordReset:function(a,c){var d={email:a},e=b._request("requestPasswordReset",null,null,"POST",d);return e._thenRunCallbacks(c)},current:function(){if(b.User._currentUser)return b.User._currentUser;if(b.User._currentUserMatchesDisk)return b.User._currentUser;b.User._currentUserMatchesDisk=!0;var a=b.localStorage.getItem(b._getParsePath(b.User._CURRENT_USER_KEY));if(!a)return null;b.User._currentUser=b.Object._create("_User"),b.User._currentUser._isCurrentUser=!0;var c=JSON.parse(a);return b.User._currentUser.id=c._id,delete c._id,b.User._currentUser._sessionToken=c._sessionToken,delete c._sessionToken,b.User._currentUser.set(c),b.User._currentUser._synchronizeAllAuthData(),b.User._currentUser._refreshCache(),b.User._currentUser._opSetQueue=[{}],b.User._currentUser},_saveCurrentUser:function(a){b.User._currentUser!==a&&b.User.logOut(),a._isCurrentUser=!0,b.User._currentUser=a,b.User._currentUserMatchesDisk=!0;var c=a.toJSON();c._id=a.id,c._sessionToken=a._sessionToken,b.localStorage.setItem(b._getParsePath(b.User._CURRENT_USER_KEY),JSON.stringify(c))},_registerAuthenticationProvider:function(a){b.User._authProviders[a.getAuthType()]=a,b.User.current()&&b.User.current()._synchronizeAuthData(a.getAuthType())},_logInWith:function(a,c){var d=b.Object._create("_User");return d._linkWith(a,c)}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Query=function(a){c.isString(a)&&(a=b.Object._getSubclass(a)),this.objectClass=a,this.className=a.prototype.className,this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}},b.Query.or=function(){var a=c.toArray(arguments),d=null;b._arrayEach(a,function(a){if(c.isNull(d)&&(d=a.className),d!==a.className)throw"All queries must be for the same class"});var e=new b.Query(d);return e._orQuery(a),e},b.Query.prototype={get:function(a,c){var d=this;return d.equalTo("objectId",a),d.first().then(function(a){if(a)return a;var c=new b.Error(b.Error.OBJECT_NOT_FOUND,"Object not found.");return b.Promise.error(c)})._thenRunCallbacks(c,null)},toJSON:function(){var a={where:this._where};return this._include.length>0&&(a.include=this._include.join(",")),this._select&&(a.keys=this._select.join(",")),this._limit>=0&&(a.limit=this._limit),this._skip>0&&(a.skip=this._skip),void 0!==this._order&&(a.order=this._order),b._objectEach(this._extraOptions,function(b,c){a[c]=b}),a},find:function(a){var d=this,e=b._request("classes",this.className,null,"GET",this.toJSON());return e.then(function(a){return c.map(a.results,function(c){var e;return e=a.className?new b.Object(a.className):new d.objectClass,e._finishFetch(c,!0),e})})._thenRunCallbacks(a)},count:function(a){var c=this.toJSON();c.limit=0,c.count=1;var d=b._request("classes",this.className,null,"GET",c);return d.then(function(a){return a.count})._thenRunCallbacks(a)},first:function(a){var d=this,e=this.toJSON();e.limit=1;var f=b._request("classes",this.className,null,"GET",e);return f.then(function(a){return c.map(a.results,function(a){var b=new d.objectClass;return b._finishFetch(a,!0),b})[0]})._thenRunCallbacks(a)},collection:function(a,d){return d=d||{},new b.Collection(a,c.extend(d,{model:this.objectClass,query:this}))},skip:function(a){return this._skip=a,this},limit:function(a){return this._limit=a,this},equalTo:function(a,c){return this._where[a]=b._encode(c),this},_addCondition:function(a,c,d){return this._where[a]||(this._where[a]={}),this._where[a][c]=b._encode(d),this},notEqualTo:function(a,b){return this._addCondition(a,"$ne",b),this},lessThan:function(a,b){return this._addCondition(a,"$lt",b),this},greaterThan:function(a,b){return this._addCondition(a,"$gt",b),this},lessThanOrEqualTo:function(a,b){return this._addCondition(a,"$lte",b),this},greaterThanOrEqualTo:function(a,b){return this._addCondition(a,"$gte",b),this},containedIn:function(a,b){return this._addCondition(a,"$in",b),this},notContainedIn:function(a,b){return this._addCondition(a,"$nin",b),this},containsAll:function(a,b){return this._addCondition(a,"$all",b),this},exists:function(a){return this._addCondition(a,"$exists",!0),this},doesNotExist:function(a){return this._addCondition(a,"$exists",!1),this},matches:function(a,b,c){return this._addCondition(a,"$regex",b),c||(c=""),b.ignoreCase&&(c+="i"),b.multiline&&(c+="m"),c&&c.length&&this._addCondition(a,"$options",c),this},matchesQuery:function(a,b){var c=b.toJSON();return c.className=b.className,this._addCondition(a,"$inQuery",c),this},doesNotMatchQuery:function(a,b){var c=b.toJSON();return c.className=b.className,this._addCondition(a,"$notInQuery",c),this},matchesKeyInQuery:function(a,b,c){var d=c.toJSON();return d.className=c.className,this._addCondition(a,"$select",{key:b,query:d}),this},doesNotMatchKeyInQuery:function(a,b,c){var d=c.toJSON();return d.className=c.className,this._addCondition(a,"$dontSelect",{key:b,query:d}),this},_orQuery:function(a){var b=c.map(a,function(a){return a.toJSON().where});return this._where.$or=b,this},_quote:function(a){return"\\Q"+a.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(a,b){return this._addCondition(a,"$regex",this._quote(b)),this},startsWith:function(a,b){return this._addCondition(a,"$regex","^"+this._quote(b)),this},endsWith:function(a,b){return this._addCondition(a,"$regex",this._quote(b)+"$"),this},ascending:function(a){return this._order=a,this},descending:function(a){return this._order="-"+a,this},near:function(a,c){return c instanceof b.GeoPoint||(c=new b.GeoPoint(c)),this._addCondition(a,"$nearSphere",c),this},withinRadians:function(a,b,c){return this.near(a,b),this._addCondition(a,"$maxDistance",c),this},withinMiles:function(a,b,c){return this.withinRadians(a,b,c/3958.8)},withinKilometers:function(a,b,c){return this.withinRadians(a,b,c/6371)},withinGeoBox:function(a,c,d){return c instanceof b.GeoPoint||(c=new b.GeoPoint(c)),d instanceof b.GeoPoint||(d=new b.GeoPoint(d)),this._addCondition(a,"$within",{$box:[c,d]}),this},include:function(){var a=this;return b._arrayEach(arguments,function(b){c.isArray(b)?a._include=a._include.concat(b):a._include.push(b)}),this},select:function(){var a=this;return this._select=this._select||[],b._arrayEach(arguments,function(b){c.isArray(b)?a._select=a._select.concat(b):a._select.push(b)}),this},each:function(a,d){if(d=d||{},this._order||this._skip||this._limit>=0){var e="Cannot iterate on a query with sort, skip, or limit.";return b.Promise.error(e)._thenRunCallbacks(d)}new b.Promise;var f=new b.Query(this.objectClass);f._limit=d.batchSize||100,f._where=c.clone(this._where),f._include=c.clone(this._include),f.ascending("objectId");var g=!1;return b.Promise._continueWhile(function(){return!g},function(){return f.find().then(function(c){var d=b.Promise.as();return b._.each(c,function(b){d=d.then(function(){return a(b)})}),d.then(function(){c.length>=f._limit?f.greaterThan("objectId",c[c.length-1].id):g=!0})})})._thenRunCallbacks(d)}}}(this),function(a){a.Parse=a.Parse||{};var b,c,d=a.Parse,e=d._,f=!1,g={authenticate:function(a){var c=this;FB.login(function(b){b.authResponse?a.success&&a.success(c,{id:b.authResponse.userID,access_token:b.authResponse.accessToken,expiration_date:new Date(1e3*b.authResponse.expiresIn+(new Date).getTime()).toJSON()}):a.error&&a.error(c,b)},{scope:b})},restoreAuthentication:function(a){if(a){var b={userID:a.id,accessToken:a.access_token,expiresIn:(d._parseDate(a.expiration_date).getTime()-(new Date).getTime())/1e3},f=e.clone(c);f.authResponse=b,f.status=!1,FB.init(f)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null),FB.logout()}};d.FacebookUtils={init:function(a){if("undefined"==typeof FB)throw"The Facebook JavaScript SDK must be loaded before calling init.";if(c=e.clone(a)||{},c.status&&"undefined"!=typeof console){var b=console.warn||console.log||function(){};b.call(console,"The 'status' flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.")}c.status=!1,FB.init(c),d.User._registerAuthenticationProvider(g),f=!0},isLinked:function(a){return a._isLinked("facebook")},logIn:function(a,c){if(!a||e.isString(a)){if(!f)throw"You must initialize FacebookUtils before calling logIn.";return b=a,d.User._logInWith("facebook",c)}var g=e.clone(c)||{};return g.authData=a,d.User._logInWith("facebook",g)},link:function(a,c,d){if(!c||e.isString(c)){if(!f)throw"You must initialize FacebookUtils before calling link.";return b=c,a._linkWith("facebook",d)}var g=e.clone(d)||{};return g.authData=c,a._linkWith("facebook",g)},unlink:function(a,b){if(!f)throw"You must initialize FacebookUtils before calling unlink.";return a._unlinkFrom("facebook",b)}}}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl")};var d=/^[#\/]/,e=/msie [\w.]+/;b.History.started=!1,c.extend(b.History.prototype,b.Events,{interval:50,getHash:function(a){var b=a?a.location:window.location,c=b.href.match(/#(.*)$/);return c?c[1]:""},getFragment:function(a,c){if(b._isNullOrUndefined(a))if(this._hasPushState||c){a=window.location.pathname;var e=window.location.search;e&&(a+=e)}else a=this.getHash();return a.indexOf(this.options.root)||(a=a.substr(this.options.root.length)),a.replace(d,"")},start:function(a){if(b.History.started)throw Error("Parse.history has already been started");b.History.started=!0,this.options=c.extend({},{root:"/"},this.options,a),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var f=this.getFragment(),g=document.documentMode,h=e.exec(navigator.userAgent.toLowerCase())&&(!g||7>=g);h&&(this.iframe=b.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(f)),this._hasPushState?b.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!h?b.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=window.setInterval(this.checkUrl,this.interval)),this.fragment=f;var i=window.location,j=i.pathname===this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!j?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&j&&i.hash&&(this.fragment=this.getHash().replace(d,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){b.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),window.clearInterval(this._checkUrlInterval),b.History.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(a){var b=this.fragment=this.getFragment(a),d=c.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0});return d},navigate:function(a,c){if(!b.History.started)return!1;c&&c!==!0||(c={trigger:c});var e=(a||"").replace(d,"");if(this.fragment!==e){if(this._hasPushState){0!==e.indexOf(this.options.root)&&(e=this.options.root+e),this.fragment=e;var f=c.replace?"replaceState":"pushState";window.history[f]({},document.title,e)}else this._wantsHashChange?(this.fragment=e,this._updateHash(window.location,e,c.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(c.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,c.replace))):window.location.assign(this.options.root+a);c.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=(""+a).replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash=b}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Router=function(a){a=a||{},a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var d=/:\w+/g,e=/\*\w+/g,f=/[\-\[\]{}()+?.,\\\^\$\|#\s]/g;c.extend(b.Router.prototype,b.Events,{initialize:function(){},route:function(a,d,e){return b.history=b.history||new b.History,c.isRegExp(a)||(a=this._routeToRegExp(a)),e||(e=this[d]),b.history.route(a,c.bind(function(c){var f=this._extractParameters(a,c);e&&e.apply(this,f),this.trigger.apply(this,["route:"+d].concat(f)),b.history.trigger("route",this,d,f)},this)),this},navigate:function(a,c){b.history.navigate(a,c)},_bindRoutes:function(){if(this.routes){var a=[];for(var b in this.routes)this.routes.hasOwnProperty(b)&&a.unshift([b,this.routes[b]]);for(var c=0,d=a.length;d>c;c++)this.route(a[c][0],a[c][1],this[a[c][1]])}},_routeToRegExp:function(a){return a=a.replace(f,"\\$&").replace(d,"([^/]+)").replace(e,"(.*?)"),RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}}),b.Router.extend=b._extend}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse,c=b._;b.Cloud=b.Cloud||{},c.extend(b.Cloud,{run:function(a,c,d){var e=b._request("functions",a,null,"POST",b._encode(c,null,!0));return e.then(function(a){return b._decode(null,a).result})._thenRunCallbacks(d)}})}(this),function(a){a.Parse=a.Parse||{};var b=a.Parse;b.Installation=b.Object.extend("_Installation"),b.Push=b.Push||{},b.Push.send=function(a,c){if(a.where&&(a.where=a.where.toJSON().where),a.push_time&&(a.push_time=a.push_time.toJSON()),a.expiration_time&&(a.expiration_time=a.expiration_time.toJSON()),a.expiration_time&&a.expiration_time_interval)throw"Both expiration_time and expiration_time_interval can't be set";var d=b._request("push",null,null,"POST",a);return d._thenRunCallbacks(c)}}(this),function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;if(b._chain&&(b=b._wrapped),c._chain&&(c=c._wrapped),b.isEqual&&v.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&v.isFunction(c.isEqual))return c.isEqual(b);var e=i.call(b);if(e!=i.call(c))return!1;switch(e){case"[object String]":return b==String(c);case"[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case"[object Date]":case"[object Boolean]":return+b==+c;case"[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var f=d.length;f--;)if(d[f]==b)return!0;d.push(b);var f=0,g=!0;if("[object Array]"==e){if(f=b.length,g=f==c.length)for(;f--&&(g=f in b==f in c&&a(b[f],c[f],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var h in b)if(j.call(b,h)&&(f++,!(g=j.call(c,h)&&a(b[h],c[h],d))))break;if(g){for(h in c)if(j.call(c,h)&&!f--)break;g=!f}}return d.pop(),g}var b=this,c=b._,d={},e=Array.prototype,f=Object.prototype,g=e.slice,h=e.unshift,i=f.toString,j=f.hasOwnProperty,k=e.forEach,l=e.map,m=e.reduce,n=e.reduceRight,o=e.filter,p=e.every,q=e.some,r=e.indexOf,s=e.lastIndexOf,f=Array.isArray,t=Object.keys,u=Function.prototype.bind,v=function(a){return new B(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):"function"==typeof define&&define.amd?define("underscore",function(){return v}):b._=v,v.VERSION="1.2.4";var w=v.each=v.forEach=function(a,b,c){if(null!=a)if(k&&a.forEach===k)a.forEach(b,c);else if(a.length===+a.length)for(var e=0,f=a.length;f>e&&!(e in a&&b.call(c,a[e],e,a)===d);e++);else for(e in a)if(j.call(a,e)&&b.call(c,a[e],e,a)===d)break};v.map=function(a,b,c){var d=[];return null==a?d:l&&a.map===l?a.map(b,c):(w(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},v.reduce=v.foldl=v.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),m&&a.reduce===m)return d&&(b=v.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(w(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.reduceRight=v.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduceRight===n)return d&&(b=v.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=v.toArray(a).reverse();return d&&!e&&(b=v.bind(b,d)),e?v.reduce(f,b,c,d):v.reduce(f,b)},v.find=v.detect=function(a,b,c){var d;return x(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},v.filter=v.select=function(a,b,c){var d=[];return null==a?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},v.reject=function(a,b,c){var d=[];return null==a?d:(w(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},v.every=v.all=function(a,b,c){var e=!0;return null==a?e:p&&a.every===p?a.every(b,c):(w(a,function(a,f,g){return(e=e&&b.call(c,a,f,g))?void 0:d}),e)};var x=v.some=v.any=function(a,b,c){b||(b=v.identity);var e=!1;return null==a?e:q&&a.some===q?a.some(b,c):(w(a,function(a,f,g){return e||(e=b.call(c,a,f,g))?d:void 0}),!!e)};v.include=v.contains=function(a,b){var c=!1;return null==a?c:r&&a.indexOf===r?-1!=a.indexOf(b):c=x(a,function(a){return a===b})},v.invoke=function(a,b){var c=g.call(arguments,2);return v.map(a,function(a){return(v.isFunction(b)?b||a:a[b]).apply(a,c)})},v.pluck=function(a,b){return v.map(a,function(a){return a[b]})},v.max=function(a,b,c){if(!b&&v.isArray(a))return Math.max.apply(Math,a);if(!b&&v.isEmpty(a))return-1/0;var d={computed:-1/0};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e>=d.computed&&(d={value:a,computed:e})}),d.value},v.min=function(a,b,c){if(!b&&v.isArray(a))return Math.min.apply(Math,a);if(!b&&v.isEmpty(a))return 1/0;var d={computed:1/0};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e<d.computed&&(d={value:a,computed:e})}),d.value},v.shuffle=function(a){var b,c=[];return w(a,function(a,d){0==d?c[0]=a:(b=Math.floor(Math.random()*(d+1)),c[d]=c[b],c[b]=a)}),c},v.sortBy=function(a,b,c){return v.pluck(v.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0}),"value")},v.groupBy=function(a,b){var c={},d=v.isFunction(b)?b:function(a){return a[b]};return w(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},v.sortedIndex=function(a,b,c){c||(c=v.identity);for(var d=0,e=a.length;e>d;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},v.toArray=function(a){return a?a.toArray?a.toArray():v.isArray(a)?g.call(a):v.isArguments(a)?g.call(a):v.values(a):[]},v.size=function(a){return v.toArray(a).length},v.first=v.head=function(a,b,c){return null==b||c?a[0]:g.call(a,0,b)},v.initial=function(a,b,c){return g.call(a,0,a.length-(null==b||c?1:b))},v.last=function(a,b,c){return null==b||c?a[a.length-1]:g.call(a,Math.max(a.length-b,0))},v.rest=v.tail=function(a,b,c){return g.call(a,null==b||c?1:b)},v.compact=function(a){return v.filter(a,function(a){return!!a})},v.flatten=function(a,b){return v.reduce(a,function(a,c){return v.isArray(c)?a.concat(b?c:v.flatten(c)):(a[a.length]=c,a)},[])},v.without=function(a){return v.difference(a,g.call(arguments,1))},v.uniq=v.unique=function(a,b,c){var c=c?v.map(a,c):a,d=[];return v.reduce(c,function(c,e,f){return 0!=f&&(b===!0?v.last(c)==e:v.include(c,e))||(c[c.length]=e,d[d.length]=a[f]),c},[]),d},v.union=function(){return v.uniq(v.flatten(arguments,!0))},v.intersection=v.intersect=function(a){var b=g.call(arguments,1);return v.filter(v.uniq(a),function(a){return v.every(b,function(b){return v.indexOf(b,a)>=0})})},v.difference=function(a){var b=v.flatten(g.call(arguments,1));return v.filter(a,function(a){return!v.include(b,a)})},v.zip=function(){for(var a=g.call(arguments),b=v.max(v.pluck(a,"length")),c=Array(b),d=0;b>d;d++)c[d]=v.pluck(a,""+d);return c},v.indexOf=function(a,b,c){if(null==a)return-1;var d;if(c)return c=v.sortedIndex(a,b),a[c]===b?c:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(c=0,d=a.length;d>c;c++)if(c in a&&a[c]===b)return c;return-1},v.lastIndexOf=function(a,b){if(null==a)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1},v.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0);for(var c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);d>e;)f[e++]=a,a+=c;return f};var y=function(){};v.bind=function(a,b){var c,d;if(a.bind===u&&u)return u.apply(a,g.call(arguments,1));if(!v.isFunction(a))throw new TypeError;return d=g.call(arguments,2),c=function(){if(!(this instanceof c))return a.apply(b,d.concat(g.call(arguments)));y.prototype=a.prototype;var e=new y,f=a.apply(e,d.concat(g.call(arguments)));return Object(f)===f?f:e}},v.bindAll=function(a){var b=g.call(arguments,1);return 0==b.length&&(b=v.functions(a)),w(b,function(b){a[b]=v.bind(a[b],a)}),a},v.memoize=function(a,b){var c={};return b||(b=v.identity),function(){var d=b.apply(this,arguments);return j.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}},v.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)},v.defer=function(a){return v.delay.apply(v,[a,1].concat(g.call(arguments,1)))},v.throttle=function(a,b){var c,d,e,f,g,h=v.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;e||(e=setTimeout(function(){e=null,g&&a.apply(c,d),h()},b)),f?g=!0:a.apply(c,d),h(),f=!0}},v.debounce=function(a,b){var c;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){c=null,a.apply(d,e)},b)}},v.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments))}},v.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},v.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},v.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0
}},v.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b,c=[];for(b in a)j.call(a,b)&&(c[c.length]=b);return c},v.values=function(a){return v.map(a,v.identity)},v.functions=v.methods=function(a){var b,c=[];for(b in a)v.isFunction(a[b])&&c.push(b);return c.sort()},v.extend=function(a){return w(g.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])}),a},v.defaults=function(a){return w(g.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isEqual=function(b,c){return a(b,c,[])},v.isEmpty=function(a){if(v.isArray(a)||v.isString(a))return 0===a.length;for(var b in a)if(j.call(a,b))return!1;return!0},v.isElement=function(a){return!(!a||1!=a.nodeType)},v.isArray=f||function(a){return"[object Array]"==i.call(a)},v.isObject=function(a){return a===Object(a)},v.isArguments=function(a){return"[object Arguments]"==i.call(a)},v.isArguments(arguments)||(v.isArguments=function(a){return!(!a||!j.call(a,"callee"))}),v.isFunction=function(a){return"[object Function]"==i.call(a)},v.isString=function(a){return"[object String]"==i.call(a)},v.isNumber=function(a){return"[object Number]"==i.call(a)},v.isNaN=function(a){return a!==a},v.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==i.call(a)},v.isDate=function(a){return"[object Date]"==i.call(a)},v.isRegExp=function(a){return"[object RegExp]"==i.call(a)},v.isNull=function(a){return null===a},v.isUndefined=function(a){return void 0===a},v.noConflict=function(){return b._=c,this},v.identity=function(a){return a},v.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},v.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v.mixin=function(a){w(v.functions(a),function(b){D(b,v[b]=a[b])})};var z=0;v.uniqueId=function(a){var b=z++;return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/.^/;v.template=function(a,b){var c=v.templateSettings,c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape||A,function(a,b){return"',_.escape("+b.replace(/\\'/g,"'")+"),'"}).replace(c.interpolate||A,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(c.evaluate||A,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ").replace(/\\\\/g,"\\")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",d=new Function("obj","_",c);return b?d(b,v):function(a){return d.call(this,a,v)}},v.chain=function(a){return v(a).chain()};var B=function(a){this._wrapped=a};v.prototype=B.prototype;var C=function(a,b){return b?v(a).chain():a},D=function(a,b){B.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),C(b.apply(v,a),this._chain)}};v.mixin(v),w("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var b=e[a];B.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return("shift"==a||"splice"==a)&&0===d&&delete c[0],C(c,this._chain)}}),w(["concat","join","slice"],function(a){var b=e[a];B.prototype[a]=function(){return C(b.apply(this._wrapped,arguments),this._chain)}}),B.prototype.chain=function(){return this._chain=!0,this},B.prototype.value=function(){return this._wrapped}}.call(this),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?(this._wrapped=a,void 0):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.5.1";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(null==b?x.identity:b);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=function(){e=null,c||(d=a.apply(f,g))},i=c&&!e;return clearTimeout(e),e=setTimeout(h,b),i&&(d=a.apply(f,g)),d}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),jasmine.HtmlReporterHelpers={},jasmine.HtmlReporterHelpers.createDom=function(a,b){for(var c=document.createElement(a),d=2;d<arguments.length;d++){var e=arguments[d];"string"==typeof e?c.appendChild(document.createTextNode(e)):e&&c.appendChild(e)}for(var f in b)"className"==f?c[f]=b[f]:c.setAttribute(f,b[f]);return c},jasmine.HtmlReporterHelpers.getSpecStatus=function(a){var b=a.results(),c=b.passed()?"passed":"failed";return b.skipped&&(c="skipped"),c},jasmine.HtmlReporterHelpers.appendToSummary=function(a,b){var c=this.dom.summary,d="undefined"==typeof a.parentSuite?"suite":"parentSuite",e=a[d];e&&("undefined"==typeof this.views.suites[e.id]&&(this.views.suites[e.id]=new jasmine.HtmlReporter.SuiteView(e,this.dom,this.views)),c=this.views.suites[e.id].element),c.appendChild(b)},jasmine.HtmlReporterHelpers.addHelpers=function(a){for(var b in jasmine.HtmlReporterHelpers)a.prototype[b]=jasmine.HtmlReporterHelpers[b]},jasmine.HtmlReporter=function(a){function b(){var a;return function(){if(!a){for(var b=[],c=jasmine.HtmlReporter.parameters(i),d=0;d<c.length;d++){var e=c[d].split("=");b[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}a=b.spec}}(),a}function c(a){j.reporter=h.createDom("div",{id:"HTMLReporter",className:"jasmine_reporter"},j.banner=h.createDom("div",{className:"banner"},h.createDom("span",{className:"title"},"Jasmine "),h.createDom("span",{className:"version"},a)),j.symbolSummary=h.createDom("ul",{className:"symbolSummary"}),j.alert=h.createDom("div",{className:"alert"},h.createDom("span",{className:"exceptions"},h.createDom("label",{className:"label","for":"no_try_catch"},"No try/catch"),h.createDom("input",{id:"no_try_catch",type:"checkbox"}))),j.results=h.createDom("div",{className:"results"},j.summary=h.createDom("div",{className:"summary"}),j.details=h.createDom("div",{id:"details"})))}function d(){return window.location.search.match(/catch=false/)}function e(){for(var a=jasmine.HtmlReporter.parameters(window.document),b=!1,c=0;!b&&c<a.length;)a[c].match(/catch=/)&&(a.splice(c,1),b=!0),c++;return jasmine.CATCH_EXCEPTIONS&&a.push("catch=false"),a.join("&")}function f(){var a=document.getElementById("no_try_catch");d()&&(a.setAttribute("checked",!0),jasmine.CATCH_EXCEPTIONS=!1),a.onclick=function(){window.location.search=e()}}var g,h=this,i=a||window.document,j={};return h.logRunningSpecs=!1,h.reportRunnerStarting=function(a){var b=a.specs()||[];0!=b.length&&(c(a.env.versionString()),i.body.appendChild(j.reporter),f(),g=new jasmine.HtmlReporter.ReporterView(j),g.addSpecs(b,h.specFilter))},h.reportRunnerResults=function(){g&&g.complete()},h.reportSuiteResults=function(a){g.suiteComplete(a)},h.reportSpecStarting=function(a){h.logRunningSpecs&&h.log(">> Jasmine Running "+a.suite.description+" "+a.description+"...")},h.reportSpecResults=function(a){g.specComplete(a)},h.log=function(){var a=jasmine.getGlobal().console;a&&a.log&&(a.log.apply?a.log.apply(a,arguments):a.log(arguments))},h.specFilter=function(a){return b()?0===a.getFullName().indexOf(b()):!0},h},jasmine.HtmlReporter.parameters=function(a){var b=a.location.search.substring(1),c=[];return b.length>0&&(c=b.split("&")),c},jasmine.HtmlReporter.sectionLink=function(a){var b="?",c=[];return a&&c.push("spec="+encodeURIComponent(a)),jasmine.CATCH_EXCEPTIONS||c.push("catch=false"),c.length>0&&(b+=c.join("&")),b},jasmine.HtmlReporterHelpers.addHelpers(jasmine.HtmlReporter),jasmine.HtmlReporter.ReporterView=function(a){function b(){-1===a.reporter.className.search(/showDetails/)&&(a.reporter.className+=" showDetails")}function c(a){return"undefined"==typeof a}function d(a){return!c(a)}function e(a){var b=a+" spec";return a>1&&(b+="s"),b}return this.startedAt=new Date,this.runningSpecCount=0,this.completeSpecCount=0,this.passedCount=0,this.failedCount=0,this.skippedCount=0,this.createResultsMenu=function(){this.resultsMenu=this.createDom("span",{className:"resultsMenu bar"},this.summaryMenuItem=this.createDom("a",{className:"summaryMenuItem",href:"#"},"0 specs")," | ",this.detailsMenuItem=this.createDom("a",{className:"detailsMenuItem",href:"#"},"0 failing")),this.summaryMenuItem.onclick=function(){a.reporter.className=a.reporter.className.replace(/ showDetails/g,"")},this.detailsMenuItem.onclick=function(){b()}},this.addSpecs=function(b,c){this.totalSpecCount=b.length,this.views={specs:{},suites:{}};for(var d=0;d<b.length;d++){var e=b[d];this.views.specs[e.id]=new jasmine.HtmlReporter.SpecView(e,a,this.views),c(e)&&this.runningSpecCount++}},this.specComplete=function(b){this.completeSpecCount++,c(this.views.specs[b.id])&&(this.views.specs[b.id]=new jasmine.HtmlReporter.SpecView(b,a));var d=this.views.specs[b.id];switch(d.status()){case"passed":this.passedCount++;break;case"failed":this.failedCount++;break;case"skipped":this.skippedCount++}d.refresh(),this.refresh()},this.suiteComplete=function(a){var b=this.views.suites[a.id];c(b)||b.refresh()},this.refresh=function(){c(this.resultsMenu)&&this.createResultsMenu(),c(this.runningAlert)&&(this.runningAlert=this.createDom("a",{href:jasmine.HtmlReporter.sectionLink(),className:"runningAlert bar"}),a.alert.appendChild(this.runningAlert)),this.runningAlert.innerHTML="Running "+this.completeSpecCount+" of "+e(this.totalSpecCount),c(this.skippedAlert)&&(this.skippedAlert=this.createDom("a",{href:jasmine.HtmlReporter.sectionLink(),className:"skippedAlert bar"})),this.skippedAlert.innerHTML="Skipping "+this.skippedCount+" of "+e(this.totalSpecCount)+" - run all",1===this.skippedCount&&d(a.alert)&&a.alert.appendChild(this.skippedAlert),c(this.passedAlert)&&(this.passedAlert=this.createDom("span",{href:jasmine.HtmlReporter.sectionLink(),className:"passingAlert bar"})),this.passedAlert.innerHTML="Passing "+e(this.passedCount),c(this.failedAlert)&&(this.failedAlert=this.createDom("span",{href:"?",className:"failingAlert bar"})),this.failedAlert.innerHTML="Failing "+e(this.failedCount),1===this.failedCount&&d(a.alert)&&(a.alert.appendChild(this.failedAlert),a.alert.appendChild(this.resultsMenu)),this.summaryMenuItem.innerHTML=""+e(this.runningSpecCount),this.detailsMenuItem.innerHTML=""+this.failedCount+" failing"},this.complete=function(){a.alert.removeChild(this.runningAlert),this.skippedAlert.innerHTML="Ran "+this.runningSpecCount+" of "+e(this.totalSpecCount)+" - run all",0===this.failedCount?a.alert.appendChild(this.createDom("span",{className:"passingAlert bar"},"Passing "+e(this.passedCount))):b(),a.banner.appendChild(this.createDom("span",{className:"duration"},"finished in "+((new Date).getTime()-this.startedAt.getTime())/1e3+"s"))},this},jasmine.HtmlReporterHelpers.addHelpers(jasmine.HtmlReporter.ReporterView),jasmine.HtmlReporter.SpecView=function(a,b,c){this.spec=a,this.dom=b,this.views=c,this.symbol=this.createDom("li",{className:"pending"}),this.dom.symbolSummary.appendChild(this.symbol),this.summary=this.createDom("div",{className:"specSummary"},this.createDom("a",{className:"description",href:jasmine.HtmlReporter.sectionLink(this.spec.getFullName()),title:this.spec.getFullName()},this.spec.description)),this.detail=this.createDom("div",{className:"specDetail"},this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(this.spec.getFullName()),title:this.spec.getFullName()},this.spec.getFullName()))},jasmine.HtmlReporter.SpecView.prototype.status=function(){return this.getSpecStatus(this.spec)},jasmine.HtmlReporter.SpecView.prototype.refresh=function(){switch(this.symbol.className=this.status(),this.status()){case"skipped":break;case"passed":this.appendSummaryToSuiteDiv();break;case"failed":this.appendSummaryToSuiteDiv(),this.appendFailureDetail()}},jasmine.HtmlReporter.SpecView.prototype.appendSummaryToSuiteDiv=function(){this.summary.className+=" "+this.status(),this.appendToSummary(this.spec,this.summary)},jasmine.HtmlReporter.SpecView.prototype.appendFailureDetail=function(){this.detail.className+=" "+this.status();for(var a=this.spec.results().getItems(),b=this.createDom("div",{className:"messages"}),c=0;c<a.length;c++){var d=a[c];"log"==d.type?b.appendChild(this.createDom("div",{className:"resultMessage log"},d.toString())):"expect"==d.type&&d.passed&&!d.passed()&&(b.appendChild(this.createDom("div",{className:"resultMessage fail"},d.message)),d.trace.stack&&b.appendChild(this.createDom("div",{className:"stackTrace"},d.trace.stack)))}b.childNodes.length>0&&(this.detail.appendChild(b),this.dom.details.appendChild(this.detail))},jasmine.HtmlReporterHelpers.addHelpers(jasmine.HtmlReporter.SpecView),jasmine.HtmlReporter.SuiteView=function(a,b,c){this.suite=a,this.dom=b,this.views=c,this.element=this.createDom("div",{className:"suite"},this.createDom("a",{className:"description",href:jasmine.HtmlReporter.sectionLink(this.suite.getFullName())},this.suite.description)),this.appendToSummary(this.suite,this.element)},jasmine.HtmlReporter.SuiteView.prototype.status=function(){return this.getSpecStatus(this.suite)},jasmine.HtmlReporter.SuiteView.prototype.refresh=function(){this.element.className+=" "+this.status()},jasmine.HtmlReporterHelpers.addHelpers(jasmine.HtmlReporter.SuiteView),jasmine.TrivialReporter=function(a){this.document=a||document,this.suiteDivs={},this.logRunningSpecs=!1},jasmine.TrivialReporter.prototype.createDom=function(a,b){for(var c=document.createElement(a),d=2;d<arguments.length;d++){var e=arguments[d];"string"==typeof e?c.appendChild(document.createTextNode(e)):e&&c.appendChild(e)}for(var f in b)"className"==f?c[f]=b[f]:c.setAttribute(f,b[f]);return c},jasmine.TrivialReporter.prototype.reportRunnerStarting=function(a){var b,c;this.outerDiv=this.createDom("div",{id:"TrivialReporter",className:"jasmine_reporter"},this.createDom("div",{className:"banner"},this.createDom("div",{className:"logo"},this.createDom("span",{className:"title"},"Jasmine"),this.createDom("span",{className:"version"},a.env.versionString())),this.createDom("div",{className:"options"},"Show ",b=this.createDom("input",{id:"__jasmine_TrivialReporter_showPassed__",type:"checkbox"}),this.createDom("label",{"for":"__jasmine_TrivialReporter_showPassed__"}," passed "),c=this.createDom("input",{id:"__jasmine_TrivialReporter_showSkipped__",type:"checkbox"}),this.createDom("label",{"for":"__jasmine_TrivialReporter_showSkipped__"}," skipped"))),this.runnerDiv=this.createDom("div",{className:"runner running"},this.createDom("a",{className:"run_spec",href:"?"},"run all"),this.runnerMessageSpan=this.createDom("span",{},"Running..."),this.finishedAtSpan=this.createDom("span",{className:"finished-at"},""))),this.document.body.appendChild(this.outerDiv);for(var d=a.suites(),e=0;e<d.length;e++){var f=d[e],g=this.createDom("div",{className:"suite"},this.createDom("a",{className:"run_spec",href:"?spec="+encodeURIComponent(f.getFullName())},"run"),this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(f.getFullName())},f.description));this.suiteDivs[f.id]=g;var h=this.outerDiv;f.parentSuite&&(h=this.suiteDivs[f.parentSuite.id]),h.appendChild(g)}this.startedAt=new Date;var i=this;b.onclick=function(){b.checked?i.outerDiv.className+=" show-passed":i.outerDiv.className=i.outerDiv.className.replace(/ show-passed/,"")},c.onclick=function(){c.checked?i.outerDiv.className+=" show-skipped":i.outerDiv.className=i.outerDiv.className.replace(/ show-skipped/,"")}},jasmine.TrivialReporter.prototype.reportRunnerResults=function(a){var b=a.results(),c=b.failedCount>0?"runner failed":"runner passed";this.runnerDiv.setAttribute("class",c),this.runnerDiv.setAttribute("className",c);for(var d=a.specs(),e=0,f=0;f<d.length;f++)this.specFilter(d[f])&&e++;var g=""+e+" spec"+(1==e?"":"s")+", "+b.failedCount+" failure"+(1==b.failedCount?"":"s");g+=" in "+((new Date).getTime()-this.startedAt.getTime())/1e3+"s",this.runnerMessageSpan.replaceChild(this.createDom("a",{className:"description",href:"?"},g),this.runnerMessageSpan.firstChild),this.finishedAtSpan.appendChild(document.createTextNode("Finished at "+(new Date).toString()))},jasmine.TrivialReporter.prototype.reportSuiteResults=function(a){var b=a.results(),c=b.passed()?"passed":"failed";0===b.totalCount&&(c="skipped"),this.suiteDivs[a.id].className+=" "+c},jasmine.TrivialReporter.prototype.reportSpecStarting=function(a){this.logRunningSpecs&&this.log(">> Jasmine Running "+a.suite.description+" "+a.description+"...")},jasmine.TrivialReporter.prototype.reportSpecResults=function(a){var b=a.results(),c=b.passed()?"passed":"failed";b.skipped&&(c="skipped");for(var d=this.createDom("div",{className:"spec "+c},this.createDom("a",{className:"run_spec",href:"?spec="+encodeURIComponent(a.getFullName())},"run"),this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(a.getFullName()),title:a.getFullName()},a.description)),e=b.getItems(),f=this.createDom("div",{className:"messages"}),g=0;g<e.length;g++){var h=e[g];"log"==h.type?f.appendChild(this.createDom("div",{className:"resultMessage log"},h.toString())):"expect"==h.type&&h.passed&&!h.passed()&&(f.appendChild(this.createDom("div",{className:"resultMessage fail"},h.message)),h.trace.stack&&f.appendChild(this.createDom("div",{className:"stackTrace"},h.trace.stack)))}f.childNodes.length>0&&d.appendChild(f),this.suiteDivs[a.suite.id].appendChild(d)},jasmine.TrivialReporter.prototype.log=function(){var a=jasmine.getGlobal().console;a&&a.log&&(a.log.apply?a.log.apply(a,arguments):a.log(arguments))},jasmine.TrivialReporter.prototype.getLocation=function(){return this.document.location},jasmine.TrivialReporter.prototype.specFilter=function(a){for(var b={},c=this.getLocation().search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].split("=");b[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return b.spec?0===a.getFullName().indexOf(b.spec):!0};var isCommonJS="undefined"==typeof window&&"object"==typeof exports,jasmine={};isCommonJS&&(exports.jasmine=jasmine),jasmine.unimplementedMethod_=function(){throw new Error("unimplemented method")},jasmine.undefined=jasmine.___undefined___,jasmine.VERBOSE=!1,jasmine.DEFAULT_UPDATE_INTERVAL=250,jasmine.MAX_PRETTY_PRINT_DEPTH=40,jasmine.DEFAULT_TIMEOUT_INTERVAL=5e3,jasmine.CATCH_EXCEPTIONS=!0,jasmine.getGlobal=function(){function a(){return this}return a()},jasmine.bindOriginal_=function(a,b){var c=a[b];return c.apply?function(){return c.apply(a,arguments)}:jasmine.getGlobal()[b]},jasmine.setTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"setTimeout"),jasmine.clearTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"clearTimeout"),jasmine.setInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"setInterval"),jasmine.clearInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"clearInterval"),jasmine.MessageResult=function(a){this.type="log",this.values=a,this.trace=new Error
},jasmine.MessageResult.prototype.toString=function(){for(var a="",b=0;b<this.values.length;b++)b>0&&(a+=" "),a+=jasmine.isString_(this.values[b])?this.values[b]:jasmine.pp(this.values[b]);return a},jasmine.ExpectationResult=function(a){this.type="expect",this.matcherName=a.matcherName,this.passed_=a.passed,this.expected=a.expected,this.actual=a.actual,this.message=this.passed_?"Passed.":a.message;var b=a.trace||new Error(this.message);this.trace=this.passed_?"":b},jasmine.ExpectationResult.prototype.toString=function(){return this.message},jasmine.ExpectationResult.prototype.passed=function(){return this.passed_},jasmine.getEnv=function(){var a=jasmine.currentEnv_=jasmine.currentEnv_||new jasmine.Env;return a},jasmine.isArray_=function(a){return jasmine.isA_("Array",a)},jasmine.isString_=function(a){return jasmine.isA_("String",a)},jasmine.isNumber_=function(a){return jasmine.isA_("Number",a)},jasmine.isA_=function(a,b){return Object.prototype.toString.apply(b)==="[object "+a+"]"},jasmine.pp=function(a){var b=new jasmine.StringPrettyPrinter;return b.format(a),b.string},jasmine.isDomNode=function(a){return a.nodeType>0},jasmine.any=function(a){return new jasmine.Matchers.Any(a)},jasmine.objectContaining=function(a){return new jasmine.Matchers.ObjectContaining(a)},jasmine.Spy=function(a){this.identity=a||"unknown",this.isSpy=!0,this.plan=function(){},this.mostRecentCall={},this.argsForCall=[],this.calls=[]},jasmine.Spy.prototype.andCallThrough=function(){return this.plan=this.originalValue,this},jasmine.Spy.prototype.andReturn=function(a){return this.plan=function(){return a},this},jasmine.Spy.prototype.andThrow=function(a){return this.plan=function(){throw a},this},jasmine.Spy.prototype.andCallFake=function(a){return this.plan=a,this},jasmine.Spy.prototype.reset=function(){this.wasCalled=!1,this.callCount=0,this.argsForCall=[],this.calls=[],this.mostRecentCall={}},jasmine.createSpy=function(a){var b=function(){b.wasCalled=!0,b.callCount++;var a=jasmine.util.argsToArray(arguments);return b.mostRecentCall.object=this,b.mostRecentCall.args=a,b.argsForCall.push(a),b.calls.push({object:this,args:a}),b.plan.apply(this,arguments)},c=new jasmine.Spy(a);for(var d in c)b[d]=c[d];return b.reset(),b},jasmine.isSpy=function(a){return a&&a.isSpy},jasmine.createSpyObj=function(a,b){if(!jasmine.isArray_(b)||0===b.length)throw new Error("createSpyObj requires a non-empty array of method names to create spies for");for(var c={},d=0;d<b.length;d++)c[b[d]]=jasmine.createSpy(a+"."+b[d]);return c},jasmine.log=function(){var a=jasmine.getEnv().currentSpec;a.log.apply(a,arguments)};var spyOn=function(a,b){return jasmine.getEnv().currentSpec.spyOn(a,b)};isCommonJS&&(exports.spyOn=spyOn);var it=function(a,b){return jasmine.getEnv().it(a,b)};isCommonJS&&(exports.it=it);var xit=function(a,b){return jasmine.getEnv().xit(a,b)};isCommonJS&&(exports.xit=xit);var expect=function(a){return jasmine.getEnv().currentSpec.expect(a)};isCommonJS&&(exports.expect=expect);var runs=function(a){jasmine.getEnv().currentSpec.runs(a)};isCommonJS&&(exports.runs=runs);var waits=function(a){jasmine.getEnv().currentSpec.waits(a)};isCommonJS&&(exports.waits=waits);var waitsFor=function(){jasmine.getEnv().currentSpec.waitsFor.apply(jasmine.getEnv().currentSpec,arguments)};isCommonJS&&(exports.waitsFor=waitsFor);var beforeEach=function(a){jasmine.getEnv().beforeEach(a)};isCommonJS&&(exports.beforeEach=beforeEach);var afterEach=function(a){jasmine.getEnv().afterEach(a)};isCommonJS&&(exports.afterEach=afterEach);var describe=function(a,b){return jasmine.getEnv().describe(a,b)};isCommonJS&&(exports.describe=describe);var xdescribe=function(a,b){return jasmine.getEnv().xdescribe(a,b)};isCommonJS&&(exports.xdescribe=xdescribe),jasmine.XmlHttpRequest="undefined"==typeof XMLHttpRequest?function(){function a(a){try{return a()}catch(b){}return null}var b=a(function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")})||a(function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")})||a(function(){return new ActiveXObject("Msxml2.XMLHTTP")})||a(function(){return new ActiveXObject("Microsoft.XMLHTTP")});if(!b)throw new Error("This browser does not support XMLHttpRequest.");return b}:XMLHttpRequest,jasmine.util={},jasmine.util.inherit=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c},jasmine.util.formatException=function(a){var b;a.line?b=a.line:a.lineNumber&&(b=a.lineNumber);var c;a.sourceURL?c=a.sourceURL:a.fileName&&(c=a.fileName);var d=a.name&&a.message?a.name+": "+a.message:a.toString();return c&&b&&(d+=" in "+c+" (line "+b+")"),d},jasmine.util.htmlEscape=function(a){return a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},jasmine.util.argsToArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},jasmine.util.extend=function(a,b){for(var c in b)a[c]=b[c];return a},jasmine.Env=function(){this.currentSpec=null,this.currentSuite=null,this.currentRunner_=new jasmine.Runner(this),this.reporter=new jasmine.MultiReporter,this.updateInterval=jasmine.DEFAULT_UPDATE_INTERVAL,this.defaultTimeoutInterval=jasmine.DEFAULT_TIMEOUT_INTERVAL,this.lastUpdate=0,this.specFilter=function(){return!0},this.nextSpecId_=0,this.nextSuiteId_=0,this.equalityTesters_=[],this.matchersClass=function(){jasmine.Matchers.apply(this,arguments)},jasmine.util.inherit(this.matchersClass,jasmine.Matchers),jasmine.Matchers.wrapInto_(jasmine.Matchers.prototype,this.matchersClass)},jasmine.Env.prototype.setTimeout=jasmine.setTimeout,jasmine.Env.prototype.clearTimeout=jasmine.clearTimeout,jasmine.Env.prototype.setInterval=jasmine.setInterval,jasmine.Env.prototype.clearInterval=jasmine.clearInterval,jasmine.Env.prototype.version=function(){if(jasmine.version_)return jasmine.version_;throw new Error("Version not set")},jasmine.Env.prototype.versionString=function(){if(!jasmine.version_)return"version unknown";var a=this.version(),b=a.major+"."+a.minor+"."+a.build;return a.release_candidate&&(b+=".rc"+a.release_candidate),b+=" revision "+a.revision},jasmine.Env.prototype.nextSpecId=function(){return this.nextSpecId_++},jasmine.Env.prototype.nextSuiteId=function(){return this.nextSuiteId_++},jasmine.Env.prototype.addReporter=function(a){this.reporter.addReporter(a)},jasmine.Env.prototype.execute=function(){this.currentRunner_.execute()},jasmine.Env.prototype.describe=function(a,b){var c=new jasmine.Suite(this,a,b,this.currentSuite),d=this.currentSuite;d?d.add(c):this.currentRunner_.add(c),this.currentSuite=c;var e=null;try{b.call(c)}catch(f){e=f}return e&&this.it("encountered a declaration exception",function(){throw e}),this.currentSuite=d,c},jasmine.Env.prototype.beforeEach=function(a){this.currentSuite?this.currentSuite.beforeEach(a):this.currentRunner_.beforeEach(a)},jasmine.Env.prototype.currentRunner=function(){return this.currentRunner_},jasmine.Env.prototype.afterEach=function(a){this.currentSuite?this.currentSuite.afterEach(a):this.currentRunner_.afterEach(a)},jasmine.Env.prototype.xdescribe=function(){return{execute:function(){}}},jasmine.Env.prototype.it=function(a,b){var c=new jasmine.Spec(this,this.currentSuite,a);return this.currentSuite.add(c),this.currentSpec=c,b&&c.runs(b),c},jasmine.Env.prototype.xit=function(){return{id:this.nextSpecId(),runs:function(){}}},jasmine.Env.prototype.compareRegExps_=function(a,b,c,d){return a.source!=b.source&&d.push("expected pattern /"+b.source+"/ is not equal to the pattern /"+a.source+"/"),a.ignoreCase!=b.ignoreCase&&d.push("expected modifier i was"+(b.ignoreCase?" ":" not ")+"set and does not equal the origin modifier"),a.global!=b.global&&d.push("expected modifier g was"+(b.global?" ":" not ")+"set and does not equal the origin modifier"),a.multiline!=b.multiline&&d.push("expected modifier m was"+(b.multiline?" ":" not ")+"set and does not equal the origin modifier"),a.sticky!=b.sticky&&d.push("expected modifier y was"+(b.sticky?" ":" not ")+"set and does not equal the origin modifier"),0===d.length},jasmine.Env.prototype.compareObjects_=function(a,b,c,d){if(a.__Jasmine_been_here_before__===b&&b.__Jasmine_been_here_before__===a)return!0;a.__Jasmine_been_here_before__=b,b.__Jasmine_been_here_before__=a;var e=function(a,b){return null!==a&&a[b]!==jasmine.undefined};for(var f in b)!e(a,f)&&e(b,f)&&c.push("expected has key '"+f+"', but missing from actual.");for(f in a)!e(b,f)&&e(a,f)&&c.push("expected missing key '"+f+"', but present in actual.");for(f in b)"__Jasmine_been_here_before__"!=f&&(this.equals_(a[f],b[f],c,d)||d.push("'"+f+"' was '"+(b[f]?jasmine.util.htmlEscape(b[f].toString()):b[f])+"' in expected, but was '"+(a[f]?jasmine.util.htmlEscape(a[f].toString()):a[f])+"' in actual."));return jasmine.isArray_(a)&&jasmine.isArray_(b)&&a.length!=b.length&&d.push("arrays were not the same length"),delete a.__Jasmine_been_here_before__,delete b.__Jasmine_been_here_before__,0===c.length&&0===d.length},jasmine.Env.prototype.equals_=function(a,b,c,d){c=c||[],d=d||[];for(var e=0;e<this.equalityTesters_.length;e++){var f=this.equalityTesters_[e],g=f(a,b,this,c,d);if(g!==jasmine.undefined)return g}return a===b?!0:a===jasmine.undefined||null===a||b===jasmine.undefined||null===b?a==jasmine.undefined&&b==jasmine.undefined:jasmine.isDomNode(a)&&jasmine.isDomNode(b)?a===b:a instanceof Date&&b instanceof Date?a.getTime()==b.getTime():a.jasmineMatches?a.jasmineMatches(b):b.jasmineMatches?b.jasmineMatches(a):a instanceof jasmine.Matchers.ObjectContaining?a.matches(b):b instanceof jasmine.Matchers.ObjectContaining?b.matches(a):jasmine.isString_(a)&&jasmine.isString_(b)?a==b:jasmine.isNumber_(a)&&jasmine.isNumber_(b)?a==b:a instanceof RegExp&&b instanceof RegExp?this.compareRegExps_(a,b,c,d):"object"==typeof a&&"object"==typeof b?this.compareObjects_(a,b,c,d):a===b},jasmine.Env.prototype.contains_=function(a,b){if(jasmine.isArray_(a)){for(var c=0;c<a.length;c++)if(this.equals_(a[c],b))return!0;return!1}return a.indexOf(b)>=0},jasmine.Env.prototype.addEqualityTester=function(a){this.equalityTesters_.push(a)},jasmine.Reporter=function(){},jasmine.Reporter.prototype.reportRunnerStarting=function(){},jasmine.Reporter.prototype.reportRunnerResults=function(){},jasmine.Reporter.prototype.reportSuiteResults=function(){},jasmine.Reporter.prototype.reportSpecStarting=function(){},jasmine.Reporter.prototype.reportSpecResults=function(){},jasmine.Reporter.prototype.log=function(){},jasmine.Block=function(a,b,c){this.env=a,this.func=b,this.spec=c},jasmine.Block.prototype.execute=function(a){if(jasmine.CATCH_EXCEPTIONS)try{this.func.apply(this.spec)}catch(b){this.spec.fail(b)}else this.func.apply(this.spec);a()},jasmine.JsApiReporter=function(){this.started=!1,this.finished=!1,this.suites_=[],this.results_={}},jasmine.JsApiReporter.prototype.reportRunnerStarting=function(a){this.started=!0;for(var b=a.topLevelSuites(),c=0;c<b.length;c++){var d=b[c];this.suites_.push(this.summarize_(d))}},jasmine.JsApiReporter.prototype.suites=function(){return this.suites_},jasmine.JsApiReporter.prototype.summarize_=function(a){var b=a instanceof jasmine.Suite,c={id:a.id,name:a.description,type:b?"suite":"spec",children:[]};if(b)for(var d=a.children(),e=0;e<d.length;e++)c.children.push(this.summarize_(d[e]));return c},jasmine.JsApiReporter.prototype.results=function(){return this.results_},jasmine.JsApiReporter.prototype.resultsForSpec=function(a){return this.results_[a]},jasmine.JsApiReporter.prototype.reportRunnerResults=function(){this.finished=!0},jasmine.JsApiReporter.prototype.reportSuiteResults=function(){},jasmine.JsApiReporter.prototype.reportSpecResults=function(a){this.results_[a.id]={messages:a.results().getItems(),result:a.results().failedCount>0?"failed":"passed"}},jasmine.JsApiReporter.prototype.log=function(){},jasmine.JsApiReporter.prototype.resultsForSpecs=function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];b[d]=this.summarizeResult_(this.results_[d])}return b},jasmine.JsApiReporter.prototype.summarizeResult_=function(a){for(var b=[],c=a.messages.length,d=0;c>d;d++){var e=a.messages[d];b.push({text:"log"==e.type?e.toString():jasmine.undefined,passed:e.passed?e.passed():!0,type:e.type,message:e.message,trace:{stack:e.passed&&!e.passed()?e.trace.stack:jasmine.undefined}})}return{result:a.result,messages:b}},jasmine.Matchers=function(a,b,c,d){this.env=a,this.actual=b,this.spec=c,this.isNot=d||!1,this.reportWasCalled_=!1},jasmine.Matchers.pp=function(){throw new Error("jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!")},jasmine.Matchers.prototype.report=function(){throw new Error("As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs")},jasmine.Matchers.wrapInto_=function(a,b){for(var c in a)if("report"!=c){var d=a[c];b.prototype[c]=jasmine.Matchers.matcherFn_(c,d)}},jasmine.Matchers.matcherFn_=function(a,b){return function(){var c=jasmine.util.argsToArray(arguments),d=b.apply(this,arguments);if(this.isNot&&(d=!d),this.reportWasCalled_)return d;var e;if(!d)if(this.message)e=this.message.apply(this,arguments),jasmine.isArray_(e)&&(e=e[this.isNot?1:0]);else{var f=a.replace(/[A-Z]/g,function(a){return" "+a.toLowerCase()});if(e="Expected "+jasmine.pp(this.actual)+(this.isNot?" not ":" ")+f,c.length>0)for(var g=0;g<c.length;g++)g>0&&(e+=","),e+=" "+jasmine.pp(c[g]);e+="."}var h=new jasmine.ExpectationResult({matcherName:a,passed:d,expected:c.length>1?c:c[0],actual:this.actual,message:e});return this.spec.addMatcherResult(h),jasmine.undefined}},jasmine.Matchers.prototype.toBe=function(a){return this.actual===a},jasmine.Matchers.prototype.toNotBe=function(a){return this.actual!==a},jasmine.Matchers.prototype.toEqual=function(a){return this.env.equals_(this.actual,a)},jasmine.Matchers.prototype.toNotEqual=function(a){return!this.env.equals_(this.actual,a)},jasmine.Matchers.prototype.toMatch=function(a){return new RegExp(a).test(this.actual)},jasmine.Matchers.prototype.toNotMatch=function(a){return!new RegExp(a).test(this.actual)},jasmine.Matchers.prototype.toBeDefined=function(){return this.actual!==jasmine.undefined},jasmine.Matchers.prototype.toBeUndefined=function(){return this.actual===jasmine.undefined},jasmine.Matchers.prototype.toBeNull=function(){return null===this.actual},jasmine.Matchers.prototype.toBeNaN=function(){return this.message=function(){return["Expected "+jasmine.pp(this.actual)+" to be NaN."]},this.actual!==this.actual},jasmine.Matchers.prototype.toBeTruthy=function(){return!!this.actual},jasmine.Matchers.prototype.toBeFalsy=function(){return!this.actual},jasmine.Matchers.prototype.toHaveBeenCalled=function(){if(arguments.length>0)throw new Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith");if(!jasmine.isSpy(this.actual))throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");return this.message=function(){return["Expected spy "+this.actual.identity+" to have been called.","Expected spy "+this.actual.identity+" not to have been called."]},this.actual.wasCalled},jasmine.Matchers.prototype.wasCalled=jasmine.Matchers.prototype.toHaveBeenCalled,jasmine.Matchers.prototype.wasNotCalled=function(){if(arguments.length>0)throw new Error("wasNotCalled does not take arguments");if(!jasmine.isSpy(this.actual))throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");return this.message=function(){return["Expected spy "+this.actual.identity+" to not have been called.","Expected spy "+this.actual.identity+" to have been called."]},!this.actual.wasCalled},jasmine.Matchers.prototype.toHaveBeenCalledWith=function(){var a=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual))throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");return this.message=function(){var b="Expected spy "+this.actual.identity+" not to have been called with "+jasmine.pp(a)+" but it was.",c="";return c=0===this.actual.callCount?"Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(a)+" but it was never called.":"Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(a)+" but actual calls were "+jasmine.pp(this.actual.argsForCall).replace(/^\[ | \]$/g,""),[c,b]},this.env.contains_(this.actual.argsForCall,a)},jasmine.Matchers.prototype.wasCalledWith=jasmine.Matchers.prototype.toHaveBeenCalledWith,jasmine.Matchers.prototype.wasNotCalledWith=function(){var a=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual))throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");return this.message=function(){return["Expected spy not to have been called with "+jasmine.pp(a)+" but it was","Expected spy to have been called with "+jasmine.pp(a)+" but it was"]},!this.env.contains_(this.actual.argsForCall,a)},jasmine.Matchers.prototype.toContain=function(a){return this.env.contains_(this.actual,a)},jasmine.Matchers.prototype.toNotContain=function(a){return!this.env.contains_(this.actual,a)},jasmine.Matchers.prototype.toBeLessThan=function(a){return this.actual<a},jasmine.Matchers.prototype.toBeGreaterThan=function(a){return this.actual>a},jasmine.Matchers.prototype.toBeCloseTo=function(a,b){return 0!==b&&(b=b||2),Math.abs(a-this.actual)<Math.pow(10,-b)/2},jasmine.Matchers.prototype.toThrow=function(a){var b,c=!1;if("function"!=typeof this.actual)throw new Error("Actual is not a function");try{this.actual()}catch(d){b=d}b&&(c=a===jasmine.undefined||this.env.equals_(b.message||b,a.message||a));var e=this.isNot?"not ":"";return this.message=function(){return!b||a!==jasmine.undefined&&this.env.equals_(b.message||b,a.message||a)?"Expected function to throw an exception.":["Expected function "+e+"to throw",a?a.message||a:"an exception",", but it threw",b.message||b].join(" ")},c},jasmine.Matchers.Any=function(a){this.expectedClass=a},jasmine.Matchers.Any.prototype.jasmineMatches=function(a){return this.expectedClass==String?"string"==typeof a||a instanceof String:this.expectedClass==Number?"number"==typeof a||a instanceof Number:this.expectedClass==Function?"function"==typeof a||a instanceof Function:this.expectedClass==Object?"object"==typeof a:a instanceof this.expectedClass},jasmine.Matchers.Any.prototype.jasmineToString=function(){return"<jasmine.any("+this.expectedClass+")>"},jasmine.Matchers.ObjectContaining=function(a){this.sample=a},jasmine.Matchers.ObjectContaining.prototype.jasmineMatches=function(a,b,c){b=b||[],c=c||[];var d=jasmine.getEnv(),e=function(a,b){return null!=a&&a[b]!==jasmine.undefined};for(var f in this.sample)!e(a,f)&&e(this.sample,f)?b.push("expected has key '"+f+"', but missing from actual."):d.equals_(this.sample[f],a[f],b,c)||c.push("'"+f+"' was '"+(a[f]?jasmine.util.htmlEscape(a[f].toString()):a[f])+"' in expected, but was '"+(this.sample[f]?jasmine.util.htmlEscape(this.sample[f].toString()):this.sample[f])+"' in actual.");return 0===b.length&&0===c.length},jasmine.Matchers.ObjectContaining.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+jasmine.pp(this.sample)+")>"},jasmine.FakeTimer=function(){this.reset();var a=this;a.setTimeout=function(b,c){return a.timeoutsMade++,a.scheduleFunction(a.timeoutsMade,b,c,!1),a.timeoutsMade},a.setInterval=function(b,c){return a.timeoutsMade++,a.scheduleFunction(a.timeoutsMade,b,c,!0),a.timeoutsMade},a.clearTimeout=function(b){a.scheduledFunctions[b]=jasmine.undefined},a.clearInterval=function(b){a.scheduledFunctions[b]=jasmine.undefined}},jasmine.FakeTimer.prototype.reset=function(){this.timeoutsMade=0,this.scheduledFunctions={},this.nowMillis=0},jasmine.FakeTimer.prototype.tick=function(a){var b=this.nowMillis,c=b+a;this.runFunctionsWithinRange(b,c),this.nowMillis=c},jasmine.FakeTimer.prototype.runFunctionsWithinRange=function(a,b){var c,d=[];for(var e in this.scheduledFunctions)c=this.scheduledFunctions[e],c!=jasmine.undefined&&c.runAtMillis>=a&&c.runAtMillis<=b&&(d.push(c),this.scheduledFunctions[e]=jasmine.undefined);if(d.length>0){d.sort(function(a,b){return a.runAtMillis-b.runAtMillis});for(var f=0;f<d.length;++f)try{var g=d[f];this.nowMillis=g.runAtMillis,g.funcToCall(),g.recurring&&this.scheduleFunction(g.timeoutKey,g.funcToCall,g.millis,!0)}catch(h){}this.runFunctionsWithinRange(a,b)}},jasmine.FakeTimer.prototype.scheduleFunction=function(a,b,c,d){this.scheduledFunctions[a]={runAtMillis:this.nowMillis+c,funcToCall:b,recurring:d,timeoutKey:a,millis:c}},jasmine.Clock={defaultFakeTimer:new jasmine.FakeTimer,reset:function(){jasmine.Clock.assertInstalled(),jasmine.Clock.defaultFakeTimer.reset()},tick:function(a){jasmine.Clock.assertInstalled(),jasmine.Clock.defaultFakeTimer.tick(a)},runFunctionsWithinRange:function(a,b){jasmine.Clock.defaultFakeTimer.runFunctionsWithinRange(a,b)},scheduleFunction:function(a,b,c,d){jasmine.Clock.defaultFakeTimer.scheduleFunction(a,b,c,d)},useMock:function(){if(!jasmine.Clock.isInstalled()){var a=jasmine.getEnv().currentSpec;a.after(jasmine.Clock.uninstallMock),jasmine.Clock.installMock()}},installMock:function(){jasmine.Clock.installed=jasmine.Clock.defaultFakeTimer},uninstallMock:function(){jasmine.Clock.assertInstalled(),jasmine.Clock.installed=jasmine.Clock.real},real:{setTimeout:jasmine.getGlobal().setTimeout,clearTimeout:jasmine.getGlobal().clearTimeout,setInterval:jasmine.getGlobal().setInterval,clearInterval:jasmine.getGlobal().clearInterval},assertInstalled:function(){if(!jasmine.Clock.isInstalled())throw new Error("Mock clock is not installed, use jasmine.Clock.useMock()")},isInstalled:function(){return jasmine.Clock.installed==jasmine.Clock.defaultFakeTimer},installed:null},jasmine.Clock.installed=jasmine.Clock.real,jasmine.getGlobal().setTimeout=function(a,b){return jasmine.Clock.installed.setTimeout.apply?jasmine.Clock.installed.setTimeout.apply(this,arguments):jasmine.Clock.installed.setTimeout(a,b)},jasmine.getGlobal().setInterval=function(a,b){return jasmine.Clock.installed.setInterval.apply?jasmine.Clock.installed.setInterval.apply(this,arguments):jasmine.Clock.installed.setInterval(a,b)},jasmine.getGlobal().clearTimeout=function(a){return jasmine.Clock.installed.clearTimeout.apply?jasmine.Clock.installed.clearTimeout.apply(this,arguments):jasmine.Clock.installed.clearTimeout(a)},jasmine.getGlobal().clearInterval=function(a){return jasmine.Clock.installed.clearTimeout.apply?jasmine.Clock.installed.clearInterval.apply(this,arguments):jasmine.Clock.installed.clearInterval(a)},jasmine.MultiReporter=function(){this.subReporters_=[]},jasmine.util.inherit(jasmine.MultiReporter,jasmine.Reporter),jasmine.MultiReporter.prototype.addReporter=function(a){this.subReporters_.push(a)},function(){for(var a=["reportRunnerStarting","reportRunnerResults","reportSuiteResults","reportSpecStarting","reportSpecResults","log"],b=0;b<a.length;b++){var c=a[b];jasmine.MultiReporter.prototype[c]=function(a){return function(){for(var b=0;b<this.subReporters_.length;b++){var c=this.subReporters_[b];c[a]&&c[a].apply(c,arguments)}}}(c)}}(),jasmine.NestedResults=function(){this.totalCount=0,this.passedCount=0,this.failedCount=0,this.skipped=!1,this.items_=[]},jasmine.NestedResults.prototype.rollupCounts=function(a){this.totalCount+=a.totalCount,this.passedCount+=a.passedCount,this.failedCount+=a.failedCount},jasmine.NestedResults.prototype.log=function(a){this.items_.push(new jasmine.MessageResult(a))},jasmine.NestedResults.prototype.getItems=function(){return this.items_},jasmine.NestedResults.prototype.addResult=function(a){"log"!=a.type&&(a.items_?this.rollupCounts(a):(this.totalCount++,a.passed()?this.passedCount++:this.failedCount++)),this.items_.push(a)},jasmine.NestedResults.prototype.passed=function(){return this.passedCount===this.totalCount},jasmine.PrettyPrinter=function(){this.ppNestLevel_=0},jasmine.PrettyPrinter.prototype.format=function(a){this.ppNestLevel_++;try{a===jasmine.undefined?this.emitScalar("undefined"):null===a?this.emitScalar("null"):a===jasmine.getGlobal()?this.emitScalar("<global>"):a.jasmineToString?this.emitScalar(a.jasmineToString()):"string"==typeof a?this.emitString(a):jasmine.isSpy(a)?this.emitScalar("spy on "+a.identity):a instanceof RegExp?this.emitScalar(a.toString()):"function"==typeof a?this.emitScalar("Function"):"number"==typeof a.nodeType?this.emitScalar("HTMLNode"):a instanceof Date?this.emitScalar("Date("+a+")"):a.__Jasmine_been_here_before__?this.emitScalar("<circular reference: "+(jasmine.isArray_(a)?"Array":"Object")+">"):jasmine.isArray_(a)||"object"==typeof a?(a.__Jasmine_been_here_before__=!0,jasmine.isArray_(a)?this.emitArray(a):this.emitObject(a),delete a.__Jasmine_been_here_before__):this.emitScalar(a.toString())}finally{this.ppNestLevel_--}},jasmine.PrettyPrinter.prototype.iterateObject=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"__Jasmine_been_here_before__"!=c&&b(c,a.__lookupGetter__?a.__lookupGetter__(c)!==jasmine.undefined&&null!==a.__lookupGetter__(c):!1)},jasmine.PrettyPrinter.prototype.emitArray=jasmine.unimplementedMethod_,jasmine.PrettyPrinter.prototype.emitObject=jasmine.unimplementedMethod_,jasmine.PrettyPrinter.prototype.emitScalar=jasmine.unimplementedMethod_,jasmine.PrettyPrinter.prototype.emitString=jasmine.unimplementedMethod_,jasmine.StringPrettyPrinter=function(){jasmine.PrettyPrinter.call(this),this.string=""},jasmine.util.inherit(jasmine.StringPrettyPrinter,jasmine.PrettyPrinter),jasmine.StringPrettyPrinter.prototype.emitScalar=function(a){this.append(a)},jasmine.StringPrettyPrinter.prototype.emitString=function(a){this.append("'"+a+"'")},jasmine.StringPrettyPrinter.prototype.emitArray=function(a){if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH)return this.append("Array"),void 0;this.append("[ ");for(var b=0;b<a.length;b++)b>0&&this.append(", "),this.format(a[b]);this.append(" ]")},jasmine.StringPrettyPrinter.prototype.emitObject=function(a){if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH)return this.append("Object"),void 0;var b=this;this.append("{ ");var c=!0;this.iterateObject(a,function(d,e){c?c=!1:b.append(", "),b.append(d),b.append(" : "),e?b.append("<getter>"):b.format(a[d])}),this.append(" }")},jasmine.StringPrettyPrinter.prototype.append=function(a){this.string+=a},jasmine.Queue=function(a){this.env=a,this.ensured=[],this.blocks=[],this.running=!1,this.index=0,this.offset=0,this.abort=!1},jasmine.Queue.prototype.addBefore=function(a,b){b===jasmine.undefined&&(b=!1),this.blocks.unshift(a),this.ensured.unshift(b)},jasmine.Queue.prototype.add=function(a,b){b===jasmine.undefined&&(b=!1),this.blocks.push(a),this.ensured.push(b)},jasmine.Queue.prototype.insertNext=function(a,b){b===jasmine.undefined&&(b=!1),this.ensured.splice(this.index+this.offset+1,0,b),this.blocks.splice(this.index+this.offset+1,0,a),this.offset++},jasmine.Queue.prototype.start=function(a){this.running=!0,this.onComplete=a,this.next_()},jasmine.Queue.prototype.isRunning=function(){return this.running},jasmine.Queue.LOOP_DONT_RECURSE=!0,jasmine.Queue.prototype.next_=function(){for(var a=this,b=!0;b;)if(b=!1,a.index<a.blocks.length&&(!this.abort||this.ensured[a.index])){var c=!0,d=!1,e=function(){if(jasmine.Queue.LOOP_DONT_RECURSE&&c)return d=!0,void 0;a.blocks[a.index].abort&&(a.abort=!0),a.offset=0,a.index++;var e=(new Date).getTime();a.env.updateInterval&&e-a.env.lastUpdate>a.env.updateInterval?(a.env.lastUpdate=e,a.env.setTimeout(function(){a.next_()},0)):jasmine.Queue.LOOP_DONT_RECURSE&&d?b=!0:a.next_()};a.blocks[a.index].execute(e),c=!1,d&&e()}else a.running=!1,a.onComplete&&a.onComplete()},jasmine.Queue.prototype.results=function(){for(var a=new jasmine.NestedResults,b=0;b<this.blocks.length;b++)this.blocks[b].results&&a.addResult(this.blocks[b].results());return a},jasmine.Runner=function(a){var b=this;b.env=a,b.queue=new jasmine.Queue(a),b.before_=[],b.after_=[],b.suites_=[]},jasmine.Runner.prototype.execute=function(){var a=this;a.env.reporter.reportRunnerStarting&&a.env.reporter.reportRunnerStarting(this),a.queue.start(function(){a.finishCallback()})},jasmine.Runner.prototype.beforeEach=function(a){a.typeName="beforeEach",this.before_.splice(0,0,a)},jasmine.Runner.prototype.afterEach=function(a){a.typeName="afterEach",this.after_.splice(0,0,a)},jasmine.Runner.prototype.finishCallback=function(){this.env.reporter.reportRunnerResults(this)},jasmine.Runner.prototype.addSuite=function(a){this.suites_.push(a)},jasmine.Runner.prototype.add=function(a){a instanceof jasmine.Suite&&this.addSuite(a),this.queue.add(a)},jasmine.Runner.prototype.specs=function(){for(var a=this.suites(),b=[],c=0;c<a.length;c++)b=b.concat(a[c].specs());return b},jasmine.Runner.prototype.suites=function(){return this.suites_},jasmine.Runner.prototype.topLevelSuites=function(){for(var a=[],b=0;b<this.suites_.length;b++)this.suites_[b].parentSuite||a.push(this.suites_[b]);return a},jasmine.Runner.prototype.results=function(){return this.queue.results()},jasmine.Spec=function(a,b,c){if(!a)throw new Error("jasmine.Env() required");if(!b)throw new Error("jasmine.Suite() required");var d=this;d.id=a.nextSpecId?a.nextSpecId():null,d.env=a,d.suite=b,d.description=c,d.queue=new jasmine.Queue(a),d.afterCallbacks=[],d.spies_=[],d.results_=new jasmine.NestedResults,d.results_.description=c,d.matchersClass=null},jasmine.Spec.prototype.getFullName=function(){return this.suite.getFullName()+" "+this.description+"."},jasmine.Spec.prototype.results=function(){return this.results_},jasmine.Spec.prototype.log=function(){return this.results_.log(arguments)},jasmine.Spec.prototype.runs=function(a){var b=new jasmine.Block(this.env,a,this);return this.addToQueue(b),this},jasmine.Spec.prototype.addToQueue=function(a){this.queue.isRunning()?this.queue.insertNext(a):this.queue.add(a)},jasmine.Spec.prototype.addMatcherResult=function(a){this.results_.addResult(a)},jasmine.Spec.prototype.expect=function(a){var b=new(this.getMatchersClass_())(this.env,a,this);return b.not=new(this.getMatchersClass_())(this.env,a,this,!0),b},jasmine.Spec.prototype.waits=function(a){var b=new jasmine.WaitsBlock(this.env,a,this);return this.addToQueue(b),this},jasmine.Spec.prototype.waitsFor=function(){for(var a=null,b=null,c=null,d=0;d<arguments.length;d++){var e=arguments[d];switch(typeof e){case"function":a=e;break;case"string":b=e;break;case"number":c=e}}var f=new jasmine.WaitsForBlock(this.env,c,a,b,this);return this.addToQueue(f),this},jasmine.Spec.prototype.fail=function(a){var b=new jasmine.ExpectationResult({passed:!1,message:a?jasmine.util.formatException(a):"Exception",trace:{stack:a.stack}});this.results_.addResult(b)},jasmine.Spec.prototype.getMatchersClass_=function(){return this.matchersClass||this.env.matchersClass},jasmine.Spec.prototype.addMatchers=function(a){var b=this.getMatchersClass_(),c=function(){b.apply(this,arguments)};jasmine.util.inherit(c,b),jasmine.Matchers.wrapInto_(a,c),this.matchersClass=c},jasmine.Spec.prototype.finishCallback=function(){this.env.reporter.reportSpecResults(this)},jasmine.Spec.prototype.finish=function(a){this.removeAllSpies(),this.finishCallback(),a&&a()},jasmine.Spec.prototype.after=function(a){this.queue.isRunning()?this.queue.add(new jasmine.Block(this.env,a,this),!0):this.afterCallbacks.unshift(a)},jasmine.Spec.prototype.execute=function(a){var b=this;return b.env.specFilter(b)?(this.env.reporter.reportSpecStarting(this),b.env.currentSpec=b,b.addBeforesAndAftersToQueue(),b.queue.start(function(){b.finish(a)}),void 0):(b.results_.skipped=!0,b.finish(a),void 0)},jasmine.Spec.prototype.addBeforesAndAftersToQueue=function(){for(var a,b=this.env.currentRunner(),c=this.suite;c;c=c.parentSuite)for(a=0;a<c.before_.length;a++)this.queue.addBefore(new jasmine.Block(this.env,c.before_[a],this));for(a=0;a<b.before_.length;a++)this.queue.addBefore(new jasmine.Block(this.env,b.before_[a],this));for(a=0;a<this.afterCallbacks.length;a++)this.queue.add(new jasmine.Block(this.env,this.afterCallbacks[a],this),!0);for(c=this.suite;c;c=c.parentSuite)for(a=0;a<c.after_.length;a++)this.queue.add(new jasmine.Block(this.env,c.after_[a],this),!0);for(a=0;a<b.after_.length;a++)this.queue.add(new jasmine.Block(this.env,b.after_[a],this),!0)},jasmine.Spec.prototype.explodes=function(){throw"explodes function should not have been called"
},jasmine.Spec.prototype.spyOn=function(a,b,c){if(a==jasmine.undefined)throw"spyOn could not find an object to spy upon for "+b+"()";if(!c&&a[b]===jasmine.undefined)throw b+"() method does not exist";if(!c&&a[b]&&a[b].isSpy)throw new Error(b+" has already been spied upon");var d=jasmine.createSpy(b);return this.spies_.push(d),d.baseObj=a,d.methodName=b,d.originalValue=a[b],a[b]=d,d},jasmine.Spec.prototype.removeAllSpies=function(){for(var a=0;a<this.spies_.length;a++){var b=this.spies_[a];b.baseObj[b.methodName]=b.originalValue}this.spies_=[]},jasmine.Suite=function(a,b,c,d){var e=this;e.id=a.nextSuiteId?a.nextSuiteId():null,e.description=b,e.queue=new jasmine.Queue(a),e.parentSuite=d,e.env=a,e.before_=[],e.after_=[],e.children_=[],e.suites_=[],e.specs_=[]},jasmine.Suite.prototype.getFullName=function(){for(var a=this.description,b=this.parentSuite;b;b=b.parentSuite)a=b.description+" "+a;return a},jasmine.Suite.prototype.finish=function(a){this.env.reporter.reportSuiteResults(this),this.finished=!0,"function"==typeof a&&a()},jasmine.Suite.prototype.beforeEach=function(a){a.typeName="beforeEach",this.before_.unshift(a)},jasmine.Suite.prototype.afterEach=function(a){a.typeName="afterEach",this.after_.unshift(a)},jasmine.Suite.prototype.results=function(){return this.queue.results()},jasmine.Suite.prototype.add=function(a){this.children_.push(a),a instanceof jasmine.Suite?(this.suites_.push(a),this.env.currentRunner().addSuite(a)):this.specs_.push(a),this.queue.add(a)},jasmine.Suite.prototype.specs=function(){return this.specs_},jasmine.Suite.prototype.suites=function(){return this.suites_},jasmine.Suite.prototype.children=function(){return this.children_},jasmine.Suite.prototype.execute=function(a){var b=this;this.queue.start(function(){b.finish(a)})},jasmine.WaitsBlock=function(a,b,c){this.timeout=b,jasmine.Block.call(this,a,null,c)},jasmine.util.inherit(jasmine.WaitsBlock,jasmine.Block),jasmine.WaitsBlock.prototype.execute=function(a){jasmine.VERBOSE&&this.env.reporter.log(">> Jasmine waiting for "+this.timeout+" ms..."),this.env.setTimeout(function(){a()},this.timeout)},jasmine.WaitsForBlock=function(a,b,c,d,e){this.timeout=b||a.defaultTimeoutInterval,this.latchFunction=c,this.message=d,this.totalTimeSpentWaitingForLatch=0,jasmine.Block.call(this,a,null,e)},jasmine.util.inherit(jasmine.WaitsForBlock,jasmine.Block),jasmine.WaitsForBlock.TIMEOUT_INCREMENT=10,jasmine.WaitsForBlock.prototype.execute=function(a){jasmine.VERBOSE&&this.env.reporter.log(">> Jasmine waiting for "+(this.message||"something to happen"));var b;try{b=this.latchFunction.apply(this.spec)}catch(c){return this.spec.fail(c),a(),void 0}if(b)a();else if(this.totalTimeSpentWaitingForLatch>=this.timeout){var d="timed out after "+this.timeout+" msec waiting for "+(this.message||"something to happen");this.spec.fail({name:"timeout",message:d}),this.abort=!0,a()}else{this.totalTimeSpentWaitingForLatch+=jasmine.WaitsForBlock.TIMEOUT_INCREMENT;var e=this;this.env.setTimeout(function(){e.execute(a)},jasmine.WaitsForBlock.TIMEOUT_INCREMENT)}},jasmine.version_={major:1,minor:3,build:1,revision:1354556913},+function(a,b){"use strict";a.spiedEventsKey=function(a,c){return[b(a).selector,c].toString()},a.getFixtures=function(){return a.currentFixtures_=a.currentFixtures_||new a.Fixtures},a.getStyleFixtures=function(){return a.currentStyleFixtures_=a.currentStyleFixtures_||new a.StyleFixtures},a.Fixtures=function(){this.containerId="jasmine-fixtures",this.fixturesCache_={},this.fixturesPath="spec/javascripts/fixtures"},a.Fixtures.prototype.set=function(a){return this.cleanUp(),this.createContainer_(a)},a.Fixtures.prototype.appendSet=function(a){this.addToContainer_(a)},a.Fixtures.prototype.preload=function(){this.read.apply(this,arguments)},a.Fixtures.prototype.load=function(){this.cleanUp(),this.createContainer_(this.read.apply(this,arguments))},a.Fixtures.prototype.appendLoad=function(){this.addToContainer_(this.read.apply(this,arguments))},a.Fixtures.prototype.read=function(){for(var a=[],b=arguments,c=b.length,d=0;c>d;d++)a.push(this.getFixtureHtml_(b[d]));return a.join("")},a.Fixtures.prototype.clearCache=function(){this.fixturesCache_={}},a.Fixtures.prototype.cleanUp=function(){b("#"+this.containerId).remove()},a.Fixtures.prototype.sandbox=function(a){var c=a||{};return b('<div id="sandbox" />').attr(c)},a.Fixtures.prototype.createContainer_=function(a){var c=b("<div>").attr("id",this.containerId).html(a);return b(document.body).append(c),c},a.Fixtures.prototype.addToContainer_=function(a){var c=b(document.body).find("#"+this.containerId).append(a);c.length||this.createContainer_(a)},a.Fixtures.prototype.getFixtureHtml_=function(a){return"undefined"==typeof this.fixturesCache_[a]&&this.loadFixtureIntoCache_(a),this.fixturesCache_[a]},a.Fixtures.prototype.loadFixtureIntoCache_=function(a){var c=this.makeFixtureUrl_(a),d=b.ajax({type:"GET",url:c+"?"+(new Date).getTime(),async:!1});this.fixturesCache_[a]=d.responseText},a.Fixtures.prototype.makeFixtureUrl_=function(a){return this.fixturesPath.match("/$")?this.fixturesPath+a:this.fixturesPath+"/"+a},a.Fixtures.prototype.proxyCallTo_=function(a,b){return this[a].apply(this,b)},a.StyleFixtures=function(){this.fixturesCache_={},this.fixturesNodes_=[],this.fixturesPath="spec/javascripts/fixtures"},a.StyleFixtures.prototype.set=function(a){this.cleanUp(),this.createStyle_(a)},a.StyleFixtures.prototype.appendSet=function(a){this.createStyle_(a)},a.StyleFixtures.prototype.preload=function(){this.read_.apply(this,arguments)},a.StyleFixtures.prototype.load=function(){this.cleanUp(),this.createStyle_(this.read_.apply(this,arguments))},a.StyleFixtures.prototype.appendLoad=function(){this.createStyle_(this.read_.apply(this,arguments))},a.StyleFixtures.prototype.cleanUp=function(){for(;this.fixturesNodes_.length;)this.fixturesNodes_.pop().remove()},a.StyleFixtures.prototype.createStyle_=function(a){var c=b("<div></div>").html(a).text(),d=b("<style>"+c+"</style>");this.fixturesNodes_.push(d),b("head").append(d)},a.StyleFixtures.prototype.clearCache=a.Fixtures.prototype.clearCache,a.StyleFixtures.prototype.read_=a.Fixtures.prototype.read,a.StyleFixtures.prototype.getFixtureHtml_=a.Fixtures.prototype.getFixtureHtml_,a.StyleFixtures.prototype.loadFixtureIntoCache_=a.Fixtures.prototype.loadFixtureIntoCache_,a.StyleFixtures.prototype.makeFixtureUrl_=a.Fixtures.prototype.makeFixtureUrl_,a.StyleFixtures.prototype.proxyCallTo_=a.Fixtures.prototype.proxyCallTo_,a.getJSONFixtures=function(){return a.currentJSONFixtures_=a.currentJSONFixtures_||new a.JSONFixtures},a.JSONFixtures=function(){this.fixturesCache_={},this.fixturesPath="spec/javascripts/fixtures/json"},a.JSONFixtures.prototype.load=function(){return this.read.apply(this,arguments),this.fixturesCache_},a.JSONFixtures.prototype.read=function(){for(var a=arguments,b=a.length,c=0;b>c;c++)this.getFixtureData_(a[c]);return this.fixturesCache_},a.JSONFixtures.prototype.clearCache=function(){this.fixturesCache_={}},a.JSONFixtures.prototype.getFixtureData_=function(a){return this.loadFixtureIntoCache_(a),this.fixturesCache_[a]},a.JSONFixtures.prototype.loadFixtureIntoCache_=function(a){var c=this,d=this.fixturesPath.match("/$")?this.fixturesPath+a:this.fixturesPath+"/"+a;b.ajax({async:!1,cache:!1,dataType:"json",url:d,success:function(b){c.fixturesCache_[a]=b},error:function(a,b,c){throw new Error("JSONFixture could not be loaded: "+d+" (status: "+b+", message: "+c.message+")")}})},a.JSONFixtures.prototype.proxyCallTo_=function(a,b){return this[a].apply(this,b)},a.JQuery=function(){},a.JQuery.browserTagCaseIndependentHtml=function(a){return b("<div/>").append(a).html()},a.JQuery.elementToString=function(a){var c=b(a).get(0);return void 0===c||c.cloneNode?b("<div />").append(b(a).clone()).html():a.toString()},a.JQuery.matchersClass={},!function(c){var d={spiedEvents:{},handlers:[]};c.events={spyOn:function(c,e){var f=function(){d.spiedEvents[a.spiedEventsKey(c,e)]=a.util.argsToArray(arguments)};return b(c).on(e,f),d.handlers.push(f),{selector:c,eventName:e,handler:f,reset:function(){delete d.spiedEvents[a.spiedEventsKey(c,e)]}}},args:function(b,c){var e=d.spiedEvents[a.spiedEventsKey(b,c)];if(!e)throw"There is no spy for "+c+" on "+b.toString()+". Make sure to create a spy using spyOnEvent.";return e},wasTriggered:function(b,c){return!!d.spiedEvents[a.spiedEventsKey(b,c)]},wasTriggeredWith:function(b,c,d,e){var f=a.JQuery.events.args(b,c).slice(1);return"[object Array]"!==Object.prototype.toString.call(d)&&(f=f[0]),e.equals_(d,f)},wasPrevented:function(b,c){var e=d.spiedEvents[a.spiedEventsKey(b,c)],f=e?e[0]:void 0;return f&&f.isDefaultPrevented()},wasStopped:function(b,c){var e=d.spiedEvents[a.spiedEventsKey(b,c)],f=e?e[0]:void 0;return f&&f.isPropagationStopped()},cleanUp:function(){d.spiedEvents={},d.handlers=[]}}}(a.JQuery),!function(){var c={toHaveClass:function(a){return this.actual.hasClass(a)},toHaveCss:function(a){for(var b in a)if(this.actual.css(b)!==a[b])return!1;return!0},toBeVisible:function(){return this.actual.is(":visible")},toBeHidden:function(){return this.actual.is(":hidden")},toBeSelected:function(){return this.actual.is(":selected")},toBeChecked:function(){return this.actual.is(":checked")},toBeEmpty:function(){return this.actual.is(":empty")},toExist:function(){return b(document).find(this.actual).length},toHaveLength:function(a){return this.actual.length===a},toHaveAttr:function(a,b){return d(this.actual.attr(a),b)},toHaveProp:function(a,b){return d(this.actual.prop(a),b)},toHaveId:function(a){return this.actual.attr("id")==a},toHaveHtml:function(b){return this.actual.html()==a.JQuery.browserTagCaseIndependentHtml(b)},toContainHtml:function(b){var c=this.actual.html(),d=a.JQuery.browserTagCaseIndependentHtml(b);return c.indexOf(d)>=0},toHaveText:function(a){var c=b.trim(this.actual.text());return a&&b.isFunction(a.test)?a.test(c):c==a},toContainText:function(a){var c=b.trim(this.actual.text());return a&&b.isFunction(a.test)?a.test(c):-1!=c.indexOf(a)},toHaveValue:function(a){return this.actual.val()===a},toHaveData:function(a,b){return d(this.actual.data(a),b)},toBe:function(a){return this.actual.is(a)},toContain:function(a){return this.actual.find(a).length},toBeMatchedBy:function(a){return this.actual.filter(a).length},toBeDisabled:function(){return this.actual.is(":disabled")},toBeFocused:function(){return this.actual[0]===this.actual[0].ownerDocument.activeElement},toHandle:function(a){var c=b._data(this.actual.get(0),"events");if(!c||!a||"string"!=typeof a)return!1;var d=a.split("."),e=d.shift(),f=d.slice(0).sort(),g=new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.)?")+"(\\.|$)");if(!c[e]||!d.length)return c[e]&&c[e].length>0;for(var h=0;h<c[e].length;h++){var i=c[e][h].namespace;if(g.test(i))return!0}},toHandleWith:function(a,c){for(var d=a.split(".")[0],e=b._data(this.actual.get(0),"events")[d],f=0;f<e.length;f++)if(e[f].handler==c)return!0;return!1}},d=function(a,b){return void 0===b?void 0!==a:a==b},e=function(d){var e=a.Matchers.prototype[d];a.JQuery.matchersClass[d]=function(){if(this.actual&&(this.actual instanceof b||a.isDomNode(this.actual))){this.actual=b(this.actual);var f,g=c[d].apply(this,arguments);return this.actual.get&&(f=this.actual.get()[0])&&!b.isWindow(f)&&"HTML"!==f.tagName&&(this.actual=a.JQuery.elementToString(this.actual)),g}return e?e.apply(this,arguments):!1}};for(var f in c)e(f)}(),beforeEach(function(){this.addMatchers(a.JQuery.matchersClass),this.addMatchers({toHaveBeenTriggeredOn:function(b){return this.message=function(){return["Expected event "+this.actual+" to have been triggered on "+b,"Expected event "+this.actual+" not to have been triggered on "+b]},a.JQuery.events.wasTriggered(b,this.actual)}}),this.addMatchers({toHaveBeenTriggered:function(){var b=this.actual.eventName,c=this.actual.selector;return this.message=function(){return["Expected event "+b+" to have been triggered on "+c,"Expected event "+b+" not to have been triggered on "+c]},a.JQuery.events.wasTriggered(c,b)}}),this.addMatchers({toHaveBeenTriggeredOnAndWith:function(){var b=arguments[0],c=arguments[1],d=a.JQuery.events.wasTriggered(b,this.actual);return this.message=function(){if(d){var e=a.JQuery.events.args(b,this.actual,c)[1];return["Expected event "+this.actual+" to have been triggered with "+a.pp(c)+"  but it was triggered with "+a.pp(e),"Expected event "+this.actual+" not to have been triggered with "+a.pp(c)+" but it was triggered with "+a.pp(e)]}return["Expected event "+this.actual+" to have been triggered on "+b,"Expected event "+this.actual+" not to have been triggered on "+b]},d&&a.JQuery.events.wasTriggeredWith(b,this.actual,c,this.env)}}),this.addMatchers({toHaveBeenPreventedOn:function(b){return this.message=function(){return["Expected event "+this.actual+" to have been prevented on "+b,"Expected event "+this.actual+" not to have been prevented on "+b]},a.JQuery.events.wasPrevented(b,this.actual)}}),this.addMatchers({toHaveBeenPrevented:function(){var b=this.actual.eventName,c=this.actual.selector;return this.message=function(){return["Expected event "+b+" to have been prevented on "+c,"Expected event "+b+" not to have been prevented on "+c]},a.JQuery.events.wasPrevented(c,b)}}),this.addMatchers({toHaveBeenStoppedOn:function(b){return this.message=function(){return["Expected event "+this.actual+" to have been stopped on "+b,"Expected event "+this.actual+" not to have been stopped on "+b]},a.JQuery.events.wasStopped(b,this.actual)}}),this.addMatchers({toHaveBeenStopped:function(){var b=this.actual.eventName,c=this.actual.selector;return this.message=function(){return["Expected event "+b+" to have been stopped on "+c,"Expected event "+b+" not to have been stopped on "+c]},a.JQuery.events.wasStopped(c,b)}}),a.getEnv().addEqualityTester(function(b,c){if(b instanceof jQuery&&c instanceof jQuery){if(b.size()!=c.size())return a.undefined;if(b.is(c))return!0}return a.undefined})}),afterEach(function(){a.getFixtures().cleanUp(),a.getStyleFixtures().cleanUp(),a.JQuery.events.cleanUp()})}(window.jasmine,window.jQuery)+function(a,b){"use strict";b.readFixtures=function(){return a.getFixtures().proxyCallTo_("read",arguments)},b.preloadFixtures=function(){a.getFixtures().proxyCallTo_("preload",arguments)},b.loadFixtures=function(){a.getFixtures().proxyCallTo_("load",arguments)},b.appendLoadFixtures=function(){a.getFixtures().proxyCallTo_("appendLoad",arguments)},b.setFixtures=function(){return a.getFixtures().proxyCallTo_("set",arguments)},b.appendSetFixtures=function(){a.getFixtures().proxyCallTo_("appendSet",arguments)},b.sandbox=function(b){return a.getFixtures().sandbox(b)},b.spyOnEvent=function(b,c){return a.JQuery.events.spyOn(b,c)},b.preloadStyleFixtures=function(){a.getStyleFixtures().proxyCallTo_("preload",arguments)},b.loadStyleFixtures=function(){a.getStyleFixtures().proxyCallTo_("load",arguments)},b.appendLoadStyleFixtures=function(){a.getStyleFixtures().proxyCallTo_("appendLoad",arguments)},b.setStyleFixtures=function(){a.getStyleFixtures().proxyCallTo_("set",arguments)},b.appendSetStyleFixtures=function(){a.getStyleFixtures().proxyCallTo_("appendSet",arguments)},b.loadJSONFixtures=function(){return a.getJSONFixtures().proxyCallTo_("load",arguments)},b.getJSONFixture=function(b){return a.getJSONFixtures().proxyCallTo_("read",arguments)[b]}}(jasmine,window),describe("AppointmentCalendarView",function(){var a,b,c="13:00",d=JSON.parse('[{"_id":1,"date":"2013-09-19","title":"Checkup", "doc":"none"},{"_id":2,"date":"2013-09-01","title":"Gyno Appt", "doc":"none"},{"_id":3,"date":"2013-09-01","title":"MRI Screening", "doc":"none"}]');beforeEach(function(){spyOn(Parse.User,"current").andReturn({id:25}),b=new $dino.AppointmentList(d);for(var e=1;4>e;e++){var f=b.models[e-1],g=f.get("date"),h=moment(g+" "+c).valueOf();b.models[e-1].set("date",h)}spyOn(b,"fetch").andCallFake(function(a){a.success(b)}),a=new $dino.AppointmentsView({collection:b})}),afterEach(function(){a.unbind(),a.remove()}),it("renders",function(){var b=!1;runs(function(){a.render(),setTimeout(function(){b=!0},250)}),waitsFor(function(){return b},"datebox to render",251),runs(function(){expect(a.$(".ui-datebox-gridlabel h4").text()).toEqual(moment().format("MMMM YYYY")),expect(a.$(".ui-datebox-container")).not.toBeEmpty()})}),it("loads appointments",function(){var b=!1;runs(function(){a.render(),setTimeout(function(){b=!0},250)}),waitsFor(function(){return b},"datebox to render",251),runs(function(){spyOn(a,"loadApptItem").andCallThrough(),a.$("#mydate").val("2013-09-19"),a.changeDate(null,{method:"set",value:"2013-09-19"}),expect(a.loadApptItem).toHaveBeenCalled(),expect(a.$("#currDate").text()).toEqual("2013-09-19"),expect(a.$("#dayAppts")).not.toBeEmpty(),expect(a.$(".ui-li-count").text()).toEqual("1:00 PM"),expect(a.$('h3:contains("Checkup")')).not.toBeEmpty()})}),it("loads multiple appointments on a day",function(){var b=!1;runs(function(){a.render(),setTimeout(function(){b=!0},250)}),waitsFor(function(){return b},"datebox to render",251),runs(function(){spyOn(a,"loadApptItem").andCallThrough(),a.$("#mydate").val("2013-09-01"),a.changeDate(null,{method:"set",value:"2013-09-01"}),expect(a.$("#dayAppts .ui-li-heading").length).toEqual(2),expect(a.loadApptItem).toHaveBeenCalled(),expect(a.loadApptItem.calls.length).toEqual(2),expect(a.$("#currDate").text()).toEqual("2013-09-01"),expect(a.$("#dayAppts")).not.toBeEmpty(),expect(a.$('h3:contains("Checkup")')).not.toBeEmpty()})})}),describe("AppointmentModifyView",function(){var a,b,c;b=new $dino.MockAppointment({title:"Brain Examination",date:moment().format("YYYY-MM-DD"),newDate:moment().startOf("hour").toDate()}),b.id="10",beforeEach(function(){a=new $dino.AppointmentModifyView({model:b})}),afterEach(function(){a.unbind(),a.remove(),delete c}),it("renders",function(){a.render(),expect(a.$("#apptId").val()).toEqual(b.id),expect(a.$("#title").val()).toEqual(b.get("title")),expect(a.$("#appt-date").val()).toEqual(b.get("date"))}),it("loads bugs into a select menu",function(){collData='[{"objectId":1,"title":"Migrane"},{"objectId":2,"title":"Strep Throat"},{"objectId":3,"title":"Tendonitis"}]',c=new $dino.BugList(JSON.parse(collData)),spyOn(c,"fetch").andCallFake(function(a,b){"bug"==b&&a.success(c)}),spyOn(a.$("#select-bug"),"selectmenu"),spyOn(a,"getCollection").andReturn(c),a.render(),expect(a.getCollection).toHaveBeenCalled(),expect(a.getCollection.calls.length).toEqual(2),expect(a.$("#select-bug")).not.toBeEmpty(),expect(a.$("#select-bug option").length).toEqual(4),expect($(a.$("#select-bug option")[0]).val()).toEqual("none"),expect($(a.$("#select-bug option")[1]).text()).toEqual(c.models[0].get("title")),expect($(a.$("#select-bug option")[2]).text()).toEqual(c.models[1].get("title")),expect($(a.$("#select-bug option")[3]).text()).toEqual(c.models[2].get("title"))})}),describe("AppointmentNewView",function(){var a;beforeEach(function(){a=new $dino.NewApptView}),afterEach(function(){a.unbind(),a.remove()}),it("renders",function(){spyOn(Parse.User,"current").andReturn({id:25}),a.render(),expect(a.$("#appt-date").val()).toEqual(moment().format("YYYY-MM-DD"))})}),describe("BugDetailView",function(){var a;beforeEach(function(){a=new $dino.BugDetailView,Parse={User:{current:function(){return{id:"testid"}}}}}),afterEach(function(){a.unbind(),a.remove()}),it("renders",function(){a.model=new $dino.MockBug,a.render(),expect(a.$el).not.toBeEmpty(),console.log(a.el),expect(a.$("#symptomList").text().trim()).toEqual("No Symptoms Recorded"),expect(a.$("#medicationList").text().trim()).toEqual("No Medications Recorded")}),it("populates lists",function(){var b=new $dino.MockBug({symptom:[{id:"5260b7c8ecab4cbc0b000066",title:"Nausea"},{id:"5260b7c8ecab4cbc0b343200066",title:"Headache"}],medication:[{id:"5260b7c8ecab4cbc0b000066",title:"Tylenol"}]});a.model=b,a.render(),console.log(a.el),expect(a.$("#symptomList li").length).toEqual(2),expect(a.$("#medicationList li").length).toEqual(1),expect(a.$("#medicationList li .itemName").text()).toEqual("Tylenol")})}),describe("BugListView",function(){var a,b,c;c='[{"_id":"1","bugStatus":"Open","assignedTo":"Dr. Roberts","bugPriority":3,"title":"Flu","symptoms":["Stuffy Nose","Headache"],"doctor":"Dr. Normal","medications":[],"tests":[]},{"_id":"2","bugStatus":"Assigned","assignedTo":"Dr. Day","bugPriority":4,"title":"Strep Throat","symptoms":["Sore Throat"],"doctor":"Dr. Dangerous","medications":[],"tests":[]},{"_id":"3","bugStatus":"Assigned","assignedTo":"Dr. Day","bugPriority":2,"title":"Diabetes","symptoms":["Low Blood Sugar"],"doctor":"Dr. Safety","medications":["Insulin 30cc"],"tests":["Glucose Test"]}]',beforeEach(function(){b=new $dino.BugList(JSON.parse(c)),a=new $dino.BugListView({collection:b}),spyOn(b,"fetch").andCallFake(function(){b.comparator=a.sortList,b.sort();for(var c=0;c<b.length;c++)a.addOne(b.models[c])})}),afterEach(function(){a.unbind(),a.remove()}),it("renders",function(){spyOn(a,"addOne"),expect(a.$el).toBeEmpty(),spyOn(Parse.User,"current").andReturn({id:25}),a.render(),expect(b.fetch).toHaveBeenCalled(),expect(a.$el).not.toBeEmpty()})}),describe("ConditionItemView",function(){var a,b;beforeEach(function(){b=new $dino.MockBug({assignedTo:"Dr. Wolfson",bugDetails:"Stuff",bugPriority:4,bugStatus:"assigned",_id:"123"}),a=new $dino.ConditionListItemView({model:b})}),it("renders",function(){a.render(),expect(a.$el).not.toBeEmpty()})}),describe("FooterView",function(){var a;beforeEach(function(){a=new $dino.FooterView}),afterEach(function(){a.destroy()}),it("renders",function(){a.render(),expect(a.$el).not.toBeEmpty()})}),describe("ListNewView",function(){var a;beforeEach(function(){a=new $dino.ListNewView({modelType:$dino.Symptom,header:"Symptoms"})}),afterEach(function(){a.destroy()}),it("renders",function(){a.render(),expect(a.$el).not.toBeEmpty()})}),describe("LoginView",function(){var a;beforeEach(function(){a=new $dino.StartLoginView}),afterEach(function(){null!=Parse.User.current()&&(runs(function(){Parse.User.logOut()}),waitsFor(function(){return null==Parse.User.current()})),$dino.app=null}),it("should exist",function(){expect(a).toBeDefined()}),it("should be able to render",function(){a.render(),expect(a.$el).toBeDefined()}),it("throws login errors on empty password/email",function(){a.render(),a.login(),expect(a.$("#error").html()).toEqual("Don't forget to fill out all the fields!")}),it("lets user logs in",function(){a.render(),a.$("#email").val("jasmine"),a.$("#password").val("test"),runs(function(){a.login()}),waitsFor(function(){return null!=Parse.User.current()},"User should be logged in",1500),runs(function(){expect(Parse.User.current()).toBeDefined(),expect(Parse.User.current().getUsername()).toEqual("jasmine")})}),it("navigates to symptom on login",function(){$dino.app=jasmine.createSpyObj("app",["navigate"]),a.render(),a.$("#email").val("jasmine"),a.$("#password").val("test"),runs(function(){a.login()}),waitsFor(function(){return null!=Parse.User.current()},"User should be logged in",1500),runs(function(){expect($dino.app.navigate).toHaveBeenCalled(),expect($dino.app.navigate).toHaveBeenCalledWith("symptoms",{trigger:!0})})})}),describe("Player",function(){var a,b;beforeEach(function(){a=new Player,b=new Song}),it("should be able to play a Song",function(){a.play(b),expect(a.currentlyPlayingSong).toEqual(b),expect(a).toBePlaying(b)}),describe("when song has been paused",function(){beforeEach(function(){a.play(b),a.pause()}),it("should indicate that the song is currently paused",function(){expect(a.isPlaying).toBeFalsy(),expect(a).not.toBePlaying(b)}),it("should be possible to resume",function(){a.resume(),expect(a.isPlaying).toBeTruthy(),expect(a.currentlyPlayingSong).toEqual(b)})}),it("tells the current song if the user has made it a favorite",function(){spyOn(b,"persistFavoriteStatus"),a.play(b),a.makeFavorite(),expect(b.persistFavoriteStatus).toHaveBeenCalledWith(!0)}),describe("#resume",function(){it("should throw an exception if song is already playing",function(){a.play(b),expect(function(){a.resume()}).toThrow("song is already playing")})})}),describe("PlusListView",function(){var a,b;beforeEach(function(){b=new $dino.SymptomList,a=new $dino.BugListView({modelType:$dino.Symptom,header:"Symptom",collection:b,name:"symptom"})}),afterEach(function(){a.destroy()}),it("renders",function(){spyOn(a,"renderList"),a.render(),expect(a.renderList).toHaveBeenCalled(),expect(a.$el).toBeDefined()})}),Backbone.Model.prototype.save=function(a,b){this.set(a),b&&b.success()},Backbone.Model.prototype.destroy=function(a){a.success()},beforeEach(function(){window.$dino.app=$dino.app||{navigate:function(){}},spyOn($dino.app,"navigate")}),describe("SymptomListItemView",function(){var a,b;beforeEach(function(){spyOn(Parse.User,"current").andReturn({id:25}),b=new $dino.Symptom,b.set({_id:"123"}),a=new $dino.SymptomListItemView({model:b})}),afterEach(function(){a.destroy()}),it("renders",function(){expect(a.$el).toBeEmpty(),a.render(),expect(a.$el).not.toBeEmpty(),expect(a.$(".symptom-title").text().trim()).toEqual("New Symptom")}),it("opens severity slider",function(){a.render(),a.setSeverity(),expect(a.$("#severity").val()).toEqual("0"),expect(a.$("#severity")).toBeHidden()}),it("opens and closes severity slider",function(){a.render(),a.setSeverity(),expect(a.settingSeverity).toBeTruthy(),expect(a.$("#severity").length).toEqual(1),a.resetTitle(),expect(a.$("#severity")).toBeHidden(),expect(a.settingSeverity).toBeFalsy(),a.setSeverity(),expect(a.settingSeverity).toBeTruthy(),expect(a.$("#severity").length).toEqual(1)}),it("can plusOne",function(){spyOn(a.model,"save"),a.render(),a.clickPlus(),expect(a.model.get("count")).toEqual(1),expect(a.model.save.calls.length).toEqual(1)}),it("plusOnes with severity",function(){a.render(),spyOn(a.model,"save"),a.clickPlus(),expect(a.model.save.calls.length).toEqual(1),runs(function(){a.setSeverity(),a.$("#severity").val("5"),a.debounceSaveSeverity()}),waitsFor(function(){return 5==a.plusOne.get("severity")},"severity to set on model",2100),runs(function(){expect(a.plusOne.get("severity")).toEqual(5)})}),it("plusOnes with notes",function(){a.render(),spyOn(a.model,"save"),a.clickPlus(),runs(function(){a.setSeverity(),expect(a.$("#symptom-notes").length).toEqual(1),a.$("#symptom-notes").val("Test Note"),a.debounceSaveSeverity()}),waitsFor(function(){return"Test Note"==a.plusOne.get("notes")},"notes to set on model",2100),runs(function(){expect(a.plusOne.get("notes")).toEqual("Test Note")})}),it("can be deleted",function(){spyOn(a.model,"destroy"),a.render(),a.confirmDelete(),expect(a.deleteDialog).toBeDefined(),a.deleteDialog.deleteItem(),expect(a.model.destroy.calls.length).toEqual(1)})}),$dino.MockBug=Backbone.Model.extend({defaults:function(){return{bugStatus:"Open",bugPriority:1,title:"New Bug",symptoms:[],doctor:"",medications:[],tests:[]}},save:function(){return this.toJSON()}}),$dino.MockBugList=Backbone.Collection.extend({model:$dino.MockBug}),$dino.MockColor=Backbone.Model.extend({}),$dino.MockAppointment=Backbone.Model.extend({defaults:function(){return{date:new Date,title:"New Appointment"}}}),$dino.MockAppointmentList=Backbone.Collection.extend({model:$dino.MockAppointment}),Player.prototype.play=function(a){this.currentlyPlayingSong=a,this.isPlaying=!0},Player.prototype.pause=function(){this.isPlaying=!1},Player.prototype.resume=function(){if(this.isPlaying)throw new Error("song is already playing");this.isPlaying=!0},Player.prototype.makeFavorite=function(){this.currentlyPlayingSong.persistFavoriteStatus(!0)},Song.prototype.persistFavoriteStatus=function(){throw new Error("not yet implemented")};